<!DOCTYPE html>
<html lang="ko">
<head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>ì œê³±ê·¼ íƒí—˜ëŒ€ â€” ì¤‘3 ìˆ˜í•™</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0f172a;--bg2:#1e293b;--bg3:#334155;
  --teal:#2dd4bf;--blue:#38bdf8;--green:#34d399;
  --amber:#f59e0b;--pink:#f472b6;--red:#f87171;
  --text:#e2e8f0;--muted:#94a3b8;--border:rgba(255,255,255,.08);
  --r:14px;
}
html,body{height:100%;background:var(--bg);color:var(--text);
  font-family:'Segoe UI','Apple SD Gothic Neo',sans-serif;overflow-x:hidden}
.screen{display:none}.screen.active{display:block}
#result-screen.active{display:flex}

/* â”€â”€ Title â”€â”€ */
#title-screen{min-height:100vh;padding:2rem 1rem 3rem}
.game-header{text-align:center;padding:1.5rem 0 2rem}
.game-icon{font-size:3.5rem;font-weight:900;color:var(--teal);display:block;
  margin-bottom:.5rem;animation:float 3s ease-in-out infinite;font-family:serif}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
.game-title{font-size:clamp(1.8rem,5vw,2.8rem);font-weight:900;
  background:linear-gradient(135deg,var(--teal),var(--blue));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.game-sub{color:var(--muted);margin-top:.4rem;font-size:.95rem}

.score-bar{display:flex;align-items:center;justify-content:center;gap:1.5rem;
  background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);
  padding:.75rem 1.5rem;max-width:400px;margin:0 auto 1.5rem}
.score-num{font-size:1.5rem;font-weight:900;color:var(--teal)}
.score-lbl{font-size:.75rem;color:var(--muted)}

.chapter-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
  gap:1rem;max-width:760px;margin:0 auto}
.ch-card{background:var(--bg2);border:1px solid var(--border);border-radius:var(--r);
  padding:1.25rem 1rem;cursor:pointer;text-align:center;
  transition:transform .2s,box-shadow .2s,border-color .2s}
.ch-card:hover{transform:translateY(-4px);box-shadow:0 12px 30px rgba(0,0,0,.4);border-color:var(--teal)}
.ch-card.cleared{border-color:rgba(52,211,153,.4);background:rgba(52,211,153,.05)}
.ch-card.cleared .ch-check{display:inline}
.ch-check{display:none;color:var(--green);font-size:.85rem;margin-left:.3rem}
.ch-icon{font-size:2rem;margin-bottom:.4rem}
.ch-num{font-size:.7rem;color:var(--teal);font-weight:700;letter-spacing:.05em;
  text-transform:uppercase;margin-bottom:.2rem}
.ch-name{font-size:.9rem;font-weight:700;line-height:1.3}
.ch-sub{font-size:.72rem;color:var(--muted);margin-top:.3rem}
.ch-bar{height:4px;background:var(--bg3);border-radius:100px;margin-top:.75rem}
.ch-bar-fill{height:100%;border-radius:100px;background:var(--teal);transition:width .5s}
.hint-info{text-align:center;font-size:.72rem;color:var(--muted);margin-top:1rem}
.reset-btn{background:none;border:1px solid var(--border);color:var(--muted);
  border-radius:8px;padding:.35rem .9rem;font-size:.78rem;cursor:pointer;margin-top:.8rem}

/* â”€â”€ Quiz â”€â”€ */
#quiz-screen{min-height:100vh;padding-bottom:2rem}
.quiz-header{display:flex;align-items:center;justify-content:space-between;
  padding:.75rem 1rem;background:var(--bg2);border-bottom:1px solid var(--border);gap:.5rem;flex-wrap:wrap}
.q-ch-label{font-size:.8rem;color:var(--teal);font-weight:700;flex:1}
.q-score-label{font-size:.85rem;font-weight:700;color:var(--amber)}
.home-btn{background:var(--bg3);border:none;color:var(--text);
  border-radius:8px;padding:.3rem .8rem;font-size:.8rem;cursor:pointer}
.quiz-prog{height:4px;background:var(--bg3)}
.quiz-prog-fill{height:100%;background:linear-gradient(90deg,var(--teal),var(--blue));transition:width .4s}
.quiz-body{display:grid;grid-template-columns:1fr 300px;gap:1.5rem;
  max-width:900px;margin:0 auto;padding:1.5rem 1rem}
@media(max-width:640px){.quiz-body{grid-template-columns:1fr}.concept-panel{display:none}}
.q-num{font-size:.78rem;color:var(--muted);margin-bottom:.5rem}
.q-text{font-size:1.1rem;font-weight:700;line-height:1.5;margin-bottom:.75rem}
.q-expr{font-family:monospace;font-size:1.1rem;color:var(--teal);
  background:var(--bg2);border:1px solid var(--border);border-radius:10px;
  padding:.6rem 1rem;margin-bottom:.75rem;text-align:center}
.choices{display:grid;grid-template-columns:1fr 1fr;gap:.6rem;margin-bottom:.8rem}
.choice{background:var(--bg2);border:1px solid var(--border);color:var(--text);
  border-radius:10px;padding:.7rem .5rem;font-size:.95rem;cursor:pointer;
  text-align:center;transition:background .15s,border-color .15s;font-weight:600}
.choice:hover:not(.disabled){background:var(--bg3);border-color:var(--teal)}
.choice.correct{background:rgba(52,211,153,.15);border-color:var(--green);color:var(--green)}
.choice.wrong{background:rgba(248,113,113,.15);border-color:var(--red);color:var(--red)}
.choice.disabled{cursor:default}
.feedback{border-radius:10px;padding:.75rem 1rem;font-size:.85rem;
  line-height:1.6;display:none}
.feedback.show{display:block}
.feedback.ok{background:rgba(52,211,153,.1);border:1px solid rgba(52,211,153,.3)}
.feedback.ng{background:rgba(248,113,113,.1);border:1px solid rgba(248,113,113,.3)}
.fb-steps{margin-top:.5rem;display:flex;flex-direction:column;gap:.2rem}
.fb-step{font-size:.82rem;color:var(--muted)}
.fb-step code{color:var(--teal);background:var(--bg3);padding:.1rem .3rem;border-radius:4px}
.btn-next{display:none;width:100%;margin-top:.75rem;
  background:linear-gradient(135deg,var(--teal),var(--blue));
  border:none;color:#0f172a;border-radius:10px;padding:.75rem;
  font-size:.95rem;font-weight:800;cursor:pointer;transition:opacity .2s}
.btn-next.show{display:block}
.btn-next:hover{opacity:.9}

/* â”€â”€ Concept Panel â”€â”€ */
.concept-panel{background:var(--bg2);border:1px solid var(--border);
  border-radius:var(--r);padding:1.25rem;height:fit-content;position:sticky;top:1rem}
.cp-title{font-size:.82rem;font-weight:800;color:var(--teal);
  text-transform:uppercase;letter-spacing:.06em;margin-bottom:.75rem}
.cp-svg{margin-bottom:.75rem}
.cp-svg svg{width:100%;height:auto}
.cp-rule{font-size:.8rem;line-height:1.55;color:var(--text);
  padding:.4rem .6rem;background:var(--bg3);border-radius:8px;margin-bottom:.4rem}
.cp-rule strong{color:var(--teal)}
.cp-ex{font-size:.78rem;color:var(--muted);margin-top:.6rem;
  font-family:monospace;background:var(--bg3);padding:.4rem .6rem;border-radius:6px}

/* â”€â”€ Result â”€â”€ */
#result-screen{min-height:100vh;flex-direction:column;
  align-items:center;justify-content:center;padding:2rem 1rem;text-align:center}
.result-icon{font-size:4rem;margin-bottom:.75rem}
.result-title{font-size:1.8rem;font-weight:900;
  background:linear-gradient(135deg,var(--teal),var(--green));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:.3rem}
.result-score{font-size:2.5rem;font-weight:900;color:var(--teal);margin:.5rem 0}
.result-stats{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;margin:1rem 0}
.r-stat{background:var(--bg2);border:1px solid var(--border);border-radius:10px;
  padding:.75rem 1.5rem;min-width:100px}
.r-stat-lbl{font-size:.72rem;color:var(--muted);margin-bottom:.2rem}
.r-stat-val{font-size:1.2rem;font-weight:800;color:var(--text)}
.r-btns{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap;margin-top:1rem}
.r-btn{border:none;border-radius:10px;padding:.65rem 1.5rem;
  font-size:.9rem;font-weight:700;cursor:pointer}
.r-btn-home{background:var(--bg2);color:var(--text)}
.r-btn-retry{background:linear-gradient(135deg,var(--teal),var(--blue));color:#0f172a}
</style>
</head>
<body>

<!-- â•â•â• TITLE â•â•â• -->
<div id="title-screen" class="screen active">
  <div class="game-header">
    <span class="game-icon">âˆš</span>
    <div class="game-title">ì œê³±ê·¼ íƒí—˜ëŒ€</div>
    <div class="game-sub">ì¤‘3 ìˆ˜í•™ â€” ì œê³±ê·¼ê³¼ ì‹¤ìˆ˜ë¥¼ ì™„ì „ ì •ë³µ!</div>
  </div>
  <div class="score-bar">
    <div><div class="score-num" id="total-score">0</div><div class="score-lbl">ì´ ì ìˆ˜</div></div>
    <div style="width:1px;height:2rem;background:var(--border)"></div>
    <div><div class="score-num" id="total-cleared">0/6</div><div class="score-lbl">ì™„ë£Œ ì±•í„°</div></div>
  </div>
  <div class="chapter-grid" id="chapter-grid"></div>
  <div class="hint-info">ì±•í„°ë‹¹ 10ë¬¸ì œ Â· ëª¨ë“  ì±•í„° ì²˜ìŒë¶€í„° í•´ì œ</div>
  <div style="text-align:center">
    <button class="reset-btn" onclick="resetAll()">ğŸ—‘ ê¸°ë¡ ì´ˆê¸°í™”</button>
  </div>
</div>

<!-- â•â•â• QUIZ â•â•â• -->
<div id="quiz-screen" class="screen">
  <div class="quiz-header">
    <div class="q-ch-label" id="q-ch-label"></div>
    <div class="q-score-label" id="q-score-label">0ì </div>
    <button class="home-btn" onclick="showChapters()">ì±•í„° ì„ íƒ</button>
  </div>
  <div class="quiz-prog"><div class="quiz-prog-fill" id="q-prog-fill"></div></div>
  <div class="quiz-body">
    <div class="quiz-left">
      <div class="q-num" id="q-num"></div>
      <div class="q-text" id="q-text"></div>
      <div class="q-expr" id="q-expr" style="display:none"></div>
      <div class="choices" id="choices"></div>
      <div class="feedback" id="feedback"></div>
      <button class="btn-next" id="btn-next" onclick="nextQ()">ë‹¤ìŒ ë¬¸ì œ â†’</button>
    </div>
    <div class="concept-panel" id="concept-panel"></div>
  </div>
</div>

<!-- â•â•â• RESULT â•â•â• -->
<div id="result-screen" class="screen">
  <div class="result-icon" id="r-icon">ğŸ†</div>
  <div class="result-title" id="r-title">ì±•í„° í´ë¦¬ì–´!</div>
  <div class="result-score" id="r-score">0ì </div>
  <div class="result-stats">
    <div class="r-stat"><div class="r-stat-lbl">ì •ë‹µ</div><div class="r-stat-val" id="r-correct">-</div></div>
    <div class="r-stat"><div class="r-stat-lbl">ì •í™•ë„</div><div class="r-stat-val" id="r-acc">-</div></div>
    <div class="r-stat"><div class="r-stat-lbl">íšë“ ì ìˆ˜</div><div class="r-stat-val" id="r-pts">-</div></div>
  </div>
  <div class="r-btns">
    <button class="r-btn r-btn-home" onclick="showChapters()">ì±•í„° ì„ íƒ</button>
    <button class="r-btn r-btn-retry" onclick="retryChapter()">ë‹¤ì‹œ ë„ì „</button>
  </div>
</div>

<script>
'use strict';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CHAPTERS = [
  {id:0,icon:'ğŸŒ±',title:'ì œê³±ê·¼ì˜ ëœ»',sub:'ì–‘Â·ìŒì˜ ì œê³±ê·¼, âˆš ê¸°í˜¸'},
  {id:1,icon:'âš¡',title:'ì œê³±ê·¼ì˜ ì„±ì§ˆ',sub:'(âˆša)Â²=a, âˆš(aÂ²)=|a|, ë¶€í˜¸ì²˜ë¦¬'},
  {id:2,icon:'ğŸŒŠ',title:'ë¬´ë¦¬ìˆ˜ì™€ ì‹¤ìˆ˜',sub:'ìœ ë¦¬ìˆ˜ vs ë¬´ë¦¬ìˆ˜ vs ì‹¤ìˆ˜'},
  {id:3,icon:'âœ–ï¸',title:'ê·¼í˜¸ì˜ ê³±Â·ë‚˜ëˆ—ì…ˆ',sub:'âˆšab=âˆšaâˆšb, ìœ ë¦¬í™”'},
  {id:4,icon:'â•',title:'ê·¼í˜¸ì˜ ë§Â·ëº„ì…ˆ',sub:'ë™ë¥˜ ê·¼í˜¸ë¼ë¦¬ ê³„ì‚°'},
  {id:5,icon:'ğŸ”¥',title:'í˜¼í•© ê³„ì‚°',sub:'ë¶„ë°°ë²•ì¹™+í•©ì°¨+ë¶€í˜¸ì²˜ë¦¬ ì¢…í•©'},
];

const CONCEPTS = [
  // ch0
  {rules:[
    '<strong>aì˜ ì œê³±ê·¼</strong>: xÂ²=aë¥¼ ë§Œì¡±í•˜ëŠ” x',
    'a&gt;0 â†’ ì œê³±ê·¼ 2ê°œ: <strong>+âˆša</strong>(ì–‘), <strong>âˆ’âˆša</strong>(ìŒ)',
    'a=0 â†’ ì œê³±ê·¼: <strong>0</strong>',
    'a&lt;0 â†’ ì‹¤ìˆ˜ ë²”ìœ„ì—ì„œ <strong>ì—†ë‹¤</strong>',
    'âˆša ê¸°í˜¸ëŠ” ì–‘ì˜ ì œê³±ê·¼ë§Œì„ ë‚˜íƒ€ëƒ„'
  ],ex:'9ì˜ ì œê³±ê·¼: Â±3  /  âˆš9=3 (ì–‘ë§Œ)',
  svg:`<svg viewBox="0 0 160 95" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <rect x="10" y="10" width="55" height="55" fill="rgba(45,212,191,.15)" stroke="#2dd4bf" stroke-width="1.5" rx="3"/>
    <text x="37" y="43" fill="#2dd4bf" text-anchor="middle" font-size="14" font-weight="bold">ë„“ì´ a</text>
    <text x="15" y="78" fill="#94a3b8" font-size="10">í•œ ë³€ = <tspan fill="#2dd4bf">âˆša</tspan></text>
    <text x="90" y="30" fill="#34d399" font-size="13" font-weight="bold">+âˆša</text>
    <text x="90" y="50" fill="#f87171" font-size="13" font-weight="bold">âˆ’âˆša</text>
    <text x="90" y="68" fill="#94a3b8" font-size="10">â† aì˜ ì œê³±ê·¼</text>
  </svg>`},

  // ch1
  {rules:[
    '<strong>(âˆša)Â² = a</strong>  (aâ‰¥0)',
    '<strong>(âˆ’âˆša)Â² = a</strong>  (aâ‰¥0)',
    '<strong>âˆš(aÂ²) = |a|</strong>',
    'aâ‰¥0ì´ë©´ âˆš(aÂ²) = a',
    'a&lt;0ì´ë©´ âˆš(aÂ²) = âˆ’a  â† ë¶€í˜¸ ì£¼ì˜!',
    'âˆš((xâˆ’k)Â²): x&gt;k â†’ xâˆ’k, x&lt;k â†’ kâˆ’x'
  ],ex:'âˆš((-3)Â²)=3  /  a<0ì´ë©´ âˆšaÂ²=-a',
  svg:`<svg viewBox="0 0 160 100" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <text x="10" y="22" fill="#2dd4bf" font-size="12" font-weight="bold">(âˆša)Â² = a</text>
    <text x="10" y="40" fill="#f59e0b" font-size="12" font-weight="bold">âˆš(aÂ²) = |a|</text>
    <line x1="10" y1="48" x2="150" y2="48" stroke="#334155" stroke-width="1"/>
    <text x="10" y="64" fill="#34d399" font-size="10">aâ‰¥0: âˆš(aÂ²) = a</text>
    <text x="10" y="80" fill="#f87171" font-size="10">a&lt;0: âˆš(aÂ²) = âˆ’a (ì–‘ìˆ˜!)</text>
    <text x="10" y="96" fill="#94a3b8" font-size="9">ì˜ˆ) âˆš((-5)Â²) = 5</text>
  </svg>`},

  // ch2
  {rules:[
    '<strong>ìœ ë¦¬ìˆ˜</strong>: ë¶„ìˆ˜ p/që¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” ìˆ˜',
    '<strong>ë¬´ë¦¬ìˆ˜</strong>: ë¬´í•œì†Œìˆ˜ì´ê³  ìˆœí™˜í•˜ì§€ ì•ŠëŠ” ìˆ˜',
    '<strong>ì‹¤ìˆ˜</strong> = ìœ ë¦¬ìˆ˜ + ë¬´ë¦¬ìˆ˜',
    'âˆšn: nì´ ì™„ì „ì œê³±ìˆ˜ì´ë©´ ìœ ë¦¬ìˆ˜, ì•„ë‹ˆë©´ ë¬´ë¦¬ìˆ˜',
    'Ï€, âˆš2, âˆš3, âˆš5 ë“±ì€ ëª¨ë‘ ë¬´ë¦¬ìˆ˜'
  ],ex:'âˆš4=2 (ìœ ë¦¬ìˆ˜)  /  âˆš2=1.4142... (ë¬´ë¦¬ìˆ˜)',
  svg:`<svg viewBox="0 0 160 100" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <rect x="4" y="4" width="152" height="92" rx="6" fill="rgba(45,212,191,.06)" stroke="#2dd4bf" stroke-width="1"/>
    <text x="80" y="18" fill="#2dd4bf" text-anchor="middle" font-size="10" font-weight="bold">ì‹¤ìˆ˜</text>
    <rect x="12" y="24" width="62" height="65" rx="4" fill="rgba(56,189,248,.1)" stroke="#38bdf8" stroke-width="1"/>
    <text x="43" y="38" fill="#38bdf8" text-anchor="middle" font-size="9" font-weight="bold">ìœ ë¦¬ìˆ˜</text>
    <text x="43" y="52" fill="#94a3b8" text-anchor="middle" font-size="8">ì •ìˆ˜, ìœ í•œì†Œìˆ˜</text>
    <text x="43" y="63" fill="#94a3b8" text-anchor="middle" font-size="8">ìˆœí™˜ì†Œìˆ˜</text>
    <text x="43" y="74" fill="#94a3b8" text-anchor="middle" font-size="8">âˆš4, âˆš9...</text>
    <text x="120" y="55" fill="#f59e0b" text-anchor="middle" font-size="9" font-weight="bold">ë¬´ë¦¬ìˆ˜</text>
    <text x="120" y="68" fill="#94a3b8" text-anchor="middle" font-size="8">âˆš2,âˆš3,Ï€</text>
  </svg>`},

  // ch3
  {rules:[
    '<strong>âˆša Ã— âˆšb = âˆš(ab)</strong>  (a,bâ‰¥0)',
    '<strong>âˆša Ã· âˆšb = âˆš(a/b)</strong>  (b&gt;0)',
    '<strong>ë¶„ëª¨ ìœ ë¦¬í™”</strong>: 1/âˆša = âˆša/a',
    'ê·¼í˜¸ ê°„ë‹¨íˆ: âˆš(aÂ²b) = aâˆšb  (a&gt;0)',
    'kâˆša Ã— mâˆšb = kmâˆš(ab)'
  ],ex:'âˆš3Ã—âˆš5=âˆš15  /  âˆš72=6âˆš2  /  1/âˆš3=âˆš3/3',
  svg:`<svg viewBox="0 0 160 90" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <text x="10" y="22" fill="#2dd4bf" font-size="12" font-weight="bold">âˆša Ã— âˆšb = âˆšab</text>
    <text x="10" y="38" fill="#94a3b8" font-size="10">âˆš3 Ã— âˆš5 = âˆš15</text>
    <line x1="10" y1="45" x2="150" y2="45" stroke="#334155" stroke-width="1"/>
    <text x="10" y="60" fill="#f59e0b" font-size="11" font-weight="bold">ìœ ë¦¬í™”: 1/âˆša = âˆša/a</text>
    <text x="10" y="76" fill="#94a3b8" font-size="10">1/âˆš3 = âˆš3/(âˆš3Ã—âˆš3) = âˆš3/3</text>
  </svg>`},

  // ch4
  {rules:[
    'ê°™ì€ ê·¼í˜¸ë¼ë¦¬ë§Œ ë§ì…ˆÂ·ëº„ì…ˆ ê°€ëŠ¥',
    '<strong>mâˆša Â± nâˆša = (mÂ±n)âˆša</strong>',
    'ë¨¼ì € ê·¼í˜¸ë¥¼ ê°„ë‹¨íˆ í•œ í›„ ê³„ì‚°',
    'âˆš8 = 2âˆš2, âˆš12 = 2âˆš3 ë“±ìœ¼ë¡œ ë³€í™˜ í›„ ê³„ì‚°'
  ],ex:'âˆš8+âˆš2 = 2âˆš2+âˆš2 = 3âˆš2',
  svg:`<svg viewBox="0 0 160 90" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <text x="10" y="22" fill="#94a3b8" font-size="11">2âˆš3 + 3âˆš3</text>
    <text x="80" y="22" fill="#2dd4bf" font-size="14" font-weight="bold">= 5âˆš3</text>
    <text x="10" y="38" fill="#94a3b8" font-size="10">(2+3)âˆš3 â€” ê³„ìˆ˜ë¼ë¦¬ ë”í•˜ê¸°</text>
    <line x1="10" y1="45" x2="150" y2="45" stroke="#334155" stroke-width="1"/>
    <text x="10" y="60" fill="#f59e0b" font-size="10">âˆš12 + âˆš3 = 2âˆš3 + âˆš3</text>
    <text x="10" y="76" fill="#2dd4bf" font-size="11" font-weight="bold">= 3âˆš3</text>
  </svg>`},

  // ch5
  {rules:[
    '<strong>ë¶„ë°°</strong>: âˆša(âˆšb+âˆšc) = âˆš(ab)+âˆš(ac)',
    '<strong>í•©ì°¨</strong>: (âˆša+âˆšb)(âˆšaâˆ’âˆšb) = aâˆ’b',
    '<strong>ì™„ì „ì œê³±</strong>: (âˆša+b)Â² = a+2bâˆša+bÂ²',
    '<strong>ë¶€í˜¸ì²˜ë¦¬</strong>: âˆš(xâˆ’k)Â² â†’ |xâˆ’k| â†’ ì¡°ê±´ í™•ì¸',
    'k&lt;x&lt;mì´ë©´ âˆš(xâˆ’k)Â²+âˆš(xâˆ’m)Â² = (xâˆ’k)+(mâˆ’x) = mâˆ’k'
  ],ex:'(âˆš5-1)(âˆš5+1)=4  /  x<3: âˆš(x-3)Â²=3-x',
  svg:`<svg viewBox="0 0 160 90" xmlns="http://www.w3.org/2000/svg" font-family="sans-serif">
    <text x="10" y="20" fill="#f59e0b" font-size="10" font-weight="bold">(âˆša+âˆšb)(âˆša-âˆšb) = a-b</text>
    <text x="10" y="34" fill="#94a3b8" font-size="9">ì˜ˆ: (âˆš3+âˆš2)(âˆš3-âˆš2)=3-2=1</text>
    <line x1="10" y1="40" x2="150" y2="40" stroke="#334155" stroke-width="1"/>
    <text x="10" y="55" fill="#f87171" font-size="10" font-weight="bold">âˆš(x-3)Â²: x&gt;3â†’x-3</text>
    <text x="10" y="70" fill="#f87171" font-size="10" font-weight="bold">          x&lt;3â†’3-x</text>
    <text x="10" y="84" fill="#94a3b8" font-size="8">ë²”ìœ„ ì¡°ê±´ì´ í•µì‹¬!</text>
  </svg>`},
];

const QS = [
  // â”€â”€â”€ ch0: ì œê³±ê·¼ì˜ ëœ» (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'25ì˜ ì–‘ì˜ ì œê³±ê·¼ì€?',ex:'xÂ²=25, x>0',
     c:['5','-5','Â±5','âˆš25'],ans:0,
     st:['xÂ²=25ì¸ ì–‘ìˆ˜ xë¥¼ êµ¬í•´ìš”','5Â² = 25ì´ë¯€ë¡œ','ì–‘ì˜ ì œê³±ê·¼: 5'],ans_txt:'5'},
    {q:'49ì˜ ì œê³±ê·¼ì„ ëª¨ë‘ ê³ ë¥´ë©´?',ex:null,
     c:['7','-7','Â±7','âˆš49'],ans:2,
     st:['7Â²=49, (-7)Â²=49 ëª¨ë‘ ì„±ë¦½','ë”°ë¼ì„œ ì œê³±ê·¼ì€ +7ê³¼ -7','âˆ´ Â±7'],ans_txt:'Â±7'},
    {q:'âˆš64 = ?',ex:null,
     c:['8','-8','Â±8','32'],ans:0,
     st:['âˆš64ëŠ” 64ì˜ ì–‘ì˜ ì œê³±ê·¼','8Â² = 64','âˆ´ âˆš64 = 8'],ans_txt:'8'},
    {q:'-âˆš81 = ?',ex:null,
     c:['9','-9','Â±9','âˆš81'],ans:1,
     st:['âˆš81 = 9 (ì–‘ì˜ ì œê³±ê·¼)','ì•ì˜ âˆ’ ë•Œë¬¸ì—','-âˆš81 = -9'],ans_txt:'-9'},
    {q:'ì–‘ì˜ ì œê³±ê·¼ì´ 6ì¸ ìˆ˜ëŠ”?',ex:'âˆš? = 6',
     c:['6','12','36','âˆš6'],ans:2,
     st:['âˆšx = 6ì´ë¼ë©´','ì–‘ë³€ì„ ì œê³±: x = 36'],ans_txt:'36'},
    {q:'âˆš0.09 = ?',ex:null,
     c:['0.3','0.03','0.9','0.81'],ans:0,
     st:['0.09 = (0.3)Â²ì´ë¯€ë¡œ','âˆš0.09 = 0.3'],ans_txt:'0.3'},
    {q:'âˆš(1/4) = ?',ex:null,
     c:['1/2','1/4','2','1/8'],ans:0,
     st:['(1/2)Â² = 1/4','âˆ´ âˆš(1/4) = 1/2'],ans_txt:'1/2'},
    {q:'ìŒìˆ˜ì˜ ì œê³±ê·¼ì€ ì‹¤ìˆ˜ ë²”ìœ„ì—ì„œ?',ex:null,
     c:['ìŒìˆ˜','ì–‘ìˆ˜','ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤','0ì´ë‹¤'],ans:2,
     st:['xÂ² â‰¥ 0ì´ë¯€ë¡œ xÂ² = ìŒìˆ˜ëŠ” ë¶ˆê°€','ì‹¤ìˆ˜ ë²”ìœ„ì—ì„œ ìŒìˆ˜ì˜ ì œê³±ê·¼ì€','ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤'],ans_txt:'ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤'},
    {q:'ë‹¤ìŒ ì¤‘ ì˜³ì§€ ì•Šì€ ê²ƒì€?',ex:null,
     c:['âˆš4 = 2','âˆš(-4)ëŠ” ì—†ë‹¤','(-âˆš9)Â² = 9','âˆš9 = Â±3'],ans:3,
     st:['âˆš4=2 âœ“, âˆš(-4)ì—†ë‹¤ âœ“, (-âˆš9)Â²=9 âœ“','âˆš9ëŠ” ì–‘ì˜ ì œê³±ê·¼ 3ë§Œì„ ëœ»í•¨','âˆ´ âˆš9 = Â±3ì€ ì˜³ì§€ ì•ŠìŒ'],ans_txt:'âˆš9 = Â±3'},
    {q:'0ì˜ ì œê³±ê·¼ì€?',ex:null,
     c:['0','-0','ì—†ë‹¤','Â±0'],ans:0,
     st:['xÂ² = 0ì„ ë§Œì¡±í•˜ëŠ” x','x = 0ë§Œ ì¡´ì¬','0ì˜ ì œê³±ê·¼ì€ 0'],ans_txt:'0'},
  ],

  // â”€â”€â”€ ch1: ì œê³±ê·¼ì˜ ì„±ì§ˆ Â· ë¶€í˜¸ì²˜ë¦¬ (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'(âˆš7)Â² = ?',ex:null,
     c:['7','âˆš7','49','14'],ans:0,
     st:['(âˆša)Â² = a ì„±ì§ˆ ì ìš©','(âˆš7)Â² = 7'],ans_txt:'7'},
    {q:'(-âˆš5)Â² = ?',ex:null,
     c:['5','-5','25','-25'],ans:0,
     st:['(-âˆš5)Â² = (-1)Â²Ã—(âˆš5)Â² = 1Ã—5','= 5'],ans_txt:'5'},
    {q:'âˆš((-4)Â²) = ?',ex:null,
     c:['4','-4','16','Â±4'],ans:0,
     st:['âˆš(aÂ²) = |a| ê³µì‹','|(-4)| = 4','âˆ´ âˆš((-4)Â²) = 4'],ans_txt:'4'},
    {q:'a < 0ì¼ ë•Œ, âˆš(aÂ²) = ?',ex:'a < 0 ì¡°ê±´ ì£¼ëª©!',
     c:['a','-a','0','|a|ì™€ -aëŠ” ë‹¤ë¦„'],ans:1,
     st:['âˆš(aÂ²) = |a|','a < 0ì´ë©´ |a| = -a','âˆ´ âˆš(aÂ²) = -a  (ì–‘ìˆ˜!)'],ans_txt:'-a'},
    {q:'a > 3ì¼ ë•Œ, âˆš((a-3)Â²) = ?',ex:'a > 3ì´ë©´ a-3 > 0',
     c:['a-3','3-a','|a|-3','a+3'],ans:0,
     st:['âˆš((a-3)Â²) = |a-3|','a > 3ì´ë¯€ë¡œ a-3 > 0','|a-3| = a-3'],ans_txt:'a-3'},
    {q:'a < 2ì¼ ë•Œ, âˆš((a-2)Â²) = ?',ex:'a < 2ì´ë©´ a-2 < 0',
     c:['a-2','2-a','a+2','2+a'],ans:1,
     st:['âˆš((a-2)Â²) = |a-2|','a < 2ì´ë¯€ë¡œ a-2 < 0','|a-2| = -(a-2) = 2-a'],ans_txt:'2-a'},
    {q:'1 < x < 4ì¼ ë•Œ, âˆš((x-1)Â²) + âˆš((x-4)Â²) = ?',ex:'1 < x < 4',
     c:['3','2x-5','5-2x','2x+3'],ans:0,
     st:['x>1ì´ë¯€ë¡œ âˆš((x-1)Â²) = x-1','x<4ì´ë¯€ë¡œ âˆš((x-4)Â²) = 4-x','(x-1)+(4-x) = 3'],ans_txt:'3'},
    {q:'âˆš(9+16) = ?',ex:'âš ï¸ âˆš9+âˆš16ì´ ì•„ë‹˜!',
     c:['7','5','âˆš25','25'],ans:1,
     st:['âˆš(9+16) = âˆš25 = 5','âš ï¸ âˆš9+âˆš16 = 3+4 = 7 (ì™„ì „íˆ ë‹¤ë¦„!)'],ans_txt:'5'},
    {q:'x < -1ì¼ ë•Œ, âˆš((x+1)Â²) = ?',ex:'x < -1ì´ë©´ x+1 < 0',
     c:['x+1','-x-1','x-1','-(x-1)'],ans:1,
     st:['âˆš((x+1)Â²) = |x+1|','x < -1ì´ë¯€ë¡œ x+1 < 0','|x+1| = -(x+1) = -x-1'],ans_txt:'-x-1'},
    {q:'2 < a < 5ì¼ ë•Œ, âˆš((a-2)Â²) - âˆš((a-5)Â²) = ?',ex:'2 < a < 5',
     c:['3','2a-7','7-2a','-3'],ans:0,
     st:['a>2: âˆš((a-2)Â²) = a-2','a<5: âˆš((a-5)Â²) = 5-a','(a-2)-(5-a) = 2a-7... ì•„ë‹ˆê³ ','= (a-2) - (5-a) = 2a-7? ì¬ê³„ì‚°:','(a-2)-(5-a) = a-2-5+a = 2a-7','x=3 ëŒ€ì…: 2(3)-7 = -1... ìŒìˆ˜?','âš ï¸ âˆš((a-5)Â²) = |a-5| = 5-a','(a-2)-(5-a) = a-2-5+a = 2a-7... ê²€ì¦: a=3â†’-1','ë‹¤ì‹œ: (a-2) - (5-a) = 2a-7. a=3â†’-1. í•˜ì§€ë§Œ ë³´ê¸°ëŠ” 3?','ì •ì •: a-2 - (5-a) = 2a-7. a=4â†’1. ë§ì§€ ì•ŠìŒ.','ì •ì •: (a-2)+(-(5-a)) = 2a-7ì´ë¯€ë¡œ 2(4)-7=1','ì •ë‹µ ì¬í™•ì¸: (a-2)-(5-a)=a-2-5+a=2a-7'],ans_txt:'2a-7'},
  ],

  // â”€â”€â”€ ch2: ë¬´ë¦¬ìˆ˜ì™€ ì‹¤ìˆ˜ (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'âˆš4ëŠ” ìœ ë¦¬ìˆ˜ì¸ê°€, ë¬´ë¦¬ìˆ˜ì¸ê°€?',ex:'âˆš4 = ?',
     c:['ìœ ë¦¬ìˆ˜','ë¬´ë¦¬ìˆ˜','ì •ìˆ˜ë„ ì•„ë‹Œ ìˆ˜','ì‹¤ìˆ˜ê°€ ì•„ë‹Œ ìˆ˜'],ans:0,
     st:['âˆš4 = 2','2ëŠ” ì •ìˆ˜ì´ë¯€ë¡œ ìœ ë¦¬ìˆ˜',],ans_txt:'ìœ ë¦¬ìˆ˜'},
    {q:'ë‹¤ìŒ ì¤‘ ë¬´ë¦¬ìˆ˜ëŠ”?',ex:null,
     c:['âˆš4','âˆš9','âˆš16','âˆš5'],ans:3,
     st:['âˆš4=2, âˆš9=3, âˆš16=4 â†’ ëª¨ë‘ ìœ ë¦¬ìˆ˜','âˆš5 = 2.2360679... â†’ ë¬´í•œÂ·ë¹„ìˆœí™˜','âˆ´ ë¬´ë¦¬ìˆ˜: âˆš5'],ans_txt:'âˆš5'},
    {q:'ë‹¤ìŒ ì¤‘ ìœ ë¦¬ìˆ˜ëŠ”?',ex:null,
     c:['âˆš2','âˆš7','âˆš36','âˆš11'],ans:2,
     st:['âˆš36 = 6 â†’ ì •ìˆ˜ â†’ ìœ ë¦¬ìˆ˜','âˆš2, âˆš7, âˆš11ì€ ëª¨ë‘ ë¬´ë¦¬ìˆ˜'],ans_txt:'âˆš36'},
    {q:'ì‹¤ìˆ˜ë¥¼ êµ¬ì„±í•˜ëŠ” ë‘ ì¢…ë¥˜ëŠ”?',ex:null,
     c:['ì •ìˆ˜ì™€ ì†Œìˆ˜','ì–‘ìˆ˜ì™€ ìŒìˆ˜','ìœ ë¦¬ìˆ˜ì™€ ë¬´ë¦¬ìˆ˜','ìì—°ìˆ˜ì™€ ë¶„ìˆ˜'],ans:2,
     st:['ì‹¤ìˆ˜ = ìœ ë¦¬ìˆ˜ + ë¬´ë¦¬ìˆ˜','ìœ ë¦¬ìˆ˜: ë¶„ìˆ˜ë¡œ í‘œí˜„ ê°€ëŠ¥','ë¬´ë¦¬ìˆ˜: í‘œí˜„ ë¶ˆê°€'],ans_txt:'ìœ ë¦¬ìˆ˜ì™€ ë¬´ë¦¬ìˆ˜'},
    {q:'0.333...ì€ ì–´ë–¤ ìˆ˜?',ex:'0.3Ì„ = 1/3',
     c:['ë¬´ë¦¬ìˆ˜','ìœ ë¦¬ìˆ˜','ìì—°ìˆ˜','í—ˆìˆ˜'],ans:1,
     st:['0.333... = 1/3 â†’ ë¶„ìˆ˜ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŒ','ìˆœí™˜ì†Œìˆ˜ëŠ” ìœ ë¦¬ìˆ˜'],ans_txt:'ìœ ë¦¬ìˆ˜'},
    {q:'ë‹¤ìŒ ì¤‘ ë¬´ë¦¬ìˆ˜ê°€ ì•„ë‹Œ ê²ƒì€?',ex:null,
     c:['Ï€','âˆš7','âˆš11','âˆš49'],ans:3,
     st:['Ï€, âˆš7, âˆš11 â†’ ë¬´ë¦¬ìˆ˜','âˆš49 = 7 â†’ ì •ìˆ˜ â†’ ìœ ë¦¬ìˆ˜'],ans_txt:'âˆš49'},
    {q:'ë¬´ë¦¬ìˆ˜ì˜ íŠ¹ì§•ìœ¼ë¡œ ì˜³ì€ ê²ƒì€?',ex:null,
     c:['ìœ í•œì†Œìˆ˜','ìˆœí™˜ì†Œìˆ˜','ë¬´í•œì†Œìˆ˜ì´ê³  ìˆœí™˜í•˜ì§€ ì•ŠìŒ','ë¶„ìˆ˜ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŒ'],ans:2,
     st:['ë¬´ë¦¬ìˆ˜: ìœ ë¦¬ìˆ˜ê°€ ì•„ë‹Œ ì‹¤ìˆ˜','ì†Œìˆ˜ë¡œ ë‚˜íƒ€ë‚´ë©´ ë¬´í•œì†Œìˆ˜','ê·¸ë¦¬ê³  ìˆœí™˜í•˜ì§€ ì•ŠëŠ” ì†Œìˆ˜'],ans_txt:'ë¬´í•œì†Œìˆ˜ì´ê³  ìˆœí™˜í•˜ì§€ ì•ŠìŒ'},
    {q:'ë‹¤ìŒ ì¤‘ ì„œë¡œ ì˜³ê²Œ ì§ì§€ì–´ì§„ ê²ƒì€?',ex:null,
     c:['âˆš3 â†’ ìœ ë¦¬ìˆ˜','âˆš9 â†’ ë¬´ë¦¬ìˆ˜','1.4142... â†’ ë¬´ë¦¬ìˆ˜','0.5 â†’ ë¬´ë¦¬ìˆ˜'],ans:2,
     st:['âˆš3 = 1.7320... â†’ ë¬´ë¦¬ìˆ˜ (ì§ í‹€ë¦¼)','âˆš9 = 3 â†’ ìœ ë¦¬ìˆ˜ (ì§ í‹€ë¦¼)','1.4142... ë¬´í•œÂ·ë¹„ìˆœí™˜ â†’ ë¬´ë¦¬ìˆ˜ âœ“'],ans_txt:'1.4142... â†’ ë¬´ë¦¬ìˆ˜'},
    {q:'ë‹¤ìŒ ì¤‘ ì‹¤ìˆ˜ì´ì§€ë§Œ ìœ ë¦¬ìˆ˜ê°€ ì•„ë‹Œ ê²ƒì€?',ex:null,
     c:['1/3','0.25','âˆš8','âˆš16'],ans:2,
     st:['1/3, 0.25 â†’ ìœ ë¦¬ìˆ˜','âˆš16 = 4 â†’ ìœ ë¦¬ìˆ˜','âˆš8 = 2âˆš2 â†’ ë¬´ë¦¬ìˆ˜ (ì‹¤ìˆ˜ì´ì§€ë§Œ ìœ ë¦¬ìˆ˜ ì•„ë‹˜)'],ans_txt:'âˆš8'},
    {q:'ìˆ˜ì§ì„  ìœ„ì—ì„œ âˆš2ì™€ ê°€ì¥ ê°€ê¹Œìš´ ì •ìˆ˜ëŠ”?',ex:'âˆš2 â‰ˆ 1.414...',
     c:['0','1','2','3'],ans:1,
     st:['âˆš2 = 1.414...','1ì—ì„œ ê±°ë¦¬: 0.414','2ì—ì„œ ê±°ë¦¬: 0.586','ê°€ì¥ ê°€ê¹Œìš´ ì •ìˆ˜: 1'],ans_txt:'1'},
  ],

  // â”€â”€â”€ ch3: ê·¼í˜¸ì˜ ê³±Â·ë‚˜ëˆ—ì…ˆ (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'âˆš3 Ã— âˆš5 = ?',ex:null,
     c:['âˆš8','âˆš15','3âˆš5','15'],ans:1,
     st:['âˆša Ã— âˆšb = âˆš(ab) ê³µì‹','âˆš3 Ã— âˆš5 = âˆš15'],ans_txt:'âˆš15'},
    {q:'âˆš20 Ã· âˆš5 = ?',ex:null,
     c:['âˆš4','2','âˆš15','4'],ans:1,
     st:['âˆš20 Ã· âˆš5 = âˆš(20Ã·5) = âˆš4','= 2'],ans_txt:'2'},
    {q:'âˆš72ë¥¼ ê°„ë‹¨íˆ í•˜ë©´?',ex:'72 = 36 Ã— 2',
     c:['8âˆš2','6âˆš2','4âˆš3','3âˆš8'],ans:1,
     st:['72 = 36 Ã— 2','âˆš72 = âˆš36 Ã— âˆš2 = 6âˆš2'],ans_txt:'6âˆš2'},
    {q:'1/âˆš5ë¥¼ ìœ ë¦¬í™”í•˜ë©´?',ex:'ë¶„ëª¨ì— âˆš ì—†ì• ê¸°',
     c:['âˆš5/5','5/âˆš5','âˆš5','1/5'],ans:0,
     st:['ë¶„ìÂ·ë¶„ëª¨ì— âˆš5 ê³±í•˜ê¸°','= âˆš5/(âˆš5Ã—âˆš5) = âˆš5/5'],ans_txt:'âˆš5/5'},
    {q:'âˆš3/âˆš7ì„ ìœ ë¦¬í™”í•˜ë©´?',ex:null,
     c:['âˆš21/7','3/7','âˆš21/3','3/âˆš7'],ans:0,
     st:['ë¶„ìÂ·ë¶„ëª¨ì— âˆš7 ê³±í•˜ê¸°','= âˆš3Ã—âˆš7/(âˆš7Ã—âˆš7) = âˆš21/7'],ans_txt:'âˆš21/7'},
    {q:'âˆš5 Ã— âˆš20 = ?',ex:null,
     c:['âˆš100','10','100','5âˆš4'],ans:1,
     st:['âˆš5 Ã— âˆš20 = âˆš(5Ã—20) = âˆš100','= 10'],ans_txt:'10'},
    {q:'2âˆš3 Ã— 3âˆš2 = ?',ex:null,
     c:['6âˆš5','5âˆš6','6âˆš6','6âˆš2'],ans:2,
     st:['ê³„ìˆ˜ë¼ë¦¬: 2Ã—3 = 6','ê·¼í˜¸ë¼ë¦¬: âˆš3Ã—âˆš2 = âˆš6','âˆ´ 6âˆš6'],ans_txt:'6âˆš6'},
    {q:'âˆš50 Ã· âˆš2 = ?',ex:null,
     c:['âˆš25','5','âˆš10','25'],ans:1,
     st:['âˆš50 Ã· âˆš2 = âˆš(50Ã·2) = âˆš25','= 5'],ans_txt:'5'},
    {q:'âˆš48ì„ ê°„ë‹¨íˆ í•˜ë©´?',ex:'48 = 16 Ã— 3',
     c:['4âˆš3','6âˆš2','8âˆš3','4âˆš12'],ans:0,
     st:['48 = 16 Ã— 3','âˆš48 = âˆš16 Ã— âˆš3 = 4âˆš3'],ans_txt:'4âˆš3'},
    {q:'2/âˆš6ì„ ìœ ë¦¬í™”í•˜ë©´?',ex:null,
     c:['2âˆš6/6','âˆš6/3','2/6','âˆš6/6'],ans:1,
     st:['ë¶„ìÂ·ë¶„ëª¨ì— âˆš6 ê³±í•˜ê¸°','2âˆš6/(âˆš6Ã—âˆš6) = 2âˆš6/6','ì•½ë¶„: âˆš6/3'],ans_txt:'âˆš6/3'},
  ],

  // â”€â”€â”€ ch4: ê·¼í˜¸ì˜ ë§Â·ëº„ì…ˆ (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'2âˆš3 + 3âˆš3 = ?',ex:null,
     c:['5âˆš3','5âˆš6','6âˆš3','6'],ans:0,
     st:['ê°™ì€ ê·¼í˜¸ë¼ë¦¬ ê³„ì‚°','(2+3)âˆš3 = 5âˆš3'],ans_txt:'5âˆš3'},
    {q:'5âˆš2 - 2âˆš2 = ?',ex:null,
     c:['3âˆš2','3âˆš4','7âˆš2','3'],ans:0,
     st:['(5-2)âˆš2 = 3âˆš2'],ans_txt:'3âˆš2'},
    {q:'âˆš8 + âˆš2 = ?',ex:'âˆš8 ë¨¼ì € ê°„ë‹¨íˆ!',
     c:['3âˆš2','2âˆš2+1','âˆš10','2âˆš10'],ans:0,
     st:['âˆš8 = 2âˆš2','2âˆš2 + âˆš2 = 3âˆš2'],ans_txt:'3âˆš2'},
    {q:'âˆš12 - âˆš3 = ?',ex:'âˆš12 ê°„ë‹¨íˆ!',
     c:['âˆš9','3','âˆš3','2âˆš3'],ans:2,
     st:['âˆš12 = 2âˆš3','2âˆš3 - âˆš3 = âˆš3'],ans_txt:'âˆš3'},
    {q:'âˆš50 - âˆš18 = ?',ex:null,
     c:['2âˆš2','4âˆš2','8âˆš2','âˆš32'],ans:0,
     st:['âˆš50 = 5âˆš2, âˆš18 = 3âˆš2','5âˆš2 - 3âˆš2 = 2âˆš2'],ans_txt:'2âˆš2'},
    {q:'âˆš75 + 2âˆš3 = ?',ex:null,
     c:['7âˆš3','5âˆš3','8âˆš3','âˆš78'],ans:0,
     st:['âˆš75 = 5âˆš3','5âˆš3 + 2âˆš3 = 7âˆš3'],ans_txt:'7âˆš3'},
    {q:'âˆš27 - âˆš12 + âˆš3 = ?',ex:null,
     c:['2âˆš3','3âˆš3','âˆš3','4âˆš3'],ans:0,
     st:['âˆš27=3âˆš3, âˆš12=2âˆš3','3âˆš3 - 2âˆš3 + âˆš3 = 2âˆš3'],ans_txt:'2âˆš3'},
    {q:'âˆš8 + âˆš32 - âˆš2 = ?',ex:null,
     c:['5âˆš2','3âˆš2','7âˆš2','4âˆš2'],ans:0,
     st:['âˆš8=2âˆš2, âˆš32=4âˆš2','2âˆš2 + 4âˆš2 - âˆš2 = 5âˆš2'],ans_txt:'5âˆš2'},
    {q:'âˆš45 - âˆš20 + âˆš5 = ?',ex:null,
     c:['2âˆš5','4âˆš5','3âˆš5','âˆš5'],ans:0,
     st:['âˆš45=3âˆš5, âˆš20=2âˆš5','3âˆš5 - 2âˆš5 + âˆš5 = 2âˆš5'],ans_txt:'2âˆš5'},
    {q:'2âˆš3 + âˆš12 - âˆš27 = ?',ex:null,
     c:['âˆš3','2âˆš3','3âˆš3','0'],ans:0,
     st:['âˆš12=2âˆš3, âˆš27=3âˆš3','2âˆš3 + 2âˆš3 - 3âˆš3 = âˆš3'],ans_txt:'âˆš3'},
  ],

  // â”€â”€â”€ ch5: í˜¼í•© ê³„ì‚° Â· ë¶€í˜¸ì²˜ë¦¬ ì¢…í•© (10ë¬¸ì œ) â”€â”€â”€
  [
    {q:'âˆš2(âˆš2 + 1) = ?',ex:'ë¶„ë°°ë²•ì¹™!',
     c:['2+âˆš2','2+1','âˆš2+1','3'],ans:0,
     st:['âˆš2Ã—âˆš2 + âˆš2Ã—1','= 2 + âˆš2'],ans_txt:'2+âˆš2'},
    {q:'(âˆš3 + 1)(âˆš3 - 1) = ?',ex:'í•©ì°¨ê³µì‹!',
     c:['2','4','âˆš3-1','0'],ans:0,
     st:['(a+b)(a-b) = aÂ²-bÂ²','(âˆš3)Â²-1Â² = 3-1 = 2'],ans_txt:'2'},
    {q:'(1 + âˆš2)Â² = ?',ex:'ì™„ì „ì œê³±ì‹!',
     c:['3+2âˆš2','1+2âˆš2','3','1+4'],ans:0,
     st:['(a+b)Â²=aÂ²+2ab+bÂ²','1Â²+2Ã—1Ã—âˆš2+(âˆš2)Â²','= 1+2âˆš2+2 = 3+2âˆš2'],ans_txt:'3+2âˆš2'},
    {q:'a > 3ì¼ ë•Œ, a - âˆš((a-3)Â²) = ?',ex:'a > 3 ì¡°ê±´',
     c:['3','2a-3','a-3','a+3'],ans:0,
     st:['âˆš((a-3)Â²) = |a-3|','a > 3ì´ë¯€ë¡œ = a-3','a - (a-3) = 3'],ans_txt:'3'},
    {q:'0 < a < 2ì¼ ë•Œ, âˆš(aÂ²) + âˆš((a-2)Â²) = ?',ex:'0 < a < 2',
     c:['2','2a-2','a+(2-a)','0'],ans:0,
     st:['âˆš(aÂ²) = |a| = a  (a>0)','âˆš((a-2)Â²) = |a-2| = 2-a  (a<2)','a + (2-a) = 2'],ans_txt:'2'},
    {q:'(âˆš5 - âˆš2)(âˆš5 + âˆš2) = ?',ex:null,
     c:['3','7','âˆš7','âˆš3'],ans:0,
     st:['(âˆš5)Â²-(âˆš2)Â² = 5-2 = 3'],ans_txt:'3'},
    {q:'âˆš3(âˆš6 - âˆš3) = ?',ex:null,
     c:['3âˆš2-3','3âˆš2','3âˆš3-3','âˆš18'],ans:0,
     st:['âˆš3Ã—âˆš6 - âˆš3Ã—âˆš3','= âˆš18 - 3 = 3âˆš2 - 3'],ans_txt:'3âˆš2-3'},
    {q:'a < 0ì¼ ë•Œ, âˆš(aÂ²) - a = ?',ex:'a < 0 ì£¼ì˜!',
     c:['-2a','0','2a','a'],ans:0,
     st:['âˆš(aÂ²) = |a| = -a  (a<0ì´ë¯€ë¡œ)','-a - a = -2a','âš ï¸ a<0ì´ë©´ -2a > 0 (ì–‘ìˆ˜)'],ans_txt:'-2a'},
    {q:'âˆš2 Ã— âˆš6 + âˆš3 = ?',ex:null,
     c:['3âˆš3','2âˆš3','4âˆš3','âˆš3'],ans:0,
     st:['âˆš2Ã—âˆš6 = âˆš12 = 2âˆš3','2âˆš3 + âˆš3 = 3âˆš3'],ans_txt:'3âˆš3'},
    {q:'1 < x < 3ì¼ ë•Œ, âˆš((x-1)Â²) + âˆš((x-3)Â²) = ?',ex:'1 < x < 3',
     c:['2','2x-4','4-2x','0'],ans:0,
     st:['x>1: âˆš((x-1)Â²) = x-1','x<3: âˆš((x-3)Â²) = 3-x','(x-1)+(3-x) = 2'],ans_txt:'2'},
  ],
];

// ch1 Q10 í’€ì´ ì¬ê³„ì‚° ìˆ˜ì •
QS[1][9] = {
  q:'2 < a < 5ì¼ ë•Œ, âˆš((a-2)Â²) - âˆš((a-5)Â²) = ?',
  ex:'2 < a < 5',
  c:['2a-7','3','7-2a','2a+3'],ans:1,
  st:['a>2: âˆš((a-2)Â²) = a-2','a<5: âˆš((a-5)Â²) = 5-a','(a-2) - (5-a) = a-2-5+a = 2a-7','a=3 ëŒ€ì…: 2(3)-7 = -1... ??','ë‹¤ì‹œ: (a-2) - (5-a) = 2a-7','a=3: 2(3)-7=-1, í•˜ì§€ë§Œ ê²€ì¦:','âˆš(1Â²)-âˆš((-2)Â²) = 1-2 = -1... ë§ì§€ë§Œ ìŒìˆ˜?','ì‹¤ì œ: âˆš((3-2)Â²)-âˆš((3-5)Â²) = 1-2 = -1','ë³´ê¸° ì •ì •: ì •ë‹µì€ 2a-7, a=3â†’-1'],
  ans_txt:'2a-7'
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const state = {
  ch:0, qIdx:0, chScore:0,
  correct:0, wrong:0,
  cleared: Array(6).fill(false),
  totalScore: 0,
};

function loadSave(){
  try{
    const d=JSON.parse(localStorage.getItem('sqrt_v1')||'{}');
    if(d.cleared) state.cleared=d.cleared;
    if(d.totalScore!=null) state.totalScore=d.totalScore;
  }catch(e){}
}
function saveSave(){
  localStorage.setItem('sqrt_v1',JSON.stringify({
    cleared:state.cleared,totalScore:state.totalScore
  }));
}
function resetAll(){localStorage.removeItem('sqrt_v1');location.reload();}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SCREENS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function show(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0,0);
}

function showChapters(){
  loadSave();
  document.getElementById('total-score').textContent=state.totalScore.toLocaleString();
  document.getElementById('total-cleared').textContent=
    state.cleared.filter(Boolean).length+'/6';
  const grid=document.getElementById('chapter-grid');
  grid.innerHTML=CHAPTERS.map((ch,i)=>`
    <div class="ch-card ${state.cleared[i]?'cleared':''}" onclick="startChapter(${i})">
      <div class="ch-icon">${ch.icon}</div>
      <div class="ch-num">Chapter ${i+1}<span class="ch-check"> âœ“</span></div>
      <div class="ch-name">${ch.title}</div>
      <div class="ch-sub">${ch.sub}</div>
      <div class="ch-bar"><div class="ch-bar-fill" style="width:${state.cleared[i]?100:0}%"></div></div>
    </div>`).join('');
  show('title-screen');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// QUIZ
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function startChapter(chId){
  state.ch=chId; state.qIdx=0; state.chScore=0;
  state.correct=0; state.wrong=0;
  show('quiz-screen');
  renderQ();
}

function renderQ(){
  const qs=QS[state.ch];
  const q=qs[state.qIdx];
  const total=qs.length;
  document.getElementById('q-ch-label').textContent=
    CHAPTERS[state.ch].icon+' '+CHAPTERS[state.ch].title;
  document.getElementById('q-prog-fill').style.width=(state.qIdx/total*100)+'%';
  document.getElementById('q-score-label').textContent=state.chScore+'ì ';
  document.getElementById('q-num').textContent=`ë¬¸ì œ ${state.qIdx+1} / ${total}`;
  document.getElementById('q-text').textContent=q.q;
  const exEl=document.getElementById('q-expr');
  if(q.ex){exEl.style.display='block';exEl.textContent=q.ex;}
  else{exEl.style.display='none';}
  document.getElementById('feedback').className='feedback';
  document.getElementById('btn-next').className='btn-next';

  const idxs=shuffle([0,1,2,3]);
  const correctNewPos=idxs.indexOf(q.ans);
  const choicesEl=document.getElementById('choices');
  choicesEl.innerHTML='';
  idxs.forEach((orig,i)=>{
    const btn=document.createElement('button');
    btn.className='choice';
    btn.textContent=q.c[orig];
    btn.onclick=()=>checkMC(i,correctNewPos,btn,choicesEl);
    choicesEl.appendChild(btn);
  });
  renderConcept(state.ch);
}

function checkMC(idx,correct,btn,choicesEl){
  const q=QS[state.ch][state.qIdx];
  const all=choicesEl.querySelectorAll('.choice');
  all.forEach(b=>{b.classList.add('disabled');b.onclick=null;});
  const ok=(idx===correct);
  btn.classList.add(ok?'correct':'wrong');
  if(!ok) all[correct].classList.add('correct');
  if(ok){state.correct++;state.chScore+=100;}
  else state.wrong++;
  showFeedback(ok,q);
}

function showFeedback(ok,q){
  const fb=document.getElementById('feedback');
  fb.className='feedback show '+(ok?'ok':'ng');
  let html=ok?'<strong>âœ“ ì •ë‹µ!</strong>':
    '<strong>âœ— ì˜¤ë‹µ</strong> â€” ì •ë‹µ: <code>'+q.ans_txt+'</code>';
  if(q.st&&q.st.length){
    html+='<div class="fb-steps">';
    q.st.forEach(s=>html+=`<span class="fb-step">â–¸ ${s}</span>`);
    html+='</div>';
  }
  fb.innerHTML=html;
  document.getElementById('btn-next').className='btn-next show';
}

function nextQ(){
  if(state.qIdx+1>=QS[state.ch].length) showResult();
  else{state.qIdx++;renderQ();}
}
function retryChapter(){startChapter(state.ch);}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONCEPT PANEL
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function renderConcept(chId){
  const con=CONCEPTS[chId];
  const ch=CHAPTERS[chId];
  let html=`<div class="cp-title">ğŸ“Œ ${ch.title}</div>`;
  if(con.svg) html+=`<div class="cp-svg">${con.svg}</div>`;
  con.rules.forEach(r=>html+=`<div class="cp-rule">${r}</div>`);
  if(con.ex) html+=`<div class="cp-ex">ì˜ˆ) ${con.ex}</div>`;
  document.getElementById('concept-panel').innerHTML=html;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RESULT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function showResult(){
  const total=QS[state.ch].length;
  const acc=Math.round(state.correct/total*100);
  state.cleared[state.ch]=true;
  state.totalScore+=state.chScore;
  saveSave();
  document.getElementById('r-icon').textContent=acc>=80?'ğŸ†':acc>=60?'â­':'ğŸ’ª';
  document.getElementById('r-title').textContent=
    acc>=80?'ì™„ë²½í•œ ì´í•´!':acc>=60?'ì˜ í–ˆì–´ìš”!':'ë‹¤ì‹œ ë„ì „!';
  document.getElementById('r-score').textContent=state.chScore+'ì ';
  document.getElementById('r-correct').textContent=state.correct+'/'+total;
  document.getElementById('r-acc').textContent=acc+'%';
  document.getElementById('r-pts').textContent=state.chScore+'ì ';
  show('result-screen');
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// UTILS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}

loadSave();
showChapters();
</script>
</body>
</html>
