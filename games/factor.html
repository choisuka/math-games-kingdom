<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìˆ˜ì‹ ë§ˆë²•ì‚¬ â€” ê³±ì…ˆê³µì‹ Â· ì¸ìˆ˜ë¶„í•´</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#08001a;--bg2:#110a2e;--bg3:#1e1245;
  --purple:#c084fc;--blue:#38bdf8;--green:#34d399;
  --amber:#f59e0b;--pink:#f472b6;--red:#f87171;
  --text:#e2e8f0;--text2:#94a3b8;--radius:14px;
}
html,body{height:100%;background:var(--bg);color:var(--text);
  font-family:'Segoe UI','Apple SD Gothic Neo',sans-serif;overflow-x:hidden}

/* â”€â”€ screens â”€â”€ */
.screen{display:none}
.screen.active{display:block}

/* â”€â”€ TITLE â”€â”€ */
#title-screen{
  min-height:100vh;display:flex;flex-direction:column;
  align-items:center;justify-content:center;text-align:center;
  padding:2rem;position:relative;overflow:hidden;
}
.title-bg{
  position:absolute;inset:0;
  background:radial-gradient(ellipse 80% 60% at 50% 30%,rgba(192,132,252,.18),transparent 70%);
  pointer-events:none;
}
.title-stars{position:absolute;inset:0;pointer-events:none}
.star{position:absolute;width:3px;height:3px;border-radius:50%;background:#fff;animation:twinkle var(--d,2s) ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:.2;transform:scale(1)}50%{opacity:1;transform:scale(1.5)}}
.wand{font-size:4rem;animation:float 3s ease-in-out infinite;display:block;margin-bottom:.5rem}
@keyframes float{0%,100%{transform:translateY(0) rotate(-5deg)}50%{transform:translateY(-12px) rotate(5deg)}}
.title-badge{
  font-size:.75rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;
  background:rgba(192,132,252,.2);color:var(--purple);
  border:1px solid rgba(192,132,252,.4);border-radius:100px;
  padding:.3rem .9rem;margin-bottom:1rem;display:inline-block;
}
h1{
  font-size:clamp(2.2rem,6vw,3.8rem);font-weight:900;
  background:linear-gradient(135deg,#c084fc,#38bdf8,#34d399);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;line-height:1.2;margin-bottom:.5rem;
}
.title-sub{color:var(--text2);font-size:1.05rem;margin-bottom:2rem}
.title-formulas{
  display:flex;gap:.75rem;flex-wrap:wrap;justify-content:center;
  margin-bottom:2.5rem;
}
.tf{
  background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);
  border-radius:10px;padding:.4rem .9rem;font-size:.82rem;
  font-family:monospace;color:var(--blue);
}
.btn-start{
  background:linear-gradient(135deg,#7c3aed,#4f46e5);color:#fff;
  border:none;border-radius:12px;padding:1rem 3rem;
  font-size:1.15rem;font-weight:700;cursor:pointer;
  box-shadow:0 0 30px rgba(124,58,237,.5);
  transition:transform .2s,box-shadow .2s;
}
.btn-start:hover{transform:translateY(-3px);box-shadow:0 0 50px rgba(124,58,237,.7)}
.title-stats{margin-top:1.5rem;color:var(--text2);font-size:.85rem}

/* â”€â”€ CHAPTERS â”€â”€ */
#chapter-screen{max-width:1100px;margin:0 auto;padding:2rem 1.5rem}
.ch-header{text-align:center;margin-bottom:2rem}
.ch-header h2{font-size:1.8rem;font-weight:800}
.ch-header p{color:var(--text2);margin-top:.3rem}
.ch-part-title{
  font-size:.75rem;font-weight:700;letter-spacing:.1em;text-transform:uppercase;
  color:var(--text2);margin-bottom:.75rem;padding-left:.25rem;
  border-left:3px solid var(--purple);padding-left:.75rem;
}
.ch-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-bottom:2rem}
.ch-card{
  background:var(--bg2);border:1px solid rgba(255,255,255,.07);
  border-radius:var(--radius);padding:1.25rem 1rem;cursor:pointer;
  transition:transform .2s,border-color .2s,box-shadow .2s;
  position:relative;overflow:hidden;text-align:center;
}
.ch-card.locked{opacity:.45;cursor:not-allowed}
.ch-card:not(.locked):hover{transform:translateY(-4px);box-shadow:0 12px 40px rgba(0,0,0,.5)}
.ch-card::before{
  content:'';position:absolute;inset:0;
  background:var(--card-glow,radial-gradient(ellipse at 50% 0%,rgba(192,132,252,.15),transparent 60%));
  opacity:0;transition:opacity .3s;pointer-events:none;
}
.ch-card:not(.locked):hover::before{opacity:1}
.ch-icon{font-size:2rem;margin-bottom:.5rem}
.ch-name{font-size:.88rem;font-weight:700;margin-bottom:.2rem}
.ch-sub{font-size:.72rem;color:var(--text2)}
.ch-stars{margin-top:.5rem;font-size:.75rem;color:var(--amber)}
.lock-icon{position:absolute;top:.5rem;right:.6rem;font-size:.85rem;opacity:.6}
.ch-progress{
  height:3px;background:rgba(255,255,255,.1);
  border-radius:100px;margin-top:.6rem;overflow:hidden;
}
.ch-progress-fill{height:100%;border-radius:100px;background:var(--card-accent,var(--purple));width:0%;transition:width .5s}

/* â”€â”€ QUIZ â”€â”€ */
#quiz-screen{max-width:1200px;margin:0 auto;padding:1.5rem}
.quiz-topbar{
  display:flex;align-items:center;gap:1rem;
  margin-bottom:1rem;flex-wrap:wrap;
}
.btn-back{
  background:rgba(255,255,255,.07);border:1px solid rgba(255,255,255,.12);
  color:var(--text2);border-radius:8px;padding:.35rem .8rem;
  font-size:.82rem;cursor:pointer;transition:background .2s;
}
.btn-back:hover{background:rgba(255,255,255,.12)}
.quiz-ch-label{font-size:.9rem;font-weight:700;color:var(--purple)}
.quiz-progress-bar{flex:1;height:6px;background:rgba(255,255,255,.1);border-radius:100px;min-width:100px}
.quiz-progress-fill{height:100%;border-radius:100px;background:linear-gradient(90deg,var(--purple),var(--blue));transition:width .4s}
.quiz-score{font-size:.85rem;color:var(--text2)}

.quiz-body{
  display:grid;grid-template-columns:1fr 360px;
  gap:1.2rem;align-items:start;
}
@media(max-width:860px){.quiz-body{grid-template-columns:1fr}}

.quiz-left{
  background:var(--bg2);border:1px solid rgba(255,255,255,.07);
  border-radius:var(--radius);padding:1.75rem;
}
.q-num{font-size:.75rem;color:var(--text2);margin-bottom:.5rem}
.q-text{
  font-size:1.1rem;line-height:1.7;margin-bottom:1.2rem;
  font-weight:500;
}
.q-expression{
  background:rgba(192,132,252,.1);border:1px solid rgba(192,132,252,.25);
  border-radius:10px;padding:.9rem 1.2rem;
  font-size:1.3rem;font-family:monospace;text-align:center;
  color:var(--purple);margin-bottom:1.2rem;letter-spacing:.05em;
}
.choices{display:grid;grid-template-columns:1fr 1fr;gap:.65rem}
.choice{
  background:rgba(255,255,255,.05);border:2px solid rgba(255,255,255,.1);
  border-radius:10px;padding:.75rem 1rem;cursor:pointer;
  font-size:.93rem;transition:all .15s;text-align:center;
  font-family:monospace;
}
.choice:hover:not(.disabled){background:rgba(192,132,252,.15);border-color:rgba(192,132,252,.5)}
.choice.correct{background:rgba(52,211,153,.15);border-color:#34d399;color:#34d399}
.choice.wrong{background:rgba(248,113,113,.15);border-color:#f87171;color:#f87171}
.choice.disabled{cursor:default}

.fill-wrap{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}
.fill-input{
  flex:1;min-width:160px;background:rgba(255,255,255,.07);
  border:2px solid rgba(255,255,255,.15);border-radius:10px;
  padding:.7rem 1rem;font-size:1rem;color:var(--text);
  font-family:monospace;outline:none;transition:border-color .2s;
}
.fill-input:focus{border-color:var(--purple)}
.fill-input.correct{border-color:#34d399;background:rgba(52,211,153,.1)}
.fill-input.wrong{border-color:#f87171;background:rgba(248,113,113,.1)}
.btn-submit{
  background:var(--purple);color:#fff;border:none;border-radius:10px;
  padding:.7rem 1.4rem;font-size:.9rem;font-weight:700;cursor:pointer;
  transition:opacity .2s;
}
.btn-submit:hover{opacity:.85}
.btn-submit:disabled{opacity:.4;cursor:default}

.feedback{
  margin-top:1rem;padding:.9rem 1.1rem;border-radius:10px;
  font-size:.88rem;line-height:1.6;display:none;
}
.feedback.show{display:block}
.feedback.ok{background:rgba(52,211,153,.1);border:1px solid rgba(52,211,153,.3);color:#6ee7b7}
.feedback.ng{background:rgba(248,113,113,.1);border:1px solid rgba(248,113,113,.3);color:#fca5a5}
.fb-steps{margin-top:.5rem;padding-left:.5rem;font-size:.82rem;opacity:.85}
.fb-step{display:block;margin:.2rem 0}

.btn-next{
  margin-top:1rem;width:100%;background:var(--bg3);
  border:1px solid rgba(255,255,255,.12);color:var(--text);
  border-radius:10px;padding:.7rem;font-size:.9rem;font-weight:600;
  cursor:pointer;transition:background .2s;display:none;
}
.btn-next.show{display:block}
.btn-next:hover{background:rgba(255,255,255,.1)}

/* â”€â”€ CONCEPT PANEL â”€â”€ */
.concept-panel{
  background:var(--bg2);border:1px solid rgba(255,255,255,.07);
  border-radius:var(--radius);padding:1.5rem;
  position:sticky;top:1rem;
}
.cp-title{
  font-size:.78rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;
  color:var(--purple);margin-bottom:.9rem;display:flex;align-items:center;gap:.4rem;
}
.cp-visual{
  background:rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.08);
  border-radius:10px;padding:1rem;margin-bottom:1rem;
  font-family:monospace;font-size:.78rem;line-height:1.7;
  color:#94a3b8;text-align:center;
}
.cp-visual svg{display:block;margin:0 auto}
.cp-formula-box{
  background:rgba(192,132,252,.08);border:1px solid rgba(192,132,252,.2);
  border-radius:10px;padding:.75rem 1rem;margin-bottom:.9rem;
  font-family:monospace;font-size:1rem;color:var(--purple);text-align:center;
  font-weight:700;letter-spacing:.03em;
}
.cp-sub-formula{
  display:flex;justify-content:space-between;align-items:center;
  padding:.3rem 0;border-bottom:1px solid rgba(255,255,255,.06);font-size:.82rem;
}
.cp-sub-formula:last-child{border-bottom:none}
.cp-lbl{color:var(--text2)}
.cp-val{font-family:monospace;color:var(--blue)}
.cp-why{margin-top:.9rem}
.cp-why-title{
  font-size:.72rem;font-weight:700;letter-spacing:.07em;text-transform:uppercase;
  color:var(--amber);margin-bottom:.5rem;
}
.cp-why-item{
  background:rgba(245,158,11,.07);border-left:2px solid var(--amber);
  border-radius:0 8px 8px 0;padding:.5rem .75rem;
  font-size:.8rem;line-height:1.6;color:var(--text2);margin-bottom:.4rem;
}
.cp-why-item strong{color:var(--text)}
.cp-tip{
  margin-top:.7rem;background:rgba(56,189,248,.07);
  border:1px solid rgba(56,189,248,.2);border-radius:8px;
  padding:.5rem .75rem;font-size:.78rem;color:var(--blue);line-height:1.5;
}

/* â”€â”€ RESULT â”€â”€ */
#result-screen{
  max-width:600px;margin:0 auto;padding:3rem 1.5rem;text-align:center;
}
.result-icon{font-size:5rem;display:block;margin-bottom:1rem;animation:float 2s ease-in-out infinite}
.result-title{font-size:2rem;font-weight:900;margin-bottom:.5rem}
.result-score{
  font-size:3.5rem;font-weight:900;
  background:linear-gradient(135deg,var(--purple),var(--blue));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;margin:1rem 0;
}
.result-stats{
  display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin:1.5rem 0;
}
.rs-box{background:var(--bg2);border-radius:12px;padding:1rem .5rem;border:1px solid rgba(255,255,255,.07)}
.rs-num{font-size:1.8rem;font-weight:800}
.rs-lbl{font-size:.72rem;color:var(--text2);margin-top:.2rem}
.result-msg{color:var(--text2);font-size:.95rem;line-height:1.6;margin:.5rem 0 1.5rem}
.result-btns{display:flex;gap:.75rem;justify-content:center;flex-wrap:wrap}
.btn-retry{
  background:rgba(192,132,252,.15);border:1px solid rgba(192,132,252,.4);
  color:var(--purple);border-radius:10px;padding:.7rem 1.6rem;
  font-size:.9rem;font-weight:700;cursor:pointer;transition:background .2s;
}
.btn-retry:hover{background:rgba(192,132,252,.25)}
.btn-chapters{
  background:var(--purple);color:#fff;border:none;border-radius:10px;
  padding:.7rem 1.6rem;font-size:.9rem;font-weight:700;cursor:pointer;
  transition:opacity .2s;
}
.btn-chapters:hover{opacity:.85}
</style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â• TITLE â•â•â•â•â•â•â•â•â•â• -->
<div id="title-screen" class="screen active">
  <div class="title-bg"></div>
  <div class="title-stars" id="stars"></div>
  <span class="wand">ğŸª„</span>
  <div class="title-badge">ì¤‘3 ìˆ˜í•™</div>
  <h1>ìˆ˜ì‹ ë§ˆë²•ì‚¬</h1>
  <p class="title-sub">ê³±ì…ˆê³µì‹ê³¼ ì¸ìˆ˜ë¶„í•´ë¥¼ ë§ˆìŠ¤í„°í•˜ë¼!</p>
  <div class="title-formulas">
    <span class="tf">(a+b)Â² = aÂ²+2ab+bÂ²</span>
    <span class="tf">(a+b)(a-b) = aÂ²-bÂ²</span>
    <span class="tf">aÂ²-bÂ² = (a+b)(a-b)</span>
    <span class="tf">xÂ²+px+q ì¸ìˆ˜ë¶„í•´</span>
  </div>
  <button class="btn-start" onclick="showChapters()">ë§ˆë²• ì‹œì‘ âœ¨</button>
  <p class="title-stats">10ì±•í„° Â· 80ë¬¸ì œ Â· ê°œë… ì‹œê°í™”</p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• CHAPTERS â•â•â•â•â•â•â•â•â•â• -->
<div id="chapter-screen" class="screen">
  <div class="ch-header">
    <h2>ğŸ—º ë§ˆë²• ì±•í„° ì„ íƒ</h2>
    <p style="color:var(--text2)">ì±•í„°ë¥¼ ìˆœì„œëŒ€ë¡œ í´ë¦¬ì–´í•´ ë‹¤ìŒ ë§ˆë²•ì„ í•´ê¸ˆí•˜ì„¸ìš”</p>
  </div>

  <div class="ch-part-title">âœ¨ Part 1 â€” ê³±ì…ˆê³µì‹ ì „ê°œ</div>
  <div class="ch-grid" id="grid-part1"></div>

  <div class="ch-part-title" style="margin-top:1rem">ğŸ”® Part 2 â€” ì¸ìˆ˜ë¶„í•´</div>
  <div class="ch-grid" id="grid-part2"></div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• QUIZ â•â•â•â•â•â•â•â•â•â• -->
<div id="quiz-screen" class="screen">
  <div class="quiz-topbar">
    <button class="btn-back" onclick="showChapters()">â† ì±•í„° ëª©ë¡</button>
    <span class="quiz-ch-label" id="q-ch-label"></span>
    <div class="quiz-progress-bar">
      <div class="quiz-progress-fill" id="q-prog-fill"></div>
    </div>
    <span class="quiz-score" id="q-score-label">0ì </span>
  </div>

  <div class="quiz-body">
    <div class="quiz-left">
      <div class="q-num" id="q-num"></div>
      <div class="q-text" id="q-text"></div>
      <div class="q-expression" id="q-expr" style="display:none"></div>
      <div class="choices" id="choices"></div>
      <div class="fill-wrap" id="fill-wrap" style="display:none">
        <input class="fill-input" id="fill-input" type="text" placeholder="ë‹µ ì…ë ¥..." autocomplete="off">
        <button class="btn-submit" id="btn-submit" onclick="checkFill()">í™•ì¸</button>
      </div>
      <div class="feedback" id="feedback"></div>
      <button class="btn-next" id="btn-next" onclick="nextQ()">ë‹¤ìŒ ë¬¸ì œ â†’</button>
    </div>
    <div class="concept-panel" id="concept-panel"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â• RESULT â•â•â•â•â•â•â•â•â•â• -->
<div id="result-screen" class="screen">
  <span class="result-icon" id="r-icon">ğŸ†</span>
  <div class="result-title" id="r-title">ì±•í„° í´ë¦¬ì–´!</div>
  <div class="result-score" id="r-score">0ì </div>
  <div class="result-stats">
    <div class="rs-box"><div class="rs-num" id="r-correct" style="color:var(--green)">0</div><div class="rs-lbl">ì •ë‹µ</div></div>
    <div class="rs-box"><div class="rs-num" id="r-wrong" style="color:var(--red)">0</div><div class="rs-lbl">ì˜¤ë‹µ</div></div>
    <div class="rs-box"><div class="rs-num" id="r-acc" style="color:var(--purple)">0%</div><div class="rs-lbl">ì •í™•ë„</div></div>
  </div>
  <div class="result-msg" id="r-msg"></div>
  <div class="result-btns">
    <button class="btn-retry" onclick="retryChapter()">ğŸ”„ ë‹¤ì‹œ í’€ê¸°</button>
    <button class="btn-chapters" onclick="showChapters()">ğŸ“– ì±•í„° ëª©ë¡</button>
  </div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  DATA
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const CHAPTERS = [
  // Part 1
  {id:0,title:'(a+b)Â² ê³µì‹',icon:'âœ¨',sub:'ì œê³±í•© ì „ê°œ',color:'#c084fc',part:1},
  {id:1,title:'(a-b)Â² ê³µì‹',icon:'â„ï¸',sub:'ì œê³±ì°¨ ì „ê°œ',color:'#38bdf8',part:1},
  {id:2,title:'í•©ì°¨ ê³µì‹',icon:'âš¡',sub:'(a+b)(a-b)',color:'#34d399',part:1},
  {id:3,title:'(x+a)(x+b)',icon:'ğŸŒ€',sub:'ì´ì°¨ì‹ ì „ê°œ',color:'#f59e0b',part:1},
  {id:4,title:'ê³µì‹ í™œìš©',icon:'ğŸ”®',sub:'ìˆ˜ì˜ ê³„ì‚°',color:'#f472b6',part:1},
  // Part 2
  {id:5,title:'ê³µí†µì¸ìˆ˜',icon:'ğŸ§²',sub:'ê³µí†µì¸ìˆ˜ ë¶„í•´',color:'#c084fc',part:2},
  {id:6,title:'ì™„ì „ì œê³± ë¶„í•´',icon:'ğŸ’',sub:'aÂ²Â±2ab+bÂ²í˜•',color:'#38bdf8',part:2},
  {id:7,title:'í•©ì°¨ ë¶„í•´',icon:'âš”ï¸',sub:'aÂ²-bÂ²í˜•',color:'#34d399',part:2},
  {id:8,title:'xÂ²+px+q ë¶„í•´',icon:'ğŸ”‘',sub:'ë‘ ìˆ˜ì˜ í•©Â·ê³±',color:'#f59e0b',part:2},
  {id:9,title:'ì¢…í•© ì¸ìˆ˜ë¶„í•´',icon:'ğŸ‘‘',sub:'ë³µí•© ìœ í˜•',color:'#f472b6',part:2},
];

const CONCEPTS = [
  // 0: (a+b)Â²
  { title:'âœ¨ (a+b)Â² ê³µì‹',
    formula:'(a+b)Â² = aÂ² + 2ab + bÂ²',
    subs:[{lbl:'ì „ê°œ ìˆœì„œ',val:'ì•Â·ì• + ì•Â·ë’¤Ã—2 + ë’¤Â·ë’¤'}],
    visual:`<svg width="160" height="160" font-size="12" font-family="monospace">
  <rect x="5" y="5" width="100" height="100" fill="rgba(192,132,252,.2)" stroke="#c084fc" stroke-width="1.5"/>
  <rect x="5" y="5" width="70" height="70" fill="rgba(192,132,252,.35)" stroke="#c084fc" stroke-width="1.5"/>
  <rect x="75" y="5" width="30" height="70" fill="rgba(56,189,248,.25)" stroke="#38bdf8" stroke-width="1.5"/>
  <rect x="5" y="75" width="70" height="30" fill="rgba(56,189,248,.25)" stroke="#38bdf8" stroke-width="1.5"/>
  <rect x="75" y="75" width="30" height="30" fill="rgba(52,211,153,.3)" stroke="#34d399" stroke-width="1.5"/>
  <text x="37" y="45" fill="#c084fc" text-anchor="middle">aÂ²</text>
  <text x="90" y="45" fill="#38bdf8" text-anchor="middle">ab</text>
  <text x="37" y="93" fill="#38bdf8" text-anchor="middle">ab</text>
  <text x="90" y="93" fill="#34d399" text-anchor="middle">bÂ²</text>
  <text x="37" y="125" fill="#94a3b8" text-anchor="middle">a</text>
  <text x="90" y="125" fill="#94a3b8" text-anchor="middle">b</text>
  <text x="125" y="45" fill="#94a3b8">a</text>
  <text x="125" y="93" fill="#94a3b8">b</text>
</svg>`,
    whys:[
      {q:'ì™œ 2abê°€ ë‚˜ì˜¬ê¹Œ?',a:'(a+b)Ã—(a+b)ë¥¼ ë„“ì´ë¡œ ë³´ë©´, ab ì§ì‚¬ê°í˜•ì´ 2ê°œ (ì˜¤ë¥¸ìª½+ì•„ë˜ìª½) ìƒê¹ë‹ˆë‹¤.'},
      {q:'(2x+3)Â² ì–´ë–»ê²Œ ì ìš©?',a:'a=2x, b=3ìœ¼ë¡œ ë†“ìœ¼ë©´ (2x)Â²+2Â·(2x)Â·3+3Â² = 4xÂ²+12x+9'},
    ],
    tip:'ğŸª„ aÂ²+2ab+bÂ² â€” ì¤‘ê°„í•­ ê³„ìˆ˜ê°€ í•­ìƒ 2ë°°!'
  },
  // 1: (a-b)Â²
  { title:'â„ï¸ (a-b)Â² ê³µì‹',
    formula:'(a-b)Â² = aÂ² - 2ab + bÂ²',
    subs:[{lbl:'ë¶€í˜¸ ì£¼ì˜',val:'ì¤‘ê°„í•­ì´ ìŒìˆ˜(âˆ’2ab)'}],
    visual:`<svg width="160" height="160" font-size="12" font-family="monospace">
  <rect x="5" y="5" width="100" height="100" fill="rgba(56,189,248,.15)" stroke="#38bdf8" stroke-width="1.5"/>
  <rect x="5" y="5" width="70" height="70" fill="rgba(192,132,252,.35)" stroke="#c084fc" stroke-width="1.5"/>
  <text x="37" y="45" fill="#c084fc" text-anchor="middle">aÂ²</text>
  <text x="90" y="45" fill="#38bdf8" text-anchor="middle">-ab</text>
  <text x="37" y="93" fill="#38bdf8" text-anchor="middle">-ab</text>
  <text x="90" y="93" fill="#34d399" text-anchor="middle">bÂ²</text>
  <text x="37" y="125" fill="#94a3b8" text-anchor="middle">a-b</text>
  <text x="90" y="125" fill="#94a3b8" text-anchor="middle">b</text>
  <text x="125" y="45" fill="#94a3b8">a-b</text>
  <text x="125" y="93" fill="#94a3b8">b</text>
</svg>`,
    whys:[
      {q:'(a-b)Â² = (a+(-b))Â² ë¡œ ì´í•´í•˜ê¸°',a:'b ëŒ€ì‹  -bë¥¼ ë„£ìœ¼ë©´: aÂ²+2Â·aÂ·(-b)+(-b)Â² = aÂ²-2ab+bÂ²'},
      {q:'ì™œ bÂ²ëŠ” ì–‘ìˆ˜?',a:'(-b)Â² = bÂ² â€” ìŒìˆ˜ì˜ ì œê³±ì€ í•­ìƒ ì–‘ìˆ˜!'},
    ],
    tip:'ğŸ§Š (a+b)Â²ì™€ bÂ² ë¶€ë¶„ì€ ê°™ê³ , ì¤‘ê°„í•­ ë¶€í˜¸ë§Œ ë‹¬ë¼ìš”.'
  },
  // 2: (a+b)(a-b)
  { title:'âš¡ í•©ì°¨ ê³µì‹',
    formula:'(a+b)(a-b) = aÂ² - bÂ²',
    subs:[{lbl:'íŠ¹ì§•',val:'ì¤‘ê°„í•­ì´ ì‚¬ë¼ì§ (ìƒì‡„)'}],
    visual:`<svg width="180" height="100" font-size="11" font-family="monospace">
  <rect x="5" y="20" width="100" height="60" fill="rgba(192,132,252,.25)" stroke="#c084fc" stroke-width="1.5"/>
  <rect x="75" y="20" width="30" height="60" fill="rgba(248,113,113,.3)" stroke="#f87171" stroke-width="1.5" stroke-dasharray="4"/>
  <text x="37" y="55" fill="#c084fc" text-anchor="middle">aÂ²-bÂ²</text>
  <text x="90" y="55" fill="#f87171" text-anchor="middle">-bÂ²</text>
  <text x="155" y="55" fill="#94a3b8" font-size="10">aÂ²-bÂ²</text>
  <text x="5" y="14" fill="#94a3b8" font-size="10">a</text>
  <text x="75" y="14" fill="#f87171" font-size="10">b</text>
</svg>`,
    whys:[
      {q:'ì™œ ì¤‘ê°„í•­ì´ ì‚¬ë¼ì§ˆê¹Œ?',a:'(a+b)(a-b) = aÂ²-ab+ab-bÂ² = aÂ²-bÂ². abì™€ -abê°€ ì„œë¡œ ìƒì‡„!'},
      {q:'í™œìš©: 99Ã—101 = ?',a:'(100-1)(100+1) = 100Â²-1Â² = 10000-1 = 9999'},
    ],
    tip:'âš¡ í•©Ã—ì°¨ = í°ê²ƒÂ² - ì‘ì€ê²ƒÂ². ì•”ì‚°ì— ë§¤ìš° ìœ ìš©!'
  },
  // 3: (x+a)(x+b)
  { title:'ğŸŒ€ (x+a)(x+b) ê³µì‹',
    formula:'(x+a)(x+b) = xÂ² + (a+b)x + ab',
    subs:[{lbl:'xê³„ìˆ˜',val:'a+b (ë‘ ìˆ˜ì˜ í•©)'},{lbl:'ìƒìˆ˜í•­',val:'ab (ë‘ ìˆ˜ì˜ ê³±)'}],
    visual:`<svg width="200" height="80" font-size="11" font-family="monospace">
  <text x="10" y="35" fill="#c084fc">(x+a)(x+b)</text>
  <text x="10" y="55" fill="#94a3b8">= xÂ·x + xÂ·b + aÂ·x + aÂ·b</text>
  <text x="10" y="72" fill="#38bdf8">= xÂ² + (a+b)x + ab</text>
</svg>`,
    whys:[
      {q:'ì™œ xê³„ìˆ˜ê°€ a+b?',a:'xÂ·b + aÂ·x = (a+b)x â€” xê°€ ë¶™ì€ í•­ë“¤ì„ ë¬¶ìœ¼ë©´ í•©ì´ ë©ë‹ˆë‹¤.'},
      {q:'(x+2)(x+3) ì ìš©',a:'a=2, b=3 â†’ xÂ²+(2+3)x+2Ã—3 = xÂ²+5x+6'},
    ],
    tip:'ğŸŒ€ í•©ì€ xê³„ìˆ˜, ê³±ì€ ìƒìˆ˜í•­!'
  },
  // 4: ìˆ˜ì˜ ê³„ì‚°
  { title:'ğŸ”® ê³±ì…ˆê³µì‹ ìˆ˜ì˜ ê³„ì‚° í™œìš©',
    formula:'í° ìˆ˜ = ê°€ê¹Œìš´ ì •ìˆ˜ Â± ì°¨ì´',
    subs:[
      {lbl:'102Â²',val:'(100+2)Â² = 10404'},
      {lbl:'99Ã—101',val:'(100-1)(100+1) = 9999'},
    ],
    visual:`<svg width="200" height="80" font-size="11" font-family="monospace">
  <text x="10" y="22" fill="#f472b6">102Â² = (100+2)Â²</text>
  <text x="10" y="40" fill="#94a3b8">= 100Â² + 2Â·100Â·2 + 2Â²</text>
  <text x="10" y="58" fill="#38bdf8">= 10000 + 400 + 4 = 10404</text>
</svg>`,
    whys:[
      {q:'ì™œ ì´ ë°©ë²•ì´ ìœ ìš©í•œê°€?',a:'100, 50, 200 ê°™ì€ "ê¹”ë”í•œ ìˆ˜" ì£¼ë³€ì˜ ê³„ì‚°ì„ ë¹ ë¥´ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.'},
      {q:'ì–´ë–¤ ê³µì‹ì„ ê³¨ë¼ì•¼?',a:'ê°™ì€ ìˆ˜ ì œê³± â†’ (aÂ±b)Â², ë‘ ìˆ˜ì˜ ì°¨ê°€ ê°™ì„ ë•Œ â†’ (a+b)(a-b)'},
    ],
    tip:'ğŸ”® ë‘ ìˆ˜ì˜ í‰ê· ì„ ê¸°ì¤€ìœ¼ë¡œ ë¶„í•´í•˜ë©´ ì‰¬ì›Œìš”!'
  },
  // 5: ê³µí†µì¸ìˆ˜
  { title:'ğŸ§² ê³µí†µì¸ìˆ˜ë¡œ ë¬¶ê¸°',
    formula:'ab + ac = a(b+c)',
    subs:[{lbl:'ë°©ë²•',val:'ê³µí†µëœ ë¶€ë¶„ì„ ì•ìœ¼ë¡œ êº¼ëƒ„'},{lbl:'ê²€ì¦',val:'ì „ê°œí•´ì„œ ì›ë˜ëŒ€ë¡œ ëŒì•„ì˜¤ë©´ OK'}],
    visual:`<svg width="200" height="80" font-size="11" font-family="monospace">
  <text x="10" y="22" fill="#94a3b8">3xÂ² + 6x</text>
  <text x="10" y="40" fill="#94a3b8">= 3xÂ·x + 3xÂ·2</text>
  <text x="10" y="58" fill="#c084fc">= 3x(x + 2)</text>
</svg>`,
    whys:[
      {q:'ê³µí†µì¸ìˆ˜ë¥¼ ì°¾ëŠ” ë°©ë²•?',a:'ê° í•­ì— ê³µí†µìœ¼ë¡œ ë“¤ì–´ìˆëŠ” ìˆ˜Â·ë¬¸ìë¥¼ ì°¾ì•„ ì•ìœ¼ë¡œ êº¼ëƒ…ë‹ˆë‹¤. ëª¨ë“  í•­ì„ ë‚˜ëˆŒ ìˆ˜ ìˆì–´ì•¼ í•´ìš”.'},
      {q:'2(x+1)+3y(x+1) ì²˜ëŸ¼ ì‹ì´ ê³µí†µì¸ìˆ˜ì¼ ë•Œ?',a:'(x+1)ì„ í•˜ë‚˜ì˜ ë¬¶ìŒ Aë¡œ ë³´ë©´: 2A+3yA = A(2+3y) = (x+1)(2+3y)'},
    ],
    tip:'ğŸ§² ê³µí†µì¸ìˆ˜ëŠ” ìˆ˜, ë¬¸ì, ë˜ëŠ” ì‹ ì „ì²´ê°€ ë  ìˆ˜ ìˆì–´ìš”!'
  },
  // 6: ì™„ì „ì œê³±ì‹
  { title:'ğŸ’ ì™„ì „ì œê³±ì‹ ì¸ìˆ˜ë¶„í•´',
    formula:'aÂ² + 2ab + bÂ² = (a+b)Â²\naÂ² - 2ab + bÂ² = (a-b)Â²',
    subs:[{lbl:'íŒë³„ë²•',val:'ì¤‘ê°„í•­ = 2 Ã— âˆšì•í•­ Ã— âˆšë’·í•­'}],
    visual:`<svg width="200" height="80" font-size="11" font-family="monospace">
  <text x="10" y="22" fill="#94a3b8">xÂ² + 6x + 9</text>
  <text x="10" y="40" fill="#94a3b8">= xÂ² + 2Â·xÂ·3 + 3Â²</text>
  <text x="10" y="58" fill="#38bdf8">= (x+3)Â²</text>
</svg>`,
    whys:[
      {q:'ì™„ì „ì œê³±ì‹ì¸ì§€ í™•ì¸í•˜ëŠ” ë²•?',a:'â‘  ì²«ì§¸Â·ì…‹ì§¸í•­ì´ ì™„ì „ì œê³±ìˆ˜, â‘¡ ê°€ìš´ë°í•­ = 2Ã—âˆšì²«ì§¸Ã—âˆšì…‹ì§¸ ì´ë©´ ì™„ì „ì œê³±ì‹!'},
      {q:'4xÂ²+12x+9 ì¸ìˆ˜ë¶„í•´?',a:'âˆš(4xÂ²)=2x, âˆš9=3, 2Â·2xÂ·3=12x âœ“ â†’ (2x+3)Â²'},
    ],
    tip:'ğŸ’ ì™„ì „ì œê³±ìˆ˜: 1,4,9,16,25,36... ë¥¼ ë¨¼ì € í™•ì¸!'
  },
  // 7: aÂ²-bÂ²
  { title:'âš”ï¸ í•©ì°¨ê³µì‹ ì¸ìˆ˜ë¶„í•´',
    formula:'aÂ² - bÂ² = (a+b)(a-b)',
    subs:[{lbl:'ì¡°ê±´',val:'ë‘ í•­ ëª¨ë‘ ì™„ì „ì œê³±ìˆ˜'},{lbl:'ë¶€í˜¸',val:'ë°˜ë“œì‹œ ëº„ì…ˆ(âˆ’)ì´ì–´ì•¼ í•¨'}],
    visual:`<svg width="200" height="80" font-size="11" font-family="monospace">
  <text x="10" y="22" fill="#94a3b8">xÂ² - 9</text>
  <text x="10" y="40" fill="#94a3b8">= xÂ² - 3Â²</text>
  <text x="10" y="58" fill="#34d399">= (x+3)(x-3)</text>
</svg>`,
    whys:[
      {q:'ì™œ í•©Ã—ì°¨ í˜•íƒœë¡œ ë‚˜ë‰ ê¹Œ?',a:'(a+b)(a-b) = aÂ²-bÂ² ì´ë¯€ë¡œ, ì—­ë°©í–¥ì´ ë°”ë¡œ ì´ ì¸ìˆ˜ë¶„í•´ì…ë‹ˆë‹¤.'},
      {q:'4xÂ²-25 ì¸ìˆ˜ë¶„í•´?',a:'= (2x)Â²-5Â² = (2x+5)(2x-5)'},
    ],
    tip:'âš”ï¸ aÂ²-bÂ² â†’ aëŠ” âˆšì•í•­, bëŠ” âˆšë’·í•­!'
  },
  // 8: xÂ²+px+q
  { title:'ğŸ”‘ xÂ²+px+q ì¸ìˆ˜ë¶„í•´',
    formula:'xÂ²+px+q = (x+a)(x+b)\në‹¨, a+b=p, ab=q',
    subs:[{lbl:'xê³„ìˆ˜ p',val:'ë‘ ìˆ˜ì˜ í•© a+b'},{lbl:'ìƒìˆ˜í•­ q',val:'ë‘ ìˆ˜ì˜ ê³± ab'}],
    visual:`<svg width="200" height="100" font-size="11" font-family="monospace">
  <text x="10" y="20" fill="#f59e0b">xÂ²+5x+6 ì¸ìˆ˜ë¶„í•´</text>
  <text x="10" y="38" fill="#94a3b8">í•©=5, ê³±=6ì¸ ë‘ ìˆ˜?</text>
  <text x="10" y="56" fill="#94a3b8">â†’ 2+3=5, 2Ã—3=6 âœ“</text>
  <text x="10" y="76" fill="#f59e0b">= (x+2)(x+3)</text>
</svg>`,
    whys:[
      {q:'ë‘ ìˆ˜ë¥¼ ì°¾ëŠ” ë°©ë²•?',a:'q(ìƒìˆ˜í•­)ì˜ ì•½ìˆ˜ ìŒì„ ë‚˜ì—´í•˜ê³ , ê·¸ ì¤‘ í•©ì´ pì¸ ìŒì„ ì°¾ìŠµë‹ˆë‹¤.'},
      {q:'xÂ²-x-6 ì¸ìˆ˜ë¶„í•´?',a:'ê³±=-6, í•©=-1ì¸ ë‘ ìˆ˜: 2ì™€ -3 â†’ (x+2)(x-3)'},
    ],
    tip:'ğŸ”‘ í•©ê³¼ ê³± í…Œì´ë¸”: qì˜ ì¸ìˆ˜ ìŒ ë‚˜ì—´ â†’ í•©ì´ pì¸ ê²ƒ ì„ íƒ!'
  },
  // 9: ì¢…í•©
  { title:'ğŸ‘‘ ì¢…í•© ì¸ìˆ˜ë¶„í•´',
    formula:'â‘  ê³µí†µì¸ìˆ˜ ë¨¼ì €\nâ‘¡ ë‚¨ì€ ì‹ íŒ¨í„´ í™•ì¸',
    subs:[
      {lbl:'Step 1',val:'ê³µí†µì¸ìˆ˜ êº¼ë‚´ê¸°'},
      {lbl:'Step 2',val:'ì™„ì „ì œê³±/í•©ì°¨/xÂ²+px+q'},
    ],
    visual:`<svg width="200" height="100" font-size="11" font-family="monospace">
  <text x="10" y="20" fill="#f472b6">2xÂ²+4x-6</text>
  <text x="10" y="38" fill="#94a3b8">= 2(xÂ²+2x-3)</text>
  <text x="10" y="56" fill="#94a3b8">  í•©=2, ê³±=-3 â†’ 3,-1</text>
  <text x="10" y="74" fill="#f472b6">= 2(x+3)(x-1)</text>
</svg>`,
    whys:[
      {q:'ì™œ ê³µí†µì¸ìˆ˜ë¥¼ ë¨¼ì € êº¼ë‚¼ê¹Œ?',a:'ìˆ«ìê°€ ì‘ì•„ì ¸ì„œ ë‚˜ë¨¸ì§€ ì¸ìˆ˜ë¶„í•´ê°€ í›¨ì”¬ ì‰¬ì›Œì§‘ë‹ˆë‹¤.'},
      {q:'ì¸ìˆ˜ë¶„í•´ê°€ ëëŠ”ì§€ í™•ì¸?',a:'ì „ê°œí•´ì„œ ì›ë˜ ì‹ê³¼ ê°™ìœ¼ë©´ ì„±ê³µ! ë°˜ë“œì‹œ ê²€ì‚°í•˜ì„¸ìš”.'},
    ],
    tip:'ğŸ‘‘ ê³µí†µì¸ìˆ˜ â†’ ì™„ì „ì œê³± â†’ í•©ì°¨ â†’ xÂ²+px+q ìˆœìœ¼ë¡œ í™•ì¸!'
  },
];

const QS = [
  // â”€â”€ Ch 0: (a+b)Â² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+2)Â²',c:['xÂ²+4x+4','xÂ²+2x+4','xÂ²+4x+2','xÂ²+4'],ans:0,
     st:['(x+2)Â² = xÂ²+2Â·xÂ·2+2Â²','= xÂ²+4x+4'],ans_txt:'xÂ²+4x+4'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(a+3)Â²',c:['aÂ²+9','aÂ²+6a+9','aÂ²+3a+9','aÂ²+6a+3'],ans:1,
     st:['(a+3)Â² = aÂ²+2Â·aÂ·3+3Â²','= aÂ²+6a+9'],ans_txt:'aÂ²+6a+9'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(2x+1)Â²',c:['4xÂ²+4x+1','2xÂ²+4x+1','4xÂ²+2x+1','4xÂ²+1'],ans:0,
     st:['(2x)Â²+2Â·2xÂ·1+1Â²','= 4xÂ²+4x+1'],ans_txt:'4xÂ²+4x+1'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+y)Â²',c:['xÂ²+yÂ²','xÂ²+xy+yÂ²','xÂ²+2xy+yÂ²','2xÂ²+2yÂ²'],ans:2,
     st:['xÂ²+2Â·xÂ·y+yÂ²','= xÂ²+2xy+yÂ²'],ans_txt:'xÂ²+2xy+yÂ²'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(3a+2b)Â²',c:['9aÂ²+12ab+4bÂ²','9aÂ²+6ab+4bÂ²','3aÂ²+12ab+2bÂ²','9aÂ²+4bÂ²'],ans:0,
     st:['(3a)Â²+2Â·3aÂ·2b+(2b)Â²','= 9aÂ²+12ab+4bÂ²'],ans_txt:'9aÂ²+12ab+4bÂ²'},
    {q:'ë¹ˆì¹¸ì— ì•Œë§ì€ ì‹ì€?',ex:'(a+b)Â² = aÂ² + â–¡ + bÂ²',c:['ab','2ab','a+b','2a+2b'],ans:1,
     st:['(a+b)Â² ì „ê°œ ê³µì‹','ì¤‘ê°„í•­ = 2ab'],ans_txt:'2ab'},
    {q:'(x+5)Â²ë¥¼ ì „ê°œí–ˆì„ ë•Œ xì˜ ê³„ìˆ˜ëŠ”?',ex:null,c:['5','10','25','2'],ans:1,
     st:['(x+5)Â² = xÂ²+10x+25','xì˜ ê³„ìˆ˜ = 2Ã—5 = 10'],ans_txt:'10'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(2a+3b)Â²',c:['4aÂ²+9bÂ²','4aÂ²+6ab+9bÂ²','4aÂ²+12ab+9bÂ²','2aÂ²+12ab+3bÂ²'],ans:2,
     st:['(2a)Â²+2Â·2aÂ·3b+(3b)Â²','= 4aÂ²+12ab+9bÂ²'],ans_txt:'4aÂ²+12ab+9bÂ²'},
  ],
  // â”€â”€ Ch 1: (a-b)Â² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x-3)Â²',c:['xÂ²-6x+9','xÂ²-3x+9','xÂ²-6x-9','xÂ²+6x+9'],ans:0,
     st:['(x-3)Â² = xÂ²-2Â·xÂ·3+3Â²','= xÂ²-6x+9'],ans_txt:'xÂ²-6x+9'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(a-5)Â²',c:['aÂ²-25','aÂ²-10a+25','aÂ²-5a+25','aÂ²-10a-25'],ans:1,
     st:['aÂ²-2Â·aÂ·5+5Â²','= aÂ²-10a+25'],ans_txt:'aÂ²-10a+25'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(2x-3)Â²',c:['4xÂ²-9','4xÂ²-12x+9','2xÂ²-12x+9','4xÂ²-6x+9'],ans:1,
     st:['(2x)Â²-2Â·2xÂ·3+3Â²','= 4xÂ²-12x+9'],ans_txt:'4xÂ²-12x+9'},
    {q:'ë¹ˆì¹¸ì— ì•Œë§ì€ ì‹ì€?',ex:'(a-b)Â² = aÂ² - â–¡ + bÂ²',c:['ab','2ab','a-b','2a-2b'],ans:1,
     st:['(a-b)Â² ì¤‘ê°„í•­','= -2abì´ë¯€ë¡œ â–¡=2ab'],ans_txt:'2ab'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(3x-y)Â²',c:['9xÂ²-yÂ²','9xÂ²-3xy+yÂ²','9xÂ²-6xy+yÂ²','3xÂ²-6xy+yÂ²'],ans:2,
     st:['(3x)Â²-2Â·3xÂ·y+yÂ²','= 9xÂ²-6xy+yÂ²'],ans_txt:'9xÂ²-6xy+yÂ²'},
    {q:'(x-4)Â²ë¥¼ ì „ê°œí–ˆì„ ë•Œ xì˜ ê³„ìˆ˜ëŠ”?',ex:null,c:['-4','-8','-16','4'],ans:1,
     st:['(x-4)Â² = xÂ²-8x+16','xì˜ ê³„ìˆ˜ = -2Ã—4 = -8'],ans_txt:'-8'},
    {q:'(x-1)Â²+(x+1)Â²ë¥¼ ì „ê°œí•˜ë©´?',ex:null,c:['2xÂ²+2','2xÂ²','2xÂ²-2','2xÂ²+4x'],ans:0,
     st:['(xÂ²-2x+1)+(xÂ²+2x+1)','= 2xÂ²+2'],ans_txt:'2xÂ²+2'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(5a-2b)Â²',c:['25aÂ²-4bÂ²','25aÂ²-10ab+4bÂ²','25aÂ²-20ab+4bÂ²','5aÂ²-20ab+2bÂ²'],ans:2,
     st:['(5a)Â²-2Â·5aÂ·2b+(2b)Â²','= 25aÂ²-20ab+4bÂ²'],ans_txt:'25aÂ²-20ab+4bÂ²'},
  ],
  // â”€â”€ Ch 2: (a+b)(a-b) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+3)(x-3)',c:['xÂ²-9','xÂ²+9','xÂ²-3','xÂ²-6x+9'],ans:0,
     st:['í•©ì°¨ ê³µì‹: a=x, b=3','xÂ²-3Â² = xÂ²-9'],ans_txt:'xÂ²-9'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(2a+b)(2a-b)',c:['4aÂ²-bÂ²','2aÂ²-bÂ²','4aÂ²+bÂ²','4aÂ²-2bÂ²'],ans:0,
     st:['a=2a, b=b ëŒ€ì…','(2a)Â²-bÂ² = 4aÂ²-bÂ²'],ans_txt:'4aÂ²-bÂ²'},
    {q:'ë¹ˆì¹¸ì— ì•Œë§ì€ ê²ƒì€?',ex:'(a+b)(a-b) = â–¡',c:['aÂ²+bÂ²','aÂ²-bÂ²','2aÂ²-2bÂ²','(a-b)Â²'],ans:1,
     st:['í•©ì°¨ ê³µì‹ ê²°ê³¼','= aÂ²-bÂ²'],ans_txt:'aÂ²-bÂ²'},
    {q:'ë‹¤ìŒì„ ê³„ì‚°í•˜ë©´?',ex:'99 Ã— 101',c:['9899','9999','10001','10100'],ans:1,
     st:['(100-1)(100+1) = 100Â²-1Â²','= 10000-1 = 9999'],ans_txt:'9999'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(3x+2)(3x-2)',c:['9xÂ²-4','9xÂ²+4','3xÂ²-4','9xÂ²-6x-4'],ans:0,
     st:['(3x)Â²-2Â² = 9xÂ²-4'],ans_txt:'9xÂ²-4'},
    {q:'ë‹¤ìŒì„ ê³„ì‚°í•˜ë©´?',ex:'51 Ã— 49',c:['2400','2401','2499','2500'],ans:2,
     st:['(50+1)(50-1) = 50Â²-1Â²','= 2500-1 = 2499'],ans_txt:'2499'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+y)(x-y)',c:['xÂ²-yÂ²','xÂ²+yÂ²','xÂ²-2xy+yÂ²','(x-y)Â²'],ans:0,
     st:['í•©ì°¨ ê³µì‹: aÂ²-bÂ²','= xÂ²-yÂ²'],ans_txt:'xÂ²-yÂ²'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(5+x)(5-x)',c:['25+xÂ²','25-xÂ²','10x-xÂ²','25-10x+xÂ²'],ans:1,
     st:['a=5, b=x â†’ 5Â²-xÂ²','= 25-xÂ²'],ans_txt:'25-xÂ²'},
  ],
  // â”€â”€ Ch 3: (x+a)(x+b) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+2)(x+3)',c:['xÂ²+5x+6','xÂ²+6x+5','xÂ²+5x+5','xÂ²+6x+6'],ans:0,
     st:['xÂ²+(2+3)x+2Ã—3','= xÂ²+5x+6'],ans_txt:'xÂ²+5x+6'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x-1)(x+4)',c:['xÂ²+3x-4','xÂ²-3x-4','xÂ²+3x+4','xÂ²-4'],ans:0,
     st:['xÂ²+(-1+4)x+(-1)Ã—4','= xÂ²+3x-4'],ans_txt:'xÂ²+3x-4'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x-2)(x-3)',c:['xÂ²-5x+6','xÂ²+5x+6','xÂ²-5x-6','xÂ²-6x+5'],ans:0,
     st:['xÂ²+(-2-3)x+(-2)Ã—(-3)','= xÂ²-5x+6'],ans_txt:'xÂ²-5x+6'},
    {q:'(x+a)(x+b) = xÂ² + (a+b)x + â–¡ ì˜ â–¡ëŠ”?',ex:null,c:['a+b','ab','2ab','(a+b)Â²'],ans:1,
     st:['ìƒìˆ˜í•­ = ë‘ ìˆ˜ì˜ ê³±','â–¡ = ab'],ans_txt:'ab'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x+5)(x-2)',c:['xÂ²+3x-10','xÂ²-3x-10','xÂ²+3x+10','xÂ²-10'],ans:0,
     st:['xÂ²+(5-2)x+5Ã—(-2)','= xÂ²+3x-10'],ans_txt:'xÂ²+3x-10'},
    {q:'(x+3)(x+4)ì˜ ìƒìˆ˜í•­ì€?',ex:null,c:['3','4','7','12'],ans:3,
     st:['ìƒìˆ˜í•­ = aÃ—b = 3Ã—4','= 12'],ans_txt:'12'},
    {q:'ë‹¤ìŒì„ ì „ê°œí•˜ë©´?',ex:'(x-1)(x-5)',c:['xÂ²-6x+5','xÂ²+6x+5','xÂ²-6x-5','xÂ²-4x+5'],ans:0,
     st:['xÂ²+(-1-5)x+(-1)Ã—(-5)','= xÂ²-6x+5'],ans_txt:'xÂ²-6x+5'},
    {q:'xÂ²+7x+12 = (x+3)(x+â–¡)ì—ì„œ â–¡ëŠ”?',ex:null,c:['3','4','6','12'],ans:1,
     st:['3+â–¡=7 â†’ â–¡=4','í™•ì¸: 3Ã—4=12 âœ“'],ans_txt:'4'},
  ],
  // â”€â”€ Ch 4: ìˆ˜ì˜ ê³„ì‚° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'102Â²',c:['10400','10404','10204','10040'],ans:1,
     st:['(100+2)Â² = 100Â²+2Â·100Â·2+2Â²','= 10000+400+4 = 10404'],ans_txt:'10404'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'98Â²',c:['9600','9604','9640','9960'],ans:1,
     st:['(100-2)Â² = 100Â²-2Â·100Â·2+2Â²','= 10000-400+4 = 9604'],ans_txt:'9604'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'103 Ã— 97',c:['9991','9999','10091','10009'],ans:1,
     st:['(100+3)(100-3) = 100Â²-3Â²','= 10000-9 = 9991'],ans_txt:'9991'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'52Â²',c:['2600','2704','2704','2604'],ans:1,
     st:['(50+2)Â² = 50Â²+2Â·50Â·2+2Â²','= 2500+200+4 = 2704'],ans_txt:'2704'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'48Â²',c:['2304','2400','2404','2204'],ans:0,
     st:['(50-2)Â² = 50Â²-2Â·50Â·2+2Â²','= 2500-200+4 = 2304'],ans_txt:'2304'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'201 Ã— 199',c:['39999','40001','39901','40099'],ans:0,
     st:['(200+1)(200-1) = 200Â²-1Â²','= 40000-1 = 39999'],ans_txt:'39999'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'1002Â²',c:['1004004','1004000','1000004','1040004'],ans:0,
     st:['(1000+2)Â² = 1000Â²+2Â·1000Â·2+4','= 1000000+4000+4 = 1004004'],ans_txt:'1004004'},
    {q:'ê³±ì…ˆê³µì‹ì„ ì´ìš©í•´ ê³„ì‚°í•˜ë©´?',ex:'102 Ã— 98',c:['9996','9996','10004','9800'],ans:0,
     st:['(100+2)(100-2) = 100Â²-2Â²','= 10000-4 = 9996'],ans_txt:'9996'},
  ],
  // â”€â”€ Ch 5: ê³µí†µì¸ìˆ˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'2x + 4',c:['2(x+4)','2(x+2)','x(2+4)','2x+4'],ans:1,
     st:['2x+4 = 2Â·x + 2Â·2','= 2(x+2)'],ans_txt:'2(x+2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'ax + ay',c:['a(x+y)','xy(a+a)','a(xÂ·y)','(a+x)(a+y)'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ a','= a(x+y)'],ans_txt:'a(x+y)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'3xÂ² + 6x',c:['3(xÂ²+2)','3x(x+2)','x(3x+6)','3xÂ²(1+2)'],ans:1,
     st:['ê³µí†µì¸ìˆ˜ 3x','= 3x(x+2)'],ans_txt:'3x(x+2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ²y + xyÂ²',c:['xy(x+y)','xÂ²yÂ²','xy(xÂ·y)','(xy)Â²'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ xy','= xy(x+y)'],ans_txt:'xy(x+y)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'4aÂ²b - 8abÂ²',c:['4ab(a-2b)','4ab(a+2b)','4a(ab-2bÂ²)','ab(4a-8b)'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ 4ab','= 4ab(a-2b)'],ans_txt:'4ab(a-2b)'},
    {q:'6xÂ² - 9x = â–¡(2x-3) ì—ì„œ â–¡ëŠ”?',ex:null,c:['3x','3','6x','2x'],ans:0,
     st:['6xÂ²-9xë¥¼ (2x-3)ë¡œ ë‚˜ëˆ„ë©´','= 3x'],ans_txt:'3x'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'2(x+1) + 3y(x+1)',c:['(x+1)(2+3y)','(x+1)(2-3y)','2+3y(x+1)','(2+3)(x+y+1)'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ (x+1)','= (x+1)(2+3y)'],ans_txt:'(x+1)(2+3y)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'a(b+c) - b(b+c)',c:['(b+c)(a-b)','(a-b)(b-c)','ab+ac-bÂ²','(b+c)(a+b)'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ (b+c)','= (b+c)(a-b)'],ans_txt:'(b+c)(a-b)'},
  ],
  // â”€â”€ Ch 6: ì™„ì „ì œê³±ì‹ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + 2x + 1',c:['(x+1)Â²','(x-1)Â²','(x+2)(x+1)','(x+1)(x-1)'],ans:0,
     st:['xÂ²+2Â·xÂ·1+1Â²','= (x+1)Â²'],ans_txt:'(x+1)Â²'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - 4x + 4',c:['(x-2)Â²','(x+2)Â²','(x-4)(x-1)','(x-2)(x+2)'],ans:0,
     st:['xÂ²-2Â·xÂ·2+2Â²','= (x-2)Â²'],ans_txt:'(x-2)Â²'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'aÂ² + 6a + 9',c:['(a+3)Â²','(a-3)Â²','(a+9)(a+1)','(a+3)(a-3)'],ans:0,
     st:['aÂ²+2Â·aÂ·3+3Â²','= (a+3)Â²'],ans_txt:'(a+3)Â²'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'4xÂ² + 4x + 1',c:['(4x+1)Â²','(2x+1)Â²','(2x-1)Â²','4(x+1)Â²'],ans:1,
     st:['(2x)Â²+2Â·2xÂ·1+1Â²','= (2x+1)Â²'],ans_txt:'(2x+1)Â²'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'9aÂ² - 6a + 1',c:['(3a-1)Â²','(3a+1)Â²','(9a-1)(a-1)','3(3aÂ²-2a)'],ans:0,
     st:['(3a)Â²-2Â·3aÂ·1+1Â²','= (3a-1)Â²'],ans_txt:'(3a-1)Â²'},
    {q:'xÂ² + â–¡x + 25 = (x+5)Â² ì—ì„œ â–¡ëŠ”?',ex:null,c:['5','10','15','25'],ans:1,
     st:['(x+5)Â² = xÂ²+10x+25','â–¡ = 10'],ans_txt:'10'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - 10x + 25',c:['(x-5)Â²','(x+5)Â²','(x-5)(x+5)','(x-5)(x-2)'],ans:0,
     st:['xÂ²-2Â·xÂ·5+5Â²','= (x-5)Â²'],ans_txt:'(x-5)Â²'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'4aÂ² + 12ab + 9bÂ²',c:['(2a+3b)Â²','(2a-3b)Â²','(4a+9b)(a+b)','2(2a+3b)Â²'],ans:0,
     st:['(2a)Â²+2Â·2aÂ·3b+(3b)Â²','= (2a+3b)Â²'],ans_txt:'(2a+3b)Â²'},
  ],
  // â”€â”€ Ch 7: aÂ²-bÂ² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - 4',c:['(x+2)(x-2)','(x-2)Â²','(x+4)(x-1)','(x-4)(x+1)'],ans:0,
     st:['xÂ²-2Â² = (x+2)(x-2)'],ans_txt:'(x+2)(x-2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'aÂ² - 9',c:['(a-3)Â²','(a+3)(a-3)','(a-9)(a+1)','(a+9)(a-1)'],ans:1,
     st:['aÂ²-3Â² = (a+3)(a-3)'],ans_txt:'(a+3)(a-3)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'4xÂ² - 1',c:['(2x+1)(2x-1)','(4x+1)(x-1)','(2x-1)Â²','4(xÂ²-1)'],ans:0,
     st:['(2x)Â²-1Â² = (2x+1)(2x-1)'],ans_txt:'(2x+1)(2x-1)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'9aÂ² - bÂ²',c:['(3a+b)(3a-b)','(9a+b)(a-b)','(3a-b)Â²','3(3aÂ²-bÂ²)'],ans:0,
     st:['(3a)Â²-bÂ² = (3a+b)(3a-b)'],ans_txt:'(3a+b)(3a-b)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'16 - xÂ²',c:['(4-x)Â²','(4+x)(4-x)','(x+4)(x+4)','4(4-xÂ²)'],ans:1,
     st:['4Â²-xÂ² = (4+x)(4-x)'],ans_txt:'(4+x)(4-x)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'25aÂ² - 4bÂ²',c:['(5a+2b)(5a-2b)','(25a+4b)(a-b)','(5a-2b)Â²','5(5aÂ²-4bÂ²)'],ans:0,
     st:['(5a)Â²-(2b)Â² = (5a+2b)(5a-2b)'],ans_txt:'(5a+2b)(5a-2b)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xâ´ - 1',c:['(xÂ²+1)(x+1)(x-1)','(xÂ²-1)Â²','(x+1)(x-1)','(xÂ²+1)(xÂ²-1)'],ans:0,
     st:['xâ´-1 = (xÂ²+1)(xÂ²-1)','= (xÂ²+1)(x+1)(x-1)'],ans_txt:'(xÂ²+1)(x+1)(x-1)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - yÂ²',c:['(x+y)(x-y)','(x-y)Â²','xÂ²-yÂ²','(x+y)Â²'],ans:0,
     st:['í•©ì°¨ ê³µì‹ ì ìš©','= (x+y)(x-y)'],ans_txt:'(x+y)(x-y)'},
  ],
  // â”€â”€ Ch 8: xÂ²+px+q â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + 5x + 6',c:['(x+2)(x+3)','(x+1)(x+6)','(x+5)(x+1)','(x+3)Â²'],ans:0,
     st:['í•©=5, ê³±=6 â†’ 2, 3','= (x+2)(x+3)'],ans_txt:'(x+2)(x+3)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - 5x + 6',c:['(x-2)(x-3)','(x+2)(x+3)','(x-1)(x-6)','(x-6)(x+1)'],ans:0,
     st:['í•©=-5, ê³±=6 â†’ -2, -3','= (x-2)(x-3)'],ans_txt:'(x-2)(x-3)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + x - 6',c:['(x+3)(x-2)','(x-3)(x+2)','(x+6)(x-1)','(x+2)(x+3)'],ans:0,
     st:['í•©=1, ê³±=-6 â†’ 3, -2','= (x+3)(x-2)'],ans_txt:'(x+3)(x-2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - x - 6',c:['(x-3)(x+2)','(x+3)(x-2)','(x-6)(x+1)','(x+6)(x-1)'],ans:0,
     st:['í•©=-1, ê³±=-6 â†’ -3, 2','= (x-3)(x+2)'],ans_txt:'(x-3)(x+2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + 7x + 12',c:['(x+3)(x+4)','(x+2)(x+6)','(x+4)(x+3)','(x+12)(x+1)'],ans:0,
     st:['í•©=7, ê³±=12 â†’ 3, 4','= (x+3)(x+4)'],ans_txt:'(x+3)(x+4)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - 8x + 15',c:['(x-3)(x-5)','(x+3)(x+5)','(x-1)(x-15)','(x-5)(x+3)'],ans:0,
     st:['í•©=-8, ê³±=15 â†’ -3, -5','= (x-3)(x-5)'],ans_txt:'(x-3)(x-5)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + 2x - 15',c:['(x+5)(x-3)','(x-5)(x+3)','(x+15)(x-1)','(x+3)(x-5)'],ans:0,
     st:['í•©=2, ê³±=-15 â†’ 5, -3','= (x+5)(x-3)'],ans_txt:'(x+5)(x-3)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² - x - 12',c:['(x-4)(x+3)','(x+4)(x-3)','(x-12)(x+1)','(x-6)(x+2)'],ans:0,
     st:['í•©=-1, ê³±=-12 â†’ -4, 3','= (x-4)(x+3)'],ans_txt:'(x-4)(x+3)'},
  ],
  // â”€â”€ Ch 9: ì¢…í•© â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'2xÂ² + 4x',c:['2x(x+2)','2(xÂ²+2)','x(2x+4)','2x(x-2)'],ans:0,
     st:['ê³µí†µì¸ìˆ˜ 2x','= 2x(x+2)'],ans_txt:'2x(x+2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'3xÂ² - 12',c:['3(x+2)(x-2)','3(xÂ²-4)','3x(x-4)','(3x+2)(x-6)'],ans:0,
     st:['= 3(xÂ²-4) = 3(x+2)(x-2)'],ans_txt:'3(x+2)(x-2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'2xÂ² + 6x + 4',c:['2(x+1)(x+2)','2(x+2)Â²','(2x+1)(x+4)','2x(x+3)+4'],ans:0,
     st:['= 2(xÂ²+3x+2)','= 2(x+1)(x+2)'],ans_txt:'2(x+1)(x+2)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'axÂ² - a',c:['a(x+1)(x-1)','a(xÂ²-1)','aÂ·x(x-1)','(ax+1)(x-1)'],ans:0,
     st:['= a(xÂ²-1)','= a(x+1)(x-1)'],ans_txt:'a(x+1)(x-1)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ² + 4x + 4 - yÂ²',c:['(x+2+y)(x+2-y)','(x+4-y)(x+y)','(x+2)Â²-yÂ²','(x-y+2)Â²'],ans:0,
     st:['= (x+2)Â²-yÂ²','= (x+2+y)(x+2-y)'],ans_txt:'(x+2+y)(x+2-y)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'2xÂ² + 5x + 3',c:['(2x+3)(x+1)','(2x+1)(x+3)','2(x+3)(x+1)','(x+1)Â²(x+3)'],ans:0,
     st:['2Ã—3=6, í•©=5 â†’ 2, 3','= (2x+3)(x+1)'],ans_txt:'(2x+3)(x+1)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'xÂ²(a-1) - (a-1)',c:['(a-1)(x+1)(x-1)','(xÂ²-1)(a-1)','a(xÂ²-1)','(a-1)(xÂ²+1)'],ans:0,
     st:['= (a-1)(xÂ²-1)','= (a-1)(x+1)(x-1)'],ans_txt:'(a-1)(x+1)(x-1)'},
    {q:'ì¸ìˆ˜ë¶„í•´í•˜ë©´?',ex:'4xÂ² - 4x + 1 - 9yÂ²',c:['(2x-1+3y)(2x-1-3y)','(2x+1)(2x-1)-9yÂ²','(4x-1-9y)(x-1+y)','(2x-3y-1)Â²'],ans:0,
     st:['= (2x-1)Â²-(3y)Â²','= (2x-1+3y)(2x-1-3y)'],ans_txt:'(2x-1+3y)(2x-1-3y)'},
  ],
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const state = {
  ch: 0, qIdx: 0, score: 0,
  correct: 0, wrong: 0,
  unlocked: new Array(10).fill(false),
  cleared: new Array(10).fill(false),
  fillMode: false,
};
state.unlocked.fill(true);

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SCREENS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function show(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  window.scrollTo(0,0);
}

function showChapters(){
  renderChapterGrid();
  show('chapter-screen');
}

function showChapters(){
  renderChapterGrid();
  show('chapter-screen');
}

// Stars
(function makeStars(){
  const c=document.getElementById('stars');
  for(let i=0;i<80;i++){
    const s=document.createElement('div');
    s.className='star';
    s.style.cssText=`left:${Math.random()*100}%;top:${Math.random()*100}%;
      --d:${1.5+Math.random()*3}s;animation-delay:${Math.random()*3}s;
      opacity:${0.2+Math.random()*0.8}`;
    c.appendChild(s);
  }
})();

// â”€â”€ Chapter Grid â”€â”€
function renderChapterGrid(){
  ['part1','part2'].forEach((part,pi)=>{
    const grid=document.getElementById('grid-'+part);
    grid.innerHTML='';
    CHAPTERS.filter(c=>c.part===pi+1).forEach(ch=>{
      const unlocked=state.unlocked[ch.id];
      const cleared=state.cleared[ch.id];
      const card=document.createElement('div');
      card.className='ch-card'+(unlocked?'':' locked');
      card.style.setProperty('--card-glow',
        `radial-gradient(ellipse at 50% 0%,${ch.color}22,transparent 60%)`);
      card.style.setProperty('--card-accent',ch.color);
      card.innerHTML=`
        ${unlocked?'':'<span class="lock-icon">ğŸ”’</span>'}
        <div class="ch-icon">${ch.icon}</div>
        <div class="ch-name">${ch.title}</div>
        <div class="ch-sub">${ch.sub}</div>
        <div class="ch-stars">${cleared?'â­â­â­':'â—‹â—‹â—‹'}</div>
        <div class="ch-progress"><div class="ch-progress-fill" style="width:${cleared?100:0}%"></div></div>
      `;
      if(unlocked) card.onclick=()=>startChapter(ch.id);
      grid.appendChild(card);
    });
  });
}

// â”€â”€ Start Chapter â”€â”€
function startChapter(chId){
  state.ch=chId;
  state.qIdx=0;
  state.score=0;
  state.correct=0;
  state.wrong=0;
  state.fillMode=false;
  show('quiz-screen');
  renderQ();
}

// â”€â”€ Render Question â”€â”€
function renderQ(){
  const qs=QS[state.ch];
  const q=qs[state.qIdx];
  const total=qs.length;

  // Topbar
  document.getElementById('q-ch-label').textContent=
    CHAPTERS[state.ch].icon+' '+CHAPTERS[state.ch].title;
  document.getElementById('q-prog-fill').style.width=
    ((state.qIdx/total)*100)+'%';
  document.getElementById('q-score-label').textContent=state.score+'ì ';

  // Q number
  document.getElementById('q-num').textContent=
    `ë¬¸ì œ ${state.qIdx+1} / ${total}`;

  // Q text & expression
  document.getElementById('q-text').textContent=q.q;
  const exEl=document.getElementById('q-expr');
  if(q.ex){exEl.style.display='block';exEl.textContent=q.ex;}
  else{exEl.style.display='none';}

  // Choices vs Fill
  const choicesEl=document.getElementById('choices');
  const fillEl=document.getElementById('fill-wrap');
  const feedbackEl=document.getElementById('feedback');
  const nextEl=document.getElementById('btn-next');
  feedbackEl.className='feedback';
  nextEl.className='btn-next';

  if(state.fillMode){
    choicesEl.style.display='none';
    fillEl.style.display='flex';
    const inp=document.getElementById('fill-input');
    inp.value='';inp.className='fill-input';inp.disabled=false;
    document.getElementById('btn-submit').disabled=false;
    inp.focus();
    inp.onkeydown=e=>{if(e.key==='Enter')checkFill();};
  } else {
    choicesEl.style.display='grid';
    fillEl.style.display='none';
    choicesEl.innerHTML='';
    q.c.forEach((txt,i)=>{
      const btn=document.createElement('button');
      btn.className='choice';
      btn.textContent=txt;
      btn.onclick=()=>checkMC(i,btn);
      choicesEl.appendChild(btn);
    });
  }

  // Concept panel
  renderConcept(state.ch);
}

// â”€â”€ Check MC â”€â”€
function checkMC(idx,btn){
  const q=QS[state.ch][state.qIdx];
  const all=document.querySelectorAll('.choice');
  all.forEach(b=>b.classList.add('disabled'));
  btn.onclick=null;

  const ok=(idx===q.ans);
  btn.classList.add(ok?'correct':'wrong');
  if(!ok) all[q.ans].classList.add('correct');

  showFeedback(ok,q);
  if(ok) state.score+=100;
  else state.wrong++;
  if(ok) state.correct++;
  else state.wrong++;
}

// â”€â”€ Check Fill â”€â”€
function checkFill(){
  const q=QS[state.ch][state.qIdx];
  const inp=document.getElementById('fill-input');
  const val=inp.value.trim().replace(/\s/g,'');
  const ans=q.fill||q.ans_txt;
  const ok=val===ans.replace(/\s/g,'');
  inp.disabled=true;
  document.getElementById('btn-submit').disabled=true;
  inp.classList.add(ok?'correct':'wrong');
  showFeedback(ok,q);
  if(ok){state.score+=120;state.correct++;}
  else state.wrong++;
}

// â”€â”€ Feedback â”€â”€
function showFeedback(ok,q){
  const fb=document.getElementById('feedback');
  fb.className='feedback show '+(ok?'ok':'ng');
  let html=ok?'<strong>âœ“ ì •ë‹µ!</strong>':'<strong>âœ— ì˜¤ë‹µ</strong> â€” ì •ë‹µ: <code>'+q.ans_txt+'</code>';
  if(q.st&&q.st.length){
    html+='<div class="fb-steps">';
    q.st.forEach(s=>html+=`<span class="fb-step">â–¸ ${s}</span>`);
    html+='</div>';
  }
  fb.innerHTML=html;
  document.getElementById('btn-next').className='btn-next show';
}

// â”€â”€ Next Q â”€â”€
function nextQ(){
  const total=QS[state.ch].length;
  // Switch to fill mode at 500 points
  if(state.score>=500 && !state.fillMode) state.fillMode=true;

  if(state.qIdx+1>=total){
    showResult();
  } else {
    state.qIdx++;
    renderQ();
  }
}

// â”€â”€ Concept Panel â”€â”€
function renderConcept(chId){
  const con=CONCEPTS[chId];
  const cp=document.getElementById('concept-panel');
  let html=`<div class="cp-title">ğŸ“– ê°œë… ì •ë¦¬</div>`;
  if(con.visual) html+=`<div class="cp-visual">${con.visual}</div>`;
  html+=`<div class="cp-formula-box">${con.formula.replace(/\n/g,'<br>')}</div>`;
  if(con.subs&&con.subs.length){
    con.subs.forEach(s=>{
      html+=`<div class="cp-sub-formula">
        <span class="cp-lbl">${s.lbl}</span>
        <span class="cp-val">${s.val}</span>
      </div>`;
    });
  }
  if(con.whys&&con.whys.length){
    html+=`<div class="cp-why"><div class="cp-why-title">â“ ì™œ ê·¸ëŸ´ê¹Œ?</div>`;
    con.whys.forEach(w=>{
      html+=`<div class="cp-why-item"><strong>${w.q}</strong><br>${w.a}</div>`;
    });
    html+=`</div>`;
  }
  if(con.tip) html+=`<div class="cp-tip">ğŸ’¡ ${con.tip}</div>`;
  cp.innerHTML=html;
}

// â”€â”€ Result â”€â”€
function showResult(){
  const total=QS[state.ch].length;
  const acc=total>0?Math.round((state.correct/total)*100):0;

  // Unlock next
  state.cleared[state.ch]=true;
  if(state.ch<9) state.unlocked[state.ch+1]=true;

  const msgs=[
    {min:90,icon:'ğŸ†',title:'ì™„ë²½ ë§ˆìŠ¤í„°!',msg:'ë†€ëìŠµë‹ˆë‹¤! ì´ ì±•í„°ë¥¼ ì™„ë²½í•˜ê²Œ ì´í•´í–ˆì–´ìš”.'},
    {min:70,icon:'â­',title:'ì±•í„° í´ë¦¬ì–´!',msg:'í›Œë¥­í•´ìš”! í‹€ë¦° ë¬¸ì œë¥¼ ë‹¤ì‹œ í™•ì¸í•´ ë³´ì„¸ìš”.'},
    {min:50,icon:'ğŸ“š',title:'ì¢‹ì€ ì‹œë„!',msg:'ì ˆë°˜ ì´ìƒ ë§í˜”ì–´ìš”. ê°œë…ì„ ë‹¤ì‹œ ë³µìŠµí•˜ê³  ë„ì „!'},
    {min:0, icon:'ğŸ”„',title:'ë‹¤ì‹œ ë„ì „!',msg:'ê°œë… íŒ¨ë„ì„ ì˜ ì½ê³  ë‹¤ì‹œ í’€ì–´ë³´ì„¸ìš”. í•  ìˆ˜ ìˆì–´ìš”!'},
  ];
  const m=msgs.find(m=>acc>=m.min);

  document.getElementById('r-icon').textContent=m.icon;
  document.getElementById('r-title').textContent=m.title;
  document.getElementById('r-score').textContent=state.score+'ì ';
  document.getElementById('r-correct').textContent=state.correct;
  document.getElementById('r-wrong').textContent=state.wrong;
  document.getElementById('r-acc').textContent=acc+'%';
  document.getElementById('r-msg').textContent=m.msg;
  show('result-screen');
}

function retryChapter(){startChapter(state.ch);}

// â”€â”€ Init â”€â”€
show('title-screen');
</script>
</body>
</html>
