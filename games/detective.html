<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<title>ìˆ˜í•™ íƒì • ìˆ˜ì‚¬êµ­ | ë°©ì •ì‹ì˜ í™œìš© | ì˜í†µìˆ˜í•™ì—¬í–‰í•™ì›</title>
<style>
:root{
  --bg:#0d0800;--bg2:#1a1000;--card:#251800;--card2:#2e1f00;
  --gold:#d4a017;--amber:#f59e0b;--red:#cc2200;
  --paper:#f0ddb0;--paper2:#dcc890;--muted:#8a7050;
  --green:#10b981;
}
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
body{
  font-family:"Segoe UI","Noto Sans KR",sans-serif;
  background:radial-gradient(ellipse at top,#1a1000 0%,#080500 100%);
  min-height:100vh;
  padding:12px 16px;color:var(--paper);}
.wrap{width:100%;max-width:1200px;margin:0 auto}

.screen{display:none;animation:fadeIn .3s ease}
.screen.active{display:block}
@keyframes fadeIn{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

/* FLASH */
.flash-overlay{position:fixed;inset:0;z-index:500;pointer-events:none;opacity:0}
.flash-overlay.red{animation:fRed .5s ease forwards}
.flash-overlay.amber{animation:fAmber .5s ease forwards}
@keyframes fRed{0%{background:rgba(204,34,0,.65);opacity:1}100%{opacity:0}}
@keyframes fAmber{0%{background:rgba(245,158,11,.55);opacity:1}100%{opacity:0}}

/* ===== TITLE ===== */
.agency{
  background:linear-gradient(160deg,#1a0e00,#2a1800,#120a00);
  border:2px solid var(--gold);border-radius:18px;
  padding:1.6rem 2rem;text-align:center;margin-bottom:1.2rem;
  box-shadow:0 0 80px rgba(212,160,23,.2);
  position:relative;overflow:hidden;
  display:flex;align-items:center;gap:2rem;}
.agency::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(45deg,rgba(212,160,23,.018) 0px,rgba(212,160,23,.018) 1px,transparent 1px,transparent 12px);}
.agency-badge{font-size:3.5rem;display:block;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.agency-title{
  font-size:1.65rem;font-weight:900;letter-spacing:.04em;margin:.3rem 0;
  background:linear-gradient(90deg,#d4a017,#fbbf24,#d4a017);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.agency-sub{font-size:.82rem;color:var(--muted);margin-bottom:.8rem}
.sc-tag{
  display:inline-flex;align-items:center;gap:.35rem;
  background:rgba(212,160,23,.1);border:1px solid rgba(212,160,23,.28);
  border-radius:14px;padding:.3rem .8rem;font-size:.88rem;color:var(--gold);font-weight:700;}
.mode-pill{
  display:inline-flex;align-items:center;gap:.3rem;
  border-radius:12px;padding:.26rem .7rem;margin-left:.4rem;font-size:.78rem;font-weight:700;}
.mode-pill.mcq{background:rgba(96,165,250,.16);border:1px solid rgba(96,165,250,.28);color:#60a5fa}
.mode-pill.fill{background:rgba(245,158,11,.16);border:1px solid rgba(245,158,11,.28);color:var(--amber)}

/* CORK BOARD */
.cork-label{
  font-size:.75rem;color:var(--muted);text-align:center;
  letter-spacing:.08em;text-transform:uppercase;
  margin-bottom:.7rem;border-bottom:1px solid rgba(212,160,23,.12);padding-bottom:.45rem;}
.case-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:.7rem;margin-bottom:1rem}
@media(max-width:900px){.case-grid{grid-template-columns:repeat(3,1fr)}}
@media(max-width:600px){.case-grid{grid-template-columns:1fr 1fr}}
.case-card{
  background:linear-gradient(155deg,#2a1800,#1e1200);
  border:1.5px solid rgba(212,160,23,.18);border-radius:14px;
  padding:.95rem .8rem;cursor:pointer;transition:all .2s;
  text-align:center;position:relative;}
.case-card:hover:not(.locked){
  border-color:rgba(212,160,23,.55);transform:translateY(-2px);
  box-shadow:0 8px 24px rgba(212,160,23,.1);}
.case-card.locked{opacity:.38;cursor:not-allowed}
.case-card.solved{border-color:rgba(16,185,129,.38);background:linear-gradient(155deg,#062010,#031408)}
.case-num{font-size:.65rem;color:var(--muted);margin-bottom:.18rem}
.case-emoji{font-size:1.9rem;margin-bottom:.22rem}
.case-title{font-size:.8rem;font-weight:700;color:var(--paper);line-height:1.3}
.case-type{font-size:.68rem;color:var(--muted);margin-top:.18rem}
.case-lock{position:absolute;top:.38rem;right:.38rem;font-size:.75rem;opacity:.5}
.reset-btn{
  display:block;margin:.6rem auto 0;background:none;
  border:1px solid rgba(255,255,255,.08);color:#3a3020;
  border-radius:7px;padding:.26rem .7rem;font-size:.7rem;cursor:pointer;}
.reset-btn:hover{border-color:rgba(239,68,68,.3);color:#ef4444}

/* ===== CASE BRIEFING OVERLAY ===== */
.case-overlay{
  display:none;position:fixed;inset:0;z-index:300;
  background:rgba(0,0,0,.93);backdrop-filter:blur(14px);
  align-items:flex-start;justify-content:center;padding:1rem;overflow-y:auto;}
.case-overlay.show{display:flex;animation:oIn .2s ease}
@keyframes oIn{from{opacity:0}to{opacity:1}}
.case-modal{
  width:100%;max-width:720px;margin:auto;
  background:linear-gradient(160deg,#1a1000,#251800,#0d0800);
  border:2px solid var(--gold);border-radius:22px;
  padding:1.8rem 2rem;
  box-shadow:0 0 60px rgba(212,160,23,.22);
  animation:caseOpen .5s cubic-bezier(.34,1.56,.64,1);}
@keyframes caseOpen{
  from{transform:perspective(800px) rotateX(15deg) scale(.8);opacity:0}
  to{transform:none;opacity:1}}
/* Case header */
.case-file-top{text-align:center;border-bottom:1px solid rgba(212,160,23,.18);padding-bottom:1rem;margin-bottom:1.1rem}
.case-stamp{
  display:inline-block;border:2px solid var(--red);color:var(--red);
  border-radius:5px;padding:.18rem .55rem;font-size:.68rem;font-weight:900;
  letter-spacing:.1em;transform:rotate(-2deg);margin-bottom:.4rem;
  animation:stampIn .4s ease;}
@keyframes stampIn{from{transform:rotate(-2deg) scale(2);opacity:0}to{transform:rotate(-2deg) scale(1);opacity:1}}
.case-id-txt{font-size:.68rem;color:var(--muted);margin-bottom:.28rem}
.case-modal-title{font-size:1.4rem;font-weight:900;color:var(--gold)}
.case-scene-txt{font-size:.85rem;color:var(--paper2);margin:.45rem 0;line-height:1.65}
/* Detective speech */
.det-bubble{
  display:flex;align-items:flex-start;gap:.7rem;
  background:rgba(212,160,23,.05);border:1px solid rgba(212,160,23,.18);
  border-radius:13px;padding:.8rem .9rem;margin:.8rem 0;}
.det-avatar{font-size:2rem;flex-shrink:0;animation:detAnim 2.5s ease-in-out infinite}
@keyframes detAnim{0%,100%{transform:rotate(-3deg)}50%{transform:rotate(3deg)}}
.det-speech{font-size:.83rem;color:var(--paper2);line-height:1.6}
.det-speech strong{color:var(--gold)}
.det-name{font-size:.68rem;color:var(--muted);margin-bottom:.18rem;font-weight:600}
/* Formula evidence */
.evidence-box{
  background:rgba(204,34,0,.07);border:1.5px solid rgba(204,34,0,.28);
  border-radius:13px;padding:.9rem;margin:.9rem 0;}
.ev-label{font-size:.68rem;color:#f87171;font-weight:700;letter-spacing:.08em;margin-bottom:.4rem}
.ev-formula{font-size:1.7rem;font-weight:900;text-align:center;color:#fff;
  text-shadow:0 0 20px rgba(212,160,23,.35);}
.ev-note{font-size:.77rem;color:var(--muted);margin-top:.35rem;text-align:center}
/* Slide nav */
.slide-dots{display:flex;gap:.35rem;margin-bottom:.9rem;justify-content:center}
.sdot{width:7px;height:7px;border-radius:50%;background:rgba(255,255,255,.12);transition:.3s}
.sdot.on{background:var(--gold);box-shadow:0 0 6px rgba(212,160,23,.6)}
.sdot.past{background:rgba(16,185,129,.5)}
/* Lecture text */
.lec-h{font-size:1.15rem;font-weight:900;color:var(--gold);margin-bottom:.55rem}
.lec-b{font-size:.88rem;line-height:1.78;color:var(--paper2)}
.lec-b strong{
  display:inline-block;color:var(--amber);
  animation:pGold .9s ease-in-out infinite;}
@keyframes pGold{0%,100%{transform:scale(1)}50%{transform:scale(1.14);text-shadow:0 0 14px var(--amber)}}
.lec-ex{
  background:rgba(212,160,23,.07);border:1.5px solid rgba(212,160,23,.2);
  border-radius:12px;padding:.85rem;margin:.75rem 0;text-align:center;}
.lec-expr{font-size:1.7rem;font-weight:900;color:#fff;text-shadow:0 0 16px rgba(212,160,23,.4)}
.lec-expr-lbl{font-size:.73rem;color:var(--muted);margin-top:.22rem}
.lec-tip{
  background:rgba(245,158,11,.06);border-left:3px solid var(--amber);
  border-radius:0 8px 8px 0;padding:.5rem .8rem;font-size:.8rem;color:#fde68a;margin-top:.65rem;}
.case-nav{display:flex;gap:.65rem;margin-top:1.3rem}
.c-prev{
  padding:.65rem 1rem;border-radius:11px;border:1.5px solid rgba(212,160,23,.18);
  background:transparent;color:var(--muted);cursor:pointer;font-size:.83rem;}
.c-next{
  flex:1;padding:.75rem;border-radius:11px;border:none;cursor:pointer;
  font-size:.9rem;font-weight:700;
  background:linear-gradient(90deg,#b45309,#d97706);color:#fff;
  box-shadow:0 4px 16px rgba(180,83,9,.28);transition:.15s;}
.c-next:hover{transform:scale(1.02)}
.c-start{
  flex:1;padding:.75rem;border-radius:11px;border:none;cursor:pointer;
  font-size:.9rem;font-weight:700;
  background:linear-gradient(90deg,#cc2200,#e63300);color:#fff;
  box-shadow:0 4px 16px rgba(204,34,0,.3);transition:.15s;}
.c-start:hover{transform:scale(1.02)}

/* ===== QUIZ SCREEN ===== */
/* Two-column layout */
.quiz-body{
  display:grid;
  grid-template-columns:1fr 360px;
  gap:1.1rem;
  align-items:start;
}
@media(max-width:860px){.quiz-body{grid-template-columns:1fr;}}
.quiz-left{min-width:0}
/* Concept reference panel */
.concept-panel{
  position:sticky;top:1rem;
  background:linear-gradient(160deg,#1a1000,#251800,#1a1000);
  border:1.5px solid rgba(212,160,23,.3);
  border-radius:18px;padding:1.1rem 1rem;
  max-height:calc(100vh - 2rem);overflow-y:auto;}
.cp-title{
  font-size:.7rem;letter-spacing:.1em;color:var(--muted);
  text-transform:uppercase;margin-bottom:.7rem;
  border-bottom:1px solid rgba(212,160,23,.15);padding-bottom:.4rem;}
.cp-formulas{margin-bottom:.85rem}
.cp-formula-row{
  display:flex;align-items:baseline;gap:.5rem;
  padding:.4rem .6rem;border-radius:8px;
  background:rgba(212,160,23,.05);border:1px solid rgba(212,160,23,.1);
  margin-bottom:.35rem;}
.cp-formula-lbl{font-size:.65rem;color:var(--muted);flex-shrink:0;min-width:3.5rem}
.cp-formula-val{font-size:.88rem;font-weight:700;color:var(--amber)}
.cp-why-section{margin-top:.6rem}
.cp-why-title{
  font-size:.68rem;font-weight:700;color:var(--red);
  letter-spacing:.06em;margin-bottom:.5rem;text-transform:uppercase;}
.cp-why-item{
  margin-bottom:.65rem;padding:.55rem .65rem;
  border-radius:10px;
  background:rgba(204,34,0,.05);border-left:2.5px solid rgba(204,34,0,.35);}
.cp-why-q{
  font-size:.77rem;font-weight:700;color:var(--paper);
  margin-bottom:.28rem;line-height:1.4;}
.cp-why-a{
  font-size:.75rem;color:#c9a87a;line-height:1.55;}
.cp-why-a strong{color:var(--amber)}

.qhdr{display:flex;align-items:center;gap:.45rem;margin-bottom:.75rem;flex-wrap:wrap}
.q-pts{
  background:rgba(212,160,23,.09);border:1px solid rgba(212,160,23,.2);
  border-radius:11px;padding:.28rem .72rem;font-size:.84rem;color:var(--gold);font-weight:700;}
.combo-el{font-size:.78rem;font-weight:700;padding:.28rem .68rem;border-radius:11px;transition:all .3s}
.combo-el.c0{color:var(--muted);background:rgba(100,100,80,.08)}
.combo-el.c2{color:#60a5fa;background:rgba(96,165,250,.13);animation:cPop .4s}
.combo-el.c3{color:#a78bfa;background:rgba(167,139,250,.13);animation:cPop .4s}
.combo-el.c5{color:var(--gold);background:rgba(212,160,23,.13);animation:cPop .4s;box-shadow:0 0 10px rgba(212,160,23,.18)}
@keyframes cPop{0%{transform:scale(1.35)}100%{transform:scale(1)}}
.m-tag{font-size:.7rem;font-weight:700;padding:.2rem .5rem;border-radius:7px}
.m-tag.mcq{background:rgba(96,165,250,.15);color:#60a5fa}
.m-tag.fill{background:rgba(245,158,11,.15);color:var(--amber)}
.home-btn{
  margin-left:auto;background:none;border:1px solid rgba(255,255,255,.1);
  color:var(--muted);border-radius:7px;padding:.24rem .58rem;cursor:pointer;font-size:.74rem;}
/* Timer */
.timer-wrap{height:5px;background:rgba(255,255,255,.06);border-radius:3px;margin-bottom:.85rem;overflow:hidden}
.timer-bar{height:100%;border-radius:3px;transition:width .08s linear;
  background:linear-gradient(90deg,var(--gold),var(--amber))}
.timer-bar.warn{background:linear-gradient(90deg,#ef4444,#f97316)}
/* Evidence Card */
.ev-card{
  background:linear-gradient(160deg,#1a1000,#251800);
  border:2px solid rgba(212,160,23,.26);border-radius:20px;
  padding:1.5rem 1.1rem 1.1rem;margin-bottom:.9rem;
  box-shadow:0 0 30px rgba(212,160,23,.07);
  animation:evIn .35s cubic-bezier(.34,1.56,.64,1);}
@keyframes evIn{from{transform:scale(.9);opacity:0}to{transform:scale(1);opacity:1}}
.ev-case-tag{font-size:.68rem;color:var(--red);font-weight:700;letter-spacing:.06em;margin-bottom:.35rem}
.ev-clue-n{font-size:.75rem;color:var(--muted);margin-bottom:.28rem}
.ev-q{font-size:1.08rem;color:var(--paper);line-height:1.7;margin-bottom:.65rem;font-weight:500}
.ev-expr{
  font-size:1.9rem;font-weight:900;text-align:center;color:#fff;
  text-shadow:0 0 16px rgba(212,160,23,.4);padding:.4rem 0;
  animation:evGlow 2.5s ease-in-out infinite;}
@keyframes evGlow{
  0%,100%{text-shadow:0 0 16px rgba(212,160,23,.35)}
  50%{text-shadow:0 0 30px rgba(212,160,23,.8),0 0 50px rgba(212,160,23,.18)}}
.hint-row{display:flex;justify-content:flex-end;margin-top:.45rem}
.hint-btn{
  background:rgba(212,160,23,.08);border:1px solid rgba(212,160,23,.22);
  border-radius:8px;padding:.26rem .65rem;font-size:.74rem;color:var(--gold);cursor:pointer;}
.hint-btn:hover{background:rgba(212,160,23,.18)}
/* Choices */
.choices{display:grid;grid-template-columns:1fr 1fr;gap:.52rem;margin-bottom:.75rem}
@media(max-width:600px){.choices{grid-template-columns:1fr}}
.cbtn{
  width:100%;padding:.78rem .88rem;border-radius:12px;
  border:1.5px solid rgba(212,160,23,.1);background:rgba(255,255,255,.03);
  color:var(--paper);font-size:.88rem;text-align:left;cursor:pointer;transition:all .18s;}
.cbtn:hover:not(:disabled){
  border-color:rgba(212,160,23,.38);background:rgba(212,160,23,.07);transform:translateX(4px);}
.cbtn.correct{border-color:var(--green);background:rgba(16,185,129,.1);color:#6ee7b7;animation:cBounce .3s ease}
.cbtn.wrong{border-color:#ef4444;background:rgba(239,68,68,.08);color:#fca5a5}
@keyframes cBounce{0%,100%{transform:scale(1)}50%{transform:scale(1.02)}}
/* Fill */
.fill-wrap{display:flex;gap:.5rem;margin-bottom:.7rem}
.fill-input{
  flex:1;padding:.72rem .9rem;border-radius:12px;
  border:1.5px solid rgba(212,160,23,.28);background:rgba(255,255,255,.04);
  color:#fff;font-size:1.05rem;text-align:center;outline:none;transition:.2s;}
.fill-input:focus{border-color:var(--gold);box-shadow:0 0 0 3px rgba(212,160,23,.11)}
.fill-submit{
  padding:.72rem .95rem;border-radius:12px;border:none;
  background:linear-gradient(90deg,#b45309,#d97706);color:#fff;
  font-size:.86rem;font-weight:700;cursor:pointer;white-space:nowrap;transition:.15s;}
.fill-submit:hover{transform:scale(1.03)}
.q-ctr{text-align:center;font-size:.73rem;color:var(--muted);margin-top:.28rem}

/* ===== EXPLANATION OVERLAY ===== */
.exp-overlay{
  display:none;position:fixed;inset:0;z-index:400;
  background:rgba(0,0,0,.9);backdrop-filter:blur(10px);
  align-items:center;justify-content:center;padding:1rem;overflow-y:auto;}
.exp-overlay.show{display:flex}
.exp-modal{
  width:100%;max-width:680px;
  background:linear-gradient(160deg,#1a0500,#250a00,#0d0200);
  border:2.5px solid var(--red);border-radius:24px;
  padding:1.8rem 1.4rem 1.6rem;
  box-shadow:0 0 60px rgba(204,34,0,.5),0 0 120px rgba(204,34,0,.15);
  animation:mPop .45s cubic-bezier(.34,1.56,.64,1);}
.exp-modal.ok{
  border-color:var(--green);
  box-shadow:0 0 60px rgba(16,185,129,.45),0 0 120px rgba(16,185,129,.15);}
@keyframes mPop{from{transform:scale(.15) rotate(-12deg);opacity:0}to{transform:scale(1) rotate(0);opacity:1}}
.exp-icon{font-size:3.2rem;text-align:center;display:block;animation:wobble .5s ease infinite alternate}
@keyframes wobble{from{transform:rotate(-14deg) scale(.9)}to{transform:rotate(14deg) scale(1.1)}}
.exp-icon.ok-icon{animation:spinIn .5s ease}
@keyframes spinIn{0%{transform:scale(0) rotate(-180deg)}100%{transform:scale(1) rotate(0)}}
.exp-title{font-size:1.5rem;font-weight:900;text-align:center;color:var(--red);
  margin:.45rem 0;animation:ePulse 1s ease-in-out infinite}
@keyframes ePulse{0%,100%{opacity:1}50%{opacity:.6}}
.exp-title.ok{color:var(--green);animation:none}
.exp-ans{background:rgba(255,255,255,.05);border-radius:10px;
  padding:.58rem .9rem;margin:.65rem 0;text-align:center;}
.exp-ans-lbl{font-size:.68rem;color:var(--muted);margin-bottom:.18rem}
.exp-ans-val{font-size:1.5rem;font-weight:900;color:var(--gold)}
/* Detective deduction quote */
.deduction-box{
  background:rgba(212,160,23,.05);border:1px solid rgba(212,160,23,.15);
  border-radius:11px;padding:.7rem .85rem;margin:.65rem 0;
  display:flex;align-items:flex-start;gap:.55rem;}
.ded-avatar{font-size:1.6rem;flex-shrink:0}
.ded-text{font-size:.8rem;color:var(--paper2);line-height:1.6;font-style:italic}
/* Steps */
.exp-steps{list-style:none;padding:0;margin:.65rem 0}
.exp-steps li{
  background:rgba(255,255,255,.03);border-radius:9px;
  padding:.5rem .78rem;margin:.3rem 0;font-size:.85rem;color:var(--paper2);
  border-left:3px solid rgba(212,160,23,.28);animation:stepIn .4s ease both;}
@keyframes stepIn{from{transform:translateX(-20px);opacity:0}to{transform:none;opacity:1}}
.exp-steps li strong{
  display:inline-block;color:var(--gold);
  animation:pGold .85s ease-in-out infinite;}
.exp-btn{
  width:100%;padding:.8rem;border-radius:12px;border:none;cursor:pointer;
  margin-top:1rem;font-size:.92rem;font-weight:700;
  background:linear-gradient(90deg,#b45309,#d97706);color:#fff;transition:.15s;}
.exp-btn:hover{transform:scale(1.02)}

/* ===== HINT OVERLAY ===== */
.hint-overlay{
  display:none;position:fixed;inset:0;z-index:450;
  background:rgba(0,0,0,.86);backdrop-filter:blur(10px);
  align-items:center;justify-content:center;padding:1rem;}
.hint-overlay.show{display:flex}
.hint-modal{
  width:100%;max-width:600px;
  background:linear-gradient(160deg,#1a1400,#261c00);
  border:2px solid rgba(212,160,23,.32);border-radius:22px;
  padding:1.6rem 1.3rem;box-shadow:0 0 40px rgba(212,160,23,.18);
  animation:slideUp .3s cubic-bezier(.34,1.56,.64,1);}
@keyframes slideUp{from{transform:translateY(50px);opacity:0}to{transform:none;opacity:1}}
.hint-title{font-size:1.15rem;font-weight:900;color:var(--gold);margin-bottom:.65rem}
.hint-body{font-size:.88rem;color:var(--paper2);line-height:1.7;margin-bottom:.75rem}
.hint-list{list-style:none;padding:0}
.hint-list li{
  padding:.36rem .6rem;border-radius:7px;margin:.22rem 0;
  background:rgba(212,160,23,.05);border-left:2px solid rgba(212,160,23,.22);
  font-size:.78rem;color:#d4b483;animation:stepIn .3s ease both;}
.hint-close{
  width:100%;padding:.7rem;border-radius:11px;
  border:1px solid rgba(212,160,23,.22);background:rgba(212,160,23,.08);
  color:var(--gold);font-size:.88rem;cursor:pointer;margin-top:.8rem;transition:.18s;}
.hint-close:hover{background:rgba(212,160,23,.18)}

/* MODE SWITCH */
.msb{
  display:none;position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%) scale(0);z-index:600;
  background:linear-gradient(90deg,#78350f,#92400e,#78350f);
  border:2px solid var(--gold);border-radius:18px;padding:1.3rem 2rem;
  text-align:center;box-shadow:0 0 60px rgba(212,160,23,.5);}
.msb.show{display:block;animation:msbA .6s cubic-bezier(.34,1.56,.64,1) forwards}
@keyframes msbA{
  0%{transform:translate(-50%,-50%) scale(0);opacity:0}
  60%{transform:translate(-50%,-50%) scale(1.1)}
  100%{transform:translate(-50%,-50%) scale(1);opacity:1}}
.msb-e{font-size:2.6rem;display:block;margin-bottom:.28rem}
.msb-t{font-size:1.25rem;font-weight:900;color:var(--gold)}
.msb-s{font-size:.8rem;color:#fde68a;margin-top:.18rem}

/* ===== SOLVED SCREEN ===== */
.solved-card{
  background:linear-gradient(160deg,#031a08,#052a10,#020e04);
  border:2px solid rgba(16,185,129,.35);border-radius:22px;
  padding:2rem 1.5rem;text-align:center;margin-bottom:1rem;
  box-shadow:0 0 50px rgba(16,185,129,.18);
  animation:slideUp .5s cubic-bezier(.34,1.56,.64,1);}
.solved-stamp{
  display:inline-block;border:3px solid var(--green);color:var(--green);
  border-radius:8px;padding:.28rem .75rem;font-size:.85rem;font-weight:900;
  letter-spacing:.1em;transform:rotate(-3deg);margin-bottom:.7rem;
  animation:stampIn .5s ease;}
.solved-emoji{font-size:4.5rem;display:block;animation:dPop .6s ease}
@keyframes dPop{0%{transform:scale(0)}70%{transform:scale(1.2)}100%{transform:scale(1)}}
.solved-title{font-size:1.75rem;font-weight:900;color:var(--green);margin:.4rem 0}
.solved-pts{font-size:2.5rem;font-weight:900;color:var(--gold);
  text-shadow:0 0 20px rgba(212,160,23,.4);margin:.35rem 0}
.solved-stats{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:.5rem;margin:.8rem 0}
@media(max-width:600px){.solved-stats{grid-template-columns:1fr 1fr}}
.stat-box{background:rgba(255,255,255,.04);border-radius:10px;padding:.68rem;
  border:1px solid rgba(255,255,255,.06);}
.stat-lbl{font-size:.68rem;color:var(--muted);margin-bottom:.15rem}
.stat-val{font-size:1.18rem;font-weight:700;color:var(--paper)}
.solved-btns{display:grid;gap:.5rem}
.btn-nxt{
  padding:.88rem;border-radius:12px;border:none;cursor:pointer;font-size:.92rem;font-weight:700;
  background:linear-gradient(90deg,#10b981,#059669);color:#fff;
  box-shadow:0 4px 18px rgba(16,185,129,.24);transition:.15s;}
.btn-nxt:hover{transform:scale(1.02)}
.btn-home{
  padding:.7rem;border-radius:12px;border:1px solid rgba(255,255,255,.1);
  background:transparent;color:var(--muted);font-size:.84rem;cursor:pointer;}
</style>
</head>
<body>

<div id="flash-overlay" class="flash-overlay"></div>
<div id="msb" class="msb">
  <span class="msb-e">ğŸ”¥</span>
  <div class="msb-t">ì£¼ê´€ì‹ ìˆ˜ì‚¬ ê°œì‹œ!</div>
  <div class="msb-s">500ì  ë‹¬ì„±! ì´ì œ ì§ì ‘ ë‹µì„ ë„ì¶œí•˜ë¼!</div>
</div>

<!-- Case Briefing / Lecture Overlay -->
<div id="case-overlay" class="case-overlay">
  <div class="case-modal">
    <div class="case-file-top">
      <div class="case-stamp">ìˆ˜ì‚¬ íŒŒì¼</div>
      <div class="case-id-txt" id="c-id"></div>
      <div class="case-modal-title" id="c-title"></div>
      <div class="case-scene-txt" id="c-scene"></div>
    </div>
    <div class="slide-dots" id="c-dots"></div>
    <div class="det-bubble" id="c-det-bubble">
      <div class="det-avatar" id="c-det-avatar"></div>
      <div class="det-speech">
        <div class="det-name" id="c-det-name"></div>
        <div id="c-det-speech"></div>
      </div>
    </div>
    <div class="evidence-box" id="c-ev-box" style="display:none">
      <div class="ev-label">ğŸ” í•µì‹¬ ì¦ê±° â€” ê³µì‹</div>
      <div class="ev-formula" id="c-ev-formula"></div>
      <div class="ev-note" id="c-ev-note"></div>
    </div>
    <div class="lec-ex" id="c-ex-box" style="display:none">
      <div class="lec-expr" id="c-ex-expr"></div>
      <div class="lec-expr-lbl" id="c-ex-lbl"></div>
    </div>
    <div class="lec-tip" id="c-tip" style="display:none"></div>
    <div class="case-nav">
      <button class="c-prev" id="c-prev" onclick="slidePrev()">â† ì´ì „</button>
      <button class="c-next" id="c-next" onclick="slideNext()">ë‹¤ìŒ â†’</button>
    </div>
  </div>
</div>

<!-- Explain Overlay -->
<div id="exp-overlay" class="exp-overlay" onclick="closeExp()">
  <div class="exp-modal" id="exp-modal" onclick="event.stopPropagation()">
    <span class="exp-icon" id="exp-icon"></span>
    <h2 class="exp-title" id="exp-title"></h2>
    <div class="exp-ans">
      <div class="exp-ans-lbl">ì •ë‹µ</div>
      <div class="exp-ans-val" id="exp-ans-val"></div>
    </div>
    <div class="deduction-box">
      <div class="ded-avatar" id="ded-avatar"></div>
      <div class="ded-text" id="ded-text"></div>
    </div>
    <ul class="exp-steps" id="exp-steps"></ul>
    <button class="exp-btn" onclick="closeExp()">âœ“ ì•Œê² ìŠµë‹ˆë‹¤, íƒì •ë‹˜! ê³„ì† ìˆ˜ì‚¬ â†’</button>
  </div>
</div>

<!-- Hint Overlay -->
<div id="hint-overlay" class="hint-overlay" onclick="closeHint()">
  <div class="hint-modal" onclick="event.stopPropagation()">
    <div class="hint-title">ğŸ” íƒì •ì˜ ì¡°ì–¸</div>
    <div class="hint-body" id="hint-body"></div>
    <ul class="hint-list" id="hint-list"></ul>
    <button class="hint-close" onclick="closeHint()">ë‹«ê¸°</button>
  </div>
</div>

<div class="wrap">

<!-- ===== TITLE ===== -->
<div id="sc-title" class="screen active">
  <div class="agency">
    <span class="agency-badge" style="font-size:3.8rem;flex-shrink:0">ğŸ”</span>
    <div style="flex:1;text-align:left">
      <div class="agency-title">ìˆ˜í•™ íƒì • ìˆ˜ì‚¬êµ­</div>
      <div class="agency-sub">ë°©ì •ì‹ìœ¼ë¡œ ì‚¬ê±´ì„ í•´ê²°í•˜ë¼! â€” ì˜í†µìˆ˜í•™ì—¬í–‰í•™ì›</div>
      <div style="margin-top:.6rem">
        <span class="sc-tag">â­ <span id="t-score">0</span>ì </span>
        <span class="mode-pill" id="t-mode">ğŸ“ ê°ê´€ì‹</span>
      </div>
    </div>
    <div style="font-size:.8rem;color:var(--muted);text-align:right;flex-shrink:0;line-height:1.8">
      <div>ğŸš— ì†ë ¥Â·ê±°ë¦¬</div><div>ğŸ­ ì›ê°€Â·ì •ê°€</div><div>ğŸ’£ ì¼ ë¬¸ì œ</div>
      <div>ğŸ§ª ì†Œê¸ˆë¬¼</div><div>ğŸ“œ ë¹„ìœ¨</div>
    </div>
  </div>
  <div class="cork-label">ìˆ˜ì‚¬ íŒŒì¼ â€” ì‚¬ê±´ ì„ íƒ</div>
  <div class="case-grid" id="case-grid"></div>
  <div style="text-align:center;margin-bottom:.5rem">
    <button class="reset-btn" onclick="resetSave()">ğŸ—‘ ìˆ˜ì‚¬ ê¸°ë¡ ì´ˆê¸°í™”</button>
  </div>
  <div style="text-align:center;color:#2a1800;font-size:.72rem">
    500ì  ë‹¬ì„± â†’ ì£¼ê´€ì‹ ìˆ˜ì‚¬ ê°œì‹œ Â· ì½¤ë³´ 3=Ã—2, 5=Ã—3, 10=Ã—5
  </div>
</div>

<!-- ===== QUIZ ===== -->
<div id="sc-quiz" class="screen">
  <div class="qhdr">
    <div class="q-pts">â­ <span id="q-score">0</span></div>
    <div class="combo-el c0" id="combo-el">ì½¤ë³´ Ã—1</div>
    <span class="m-tag mcq" id="m-tag">ê°ê´€ì‹</span>
    <button class="home-btn" onclick="goHome()">ìˆ˜ì‚¬êµ­</button>
  </div>
  <div class="timer-wrap"><div class="timer-bar" id="timer-bar"></div></div>
  <div class="quiz-body">
    <!-- ì¢Œ: ë¬¸ì œ + ë³´ê¸° -->
    <div class="quiz-left">
      <div class="ev-card">
        <div class="ev-case-tag" id="ev-case-tag"></div>
        <div class="ev-clue-n" id="ev-clue-n"></div>
        <div class="ev-q" id="ev-q"></div>
        <div class="ev-expr" id="ev-expr" style="display:none"></div>
        <div class="hint-row">
          <button class="hint-btn" onclick="showHint()">ğŸ” íƒì • ì¡°ì–¸</button>
        </div>
      </div>
      <div class="choices" id="choices"></div>
      <div class="fill-wrap" id="fill-wrap" style="display:none">
        <input class="fill-input" id="fill-input" placeholder="ë‹µ ì…ë ¥ (ìˆ«ì ë˜ëŠ” ìˆ˜ì‹)"
          onkeydown="if(event.key==='Enter')checkFill()">
        <button class="fill-submit" onclick="checkFill()">ì œì¶œ</button>
      </div>
      <div class="q-ctr" id="q-ctr"></div>
    </div>
    <!-- ìš°: ê°œë… ì°¸ì¡° íŒ¨ë„ -->
    <div class="concept-panel" id="concept-panel"></div>
  </div>
</div>

<!-- ===== SOLVED ===== -->
<div id="sc-solved" class="screen">
  <div class="solved-card">
    <div class="solved-stamp">ì‚¬ê±´ í•´ê²°!</div>
    <span class="solved-emoji" id="sv-emoji">ğŸ†</span>
    <div class="solved-title" id="sv-title">ìˆ˜ì‚¬ ì™„ë£Œ!</div>
    <div class="solved-pts" id="sv-pts">+0ì </div>
    <div class="solved-stats">
      <div class="stat-box"><div class="stat-lbl">ì •ë‹µë¥ </div><div class="stat-val" id="sv-acc">-</div></div>
      <div class="stat-box"><div class="stat-lbl">ìµœê³  ì½¤ë³´</div><div class="stat-val" id="sv-combo">-</div></div>
      <div class="stat-box"><div class="stat-lbl">ì´ ì ìˆ˜</div><div class="stat-val" id="sv-total">-</div></div>
      <div class="stat-box"><div class="stat-lbl">ìˆ˜ì‚¬ ëª¨ë“œ</div><div class="stat-val" id="sv-mode">-</div></div>
    </div>
  </div>
  <div class="solved-btns">
    <button class="btn-nxt" id="btn-nxt" onclick="nextCase()"></button>
    <button class="btn-home" onclick="goHome()">ğŸ  ìˆ˜ì‚¬êµ­ìœ¼ë¡œ</button>
  </div>
</div>

</div><!-- /wrap -->

<script>
// =====================================================
// CASE DATA
// =====================================================
const CASES_META = [
  {id:'CASE-001',emoji:'ğŸš—',title:'ë‹¤ì´ì•„ëª¬ë“œ ê°•ë„ ì¶”ê²©ì „',type:'ì†ë ¥Â·ê±°ë¦¬ ë¬¸ì œ',
   det:'ğŸ•µï¸',detName:'íƒì • ì½”ë‚œ',
   scene:'ë³´ì„ìƒì—ì„œ ë‹¤ì´ì•„ëª¬ë“œê°€ ì‚¬ë¼ì¡Œë‹¤! ë²”ì¸ì˜ ì°¨ëŸ‰ì´ ëª©ê²©ëê³ , ì½”ë‚œì€ ì¶”ê²©ì„ ì‹œì‘í–ˆë‹¤. ê±°ë¦¬ì™€ ì†ë ¥ì˜ ê´€ê³„ë¥¼ ê³„ì‚°í•´ì•¼ë§Œ ë²”ì¸ì„ ì¡ì„ ìˆ˜ ìˆë‹¤!'},
  {id:'CASE-002',emoji:'ğŸ­',title:'ìœ„ì¡° ê°€ê²©í‘œ ì‚¬ê¸° ì‚¬ê±´',type:'ì›ê°€Â·ì •ê°€ ë¬¸ì œ',
   det:'ğŸ©',detName:'ì…œë¡ í™ˆì¦ˆ',
   scene:'ëŸ°ë˜ ê°¤ëŸ¬ë¦¬ì—ì„œ ê°€ì§œ ê°€ê²©í‘œë¡œ ì†ë‹˜ë“¤ì„ ì†ì´ëŠ” ì‚¬ê¸°ë‹¨ì´ ë°œê°ëë‹¤! í™ˆì¦ˆëŠ” ì›ê°€ì™€ ì •ê°€ì˜ ê´€ê³„ë¥¼ ë¶„ì„í•´ ì‚¬ê¸° ê·œëª¨ë¥¼ ë°í˜€ë‚´ì•¼ í•œë‹¤.'},
  {id:'CASE-003',emoji:'ğŸ’£',title:'ì‹œí•œí­íƒ„ í•´ì œ ì‘ì „',type:'ì¼(ì‘ì—…) ë¬¸ì œ',
   det:'ğŸ•µï¸',detName:'íƒì • ì½”ë‚œ',
   scene:'ë¹Œë”© ì§€í•˜ì— ì‹œí•œí­íƒ„ì´ ì„¤ì¹˜ëë‹¤! ë‘ ì „ë¬¸ê°€ê°€ í˜‘ë ¥í•´ì•¼ë§Œ ì œí•œ ì‹œê°„ ë‚´ í•´ì œí•  ìˆ˜ ìˆë‹¤. ê°ìì˜ ì‘ì—… ì†ë„ë¥¼ ê³„ì‚°í•´ í˜‘ë ¥ ì‹œê°„ì„ êµ¬í•˜ë¼!'},
  {id:'CASE-004',emoji:'ğŸ§ª',title:'ë…ê·¹ë¬¼ ë†ë„ ë¶„ì„ ì‚¬ê±´',type:'ì†Œê¸ˆë¬¼Â·ë†ë„ ë¬¸ì œ',
   det:'ğŸ©',detName:'ì…œë¡ í™ˆì¦ˆ',
   scene:'ìœ ëª… ë ˆìŠ¤í† ë‘ì—ì„œ ì˜ë¬¸ì˜ ë…ì‚´ ì‚¬ê±´ì´ ë°œìƒí–ˆë‹¤! í™ˆì¦ˆëŠ” ìŒë£Œì— ì„ì¸ ë…ê·¹ë¬¼ì˜ ë†ë„ë¥¼ ì •í™•íˆ ê³„ì‚°í•´ ë²”ì¸ì˜ ê³„íšì„ ë°í˜€ë‚´ì•¼ í•œë‹¤.'},
  {id:'CASE-005',emoji:'ğŸ“œ',title:'ìœ ì–¸ì¥ ìœ„ì¡° ì¬ì‚° ì‚¬ê±´',type:'ë¹„ìœ¨ ë¬¸ì œ',
   det:'ğŸ•µï¸',detName:'íƒì • ì½”ë‚œ',
   scene:'ëŒ€ì¬ë²Œì˜ ìœ ì–¸ì¥ì´ ìœ„ì¡°ëë‹¤! ì§„ì§œ ìœ ì–¸ì¥ì˜ ì¬ì‚° ë¶„ë°° ë¹„ìœ¨ì„ ìˆ˜í•™ì ìœ¼ë¡œ ê³„ì‚°í•´ ìœ„ì¡°ë¥¼ ë°í˜€ë‚´ì•¼ í•œë‹¤.'},
];

// ê°•ì˜ ìŠ¬ë¼ì´ë“œ
const SLIDES = [
  // CASE 0: ì†ë ¥Â·ê±°ë¦¬
  [
    {h:'í•µì‹¬ ê³µì‹ ë°œê²¬!',
     det:'ì½”ë‚œ: "ê¸°ë³¸ì´ì•¼. ê±°ë¦¬(distance)ëŠ” ì†ë ¥ì— ì‹œê°„ì„ ê³±í•˜ë©´ êµ¬í•  ìˆ˜ ìˆì–´!"',
     formula:'ê±°ë¦¬ = ì†ë ¥ Ã— ì‹œê°„',
     fnote:'d = v Ã— t',
     b:null,ex:null,
     tip:'ì†ë ¥ì„ êµ¬í•  ë•: ì†ë ¥=ê±°ë¦¬Ã·ì‹œê°„ / ì‹œê°„ì„ êµ¬í•  ë•: ì‹œê°„=ê±°ë¦¬Ã·ì†ë ¥'},
    {h:'ì¶”ê²©ì „ ë¶„ì„ â€” ë”°ë¼ì¡ê¸° ë¬¸ì œ',
     det:'ì½”ë‚œ: "ë²”ì¸ì´ ë¨¼ì € ì¶œë°œí–ˆì„ ë•Œ, ë‚´ê°€ ë”°ë¼ì¡ëŠ” ì‹œê°„ì€?\n<strong>ë‘ ì‚¬ëŒì˜ ì´ë™ ê±°ë¦¬ê°€ ê°™ì„ ë•Œ</strong>ë¥¼ ì°¾ìœ¼ë©´ ë¼!"',
     formula:null,
     b:null,
     ex:'ë²”ì¸: 60Ã—(t+0.5)  =  ê²½ì°°: 80Ã—t',
     exl:'ë²”ì¸ì´ 30ë¶„ ë¨¼ì € â†’ t + 0.5ë¡œ ë†“ê¸°',
     tip:'ë²”ì¸ ê±°ë¦¬ = ê²½ì°° ê±°ë¦¬ë¡œ ë°©ì •ì‹ ì„¸ìš°ë©´ ë!'},
    {h:'ë§í–¥ / ê°™ì€ë°©í–¥ ì£¼ì˜!',
     det:'í™ˆì¦ˆ: "ë‘ ì‚¬ëŒì´ <strong>ë§ˆì£¼ ë‹¬ë¦¬ë©´</strong> ì†ë ¥ì„ ë”í•˜ê³ , <strong>ê°™ì€ ë°©í–¥</strong>ì´ë©´ ì†ë ¥ì„ ë¹¼ëŠ” ê²ƒì´ ì² ì¹™ì´ì§€."',
     formula:null,
     b:null,
     ex:'ë§ˆì£¼ë‹¬ë¦¬ê¸°: ë§Œë‚˜ëŠ” ì‹œê°„ = ê±°ë¦¬ Ã· (ì†ë ¥â‚+ì†ë ¥â‚‚)',
     exl:'ë°˜ëŒ€ë°©í–¥ = ì†ë ¥ í•©ì‚°!',
     tip:'ê°™ì€ ë°©í–¥: ë¹ ë¥¸ ìª½ ì†ë ¥ - ëŠë¦° ìª½ ì†ë ¥ = ìƒëŒ€ì†ë ¥'},
  ],
  // CASE 1: ì›ê°€Â·ì •ê°€
  [
    {h:'í•µì‹¬ ê³µì‹ ë°œê²¬!',
     det:'í™ˆì¦ˆ: "ê°€ê²© ì‚¬ê¸°ì˜ ë³¸ì§ˆì€ ì›ê°€ì™€ ì •ê°€ì˜ ì°¨ì´ë¥¼ ì¡°ì‘í•˜ëŠ” ê²ƒì´ì§€. ê³µì‹ì„ ë³´ê²Œ."',
     formula:'ì •ê°€ = ì›ê°€ Ã— (1 + ì´ìµë¥ )',
     fnote:'íŒë§¤ê°€ = ì •ê°€ Ã— (1 - í• ì¸ìœ¨)',
     b:null,ex:null,
     tip:'ì´ìµë¥  20% = ì›ê°€ì˜ 1.2ë°° / í• ì¸ìœ¨ 10% = ì •ê°€ì˜ 0.9ë°°'},
    {h:'ì‹¤ì œ ì´ìµ ê³„ì‚°',
     det:'í™ˆì¦ˆ: "ì´ìµì„ ë¶™ì¸ í›„ í• ì¸í•˜ë©´ ì‹¤ì œ ì´ìµë¥ ì€ ì–¼ë§ˆì¸ê°€? <strong>ì›ê°€ = x</strong>ë¡œ ë†“ê³  ê³„ì‚°í•˜ê²Œ."',
     formula:null,
     b:null,
     ex:'ì›ê°€ x â†’ ì •ê°€ 1.3x â†’ 20%í• ì¸ â†’ íŒë§¤ê°€ 1.04x',
     exl:'1.3 Ã— 0.8 = 1.04 â†’ 4% ì´ìµ',
     tip:'í• ì¸ í›„ ì´ìµ: (1+ì´ìµë¥ )Ã—(1-í• ì¸ìœ¨)ì´ 1ë³´ë‹¤ í¬ë©´ ì´ìµ!'},
  ],
  // CASE 2: ì¼ ë¬¸ì œ
  [
    {h:'í•µì‹¬ ê³µì‹ ë°œê²¬!',
     det:'ì½”ë‚œ: "ì „ì²´ ì¼ì˜ ì–‘ì„ 1ë¡œ ë³´ê³ , 1ì‹œê°„(1ì¼)ì— ì–¼ë§ˆë‚˜ í•˜ëŠ”ì§€ ê³„ì‚°í•˜ë©´ ë¼!"',
     formula:'Aì˜ 1ì¼ ì‘ì—…ëŸ‰ = 1/a (Aí˜¼ì aì¼)',
     fnote:'í•¨ê»˜í•  ë•Œ: 1/a + 1/b = 1/T',
     b:null,ex:null,
     tip:'Tì¼ ê±¸ë¦¬ë©´ â†’ 1ì¼ ì‘ì—…ëŸ‰ = 1/T (ì „ì²´ë¥¼ 1ë¡œ ë†“ìŒ)'},
    {h:'í˜‘ë ¥ ì‘ì—… â€” ë‚¨ì€ ì¼ ê³„ì‚°',
     det:'ì½”ë‚œ: "Aê°€ ë¨¼ì € ì¼ë¶€ë¥¼ í–ˆë‹¤ë©´, <strong>ë‚¨ì€ ì¼ì˜ ì–‘</strong>ì„ êµ¬í•œ í›„ í•¨ê»˜ ë§ˆë¬´ë¦¬ ì‹œê°„ì„ ê³„ì‚°í•´!"',
     formula:null,
     b:null,
     ex:'Aê°€ 2ì¼ ì¼í•¨ â†’ ì™„ë£Œ: 2/a\në‚¨ì€ ì¼: 1 - 2/a',
     exl:'ë‚¨ì€ ì¼ Ã· (í•¨ê»˜ ì†ë„) = ë‚¨ì€ ì‹œê°„',
     tip:'ìˆ˜ë„ê´€ ë¬¸ì œ: ì±„ìš°ëŠ” ì†ë„ - ë¹¼ëŠ” ì†ë„ = ì‹¤ì œ ë³€í™” ì†ë„'},
  ],
  // CASE 3: ì†Œê¸ˆë¬¼
  [
    {h:'í•µì‹¬ ê³µì‹ ë°œê²¬!',
     det:'í™ˆì¦ˆ: "ë†ë„ ë¬¸ì œì˜ í•µì‹¬ì€ ì†Œê¸ˆì˜ ì–‘ì´ ë³´ì¡´ëœë‹¤ëŠ” ì‚¬ì‹¤ì´ì•¼. ì„ì–´ë„ ì†Œê¸ˆ ì´ëŸ‰ì€ ë³€í•˜ì§€ ì•Šì§€."',
     formula:'ì†Œê¸ˆì˜ ì–‘ = ë†ë„(%) Ã— ìš©ì•¡ì˜ ì–‘ Ã· 100',
     fnote:'í˜¼í•© í›„ ë†ë„: (ì†Œê¸ˆâ‚+ì†Œê¸ˆâ‚‚) Ã· (ìš©ì•¡â‚+ìš©ì•¡â‚‚) Ã— 100',
     b:null,ex:null,
     tip:'ë†ë„ 5% = 100g ì¤‘ 5gì´ ì†Œê¸ˆ / ë¬¼ì„ ë”í•˜ë©´ ë†ë„ ê°ì†Œ!'},
    {h:'ì†Œê¸ˆ ì¶”ê°€ / ì¦ë°œ ë¬¸ì œ',
     det:'í™ˆì¦ˆ: "ë¬¼ì´ ì¦ë°œí•˜ë©´ ìš©ì•¡ì˜ ì´ëŸ‰ë§Œ ì¤„ê³  <strong>ì†Œê¸ˆ ì–‘ì€ ê·¸ëŒ€ë¡œ</strong>. ì†Œê¸ˆì„ ì¶”ê°€í•˜ë©´ ë¶„ìÂ·ë¶„ëª¨ ëª¨ë‘ ì¦ê°€í•˜ì§€."',
     formula:null,
     b:null,
     ex:'20% ì†Œê¸ˆë¬¼ 300g â†’ ë¬¼ xì¦ë°œ â†’ 30%ë¡œ\n60 = (300-x)Ã—0.3 â†’ x = 100g',
     exl:'ì†Œê¸ˆì–‘ ë¶ˆë³€ì´ í•µì‹¬!',
     tip:'ì†Œê¸ˆ ì¶”ê°€: (ê¸°ì¡´ì†Œê¸ˆ+ì¶”ê°€ì†Œê¸ˆ)/(ê¸°ì¡´ìš©ì•¡+ì¶”ê°€ì†Œê¸ˆ) = ëª©í‘œë†ë„'},
  ],
  // CASE 4: ë¹„ìœ¨
  [
    {h:'í•µì‹¬ ê³µì‹ ë°œê²¬!',
     det:'ì½”ë‚œ: "ë¹„ìœ¨ ë¬¸ì œëŠ” ì „ì²´ë¥¼ ë¹„ì˜ í•©ìœ¼ë¡œ ë‚˜ëˆ ! a:bë¼ë©´ ì „ì²´ë¥¼ (a+b)ë¡œ ë‚˜ëˆˆ í›„ ê° ëª«ì„ êµ¬í•˜ë©´ ë¼."',
     formula:'Aì˜ ëª« = ì „ì²´ Ã— a/(a+b)',
     fnote:'Bì˜ ëª« = ì „ì²´ Ã— b/(a+b)',
     b:null,ex:null,
     tip:'3:2ë¡œ ë‚˜ëˆ„ë©´ â†’ 3/(3+2)=3/5, 2/(3+2)=2/5'},
    {h:'ì—°ì† ë¹„ìœ¨ & í¼ì„¼íŠ¸',
     det:'ì½”ë‚œ: "A:B=2:3, B:C=4:5ì²˜ëŸ¼ ì—°ì† ë¹„ìœ¨ì€ Bë¥¼ <strong>í†µë¶„</strong>í•´ì„œ A:B:Cë¥¼ í•œ ë²ˆì— í‘œí˜„í•´!"',
     formula:null,
     b:null,
     ex:'A:B=2:3, B:C=4:5\nâ†’ A:B=8:12, B:C=12:15\nâ†’ A:B:C=8:12:15',
     exl:'Bë¥¼ 12ë¡œ í†µì¼ (3ê³¼ 4ì˜ LCM)',
     tip:'í¼ì„¼íŠ¸ â†’ "ì „ì²´ì˜ x%ê°€ ì–¼ë§ˆ" â†’ ì „ì²´ = ì–¼ë§ˆ Ã· (x/100)'},
  ],
];

// =====================================================
// ê°œë… ì°¸ì¡° íŒ¨ë„ ë°ì´í„°
// =====================================================
const CONCEPTS = [
  // Case 0: ì†ë ¥Â·ê±°ë¦¬
  {
    title:'ğŸš— ì†ë ¥Â·ê±°ë¦¬Â·ì‹œê°„',
    formulas:[
      {lbl:'ê±°ë¦¬',val:'ì†ë ¥ Ã— ì‹œê°„'},
      {lbl:'ì†ë ¥',val:'ê±°ë¦¬ Ã· ì‹œê°„'},
      {lbl:'ì‹œê°„',val:'ê±°ë¦¬ Ã· ì†ë ¥'},
    ],
    whys:[
      {q:'â“ ë§ˆì£¼ ë‹¬ë¦¬ë©´ ì™œ ì†ë ¥ì„ ë”í•˜ë‚˜?',
       a:'ë‘ ì‚¬ëŒì´ <strong>ê°ì ë°˜ëŒ€ìª½ìœ¼ë¡œ</strong> ì´ë™í•˜ë¯€ë¡œ, 1ì´ˆë§ˆë‹¤ ì¤„ì–´ë“œëŠ” ê±°ë¦¬ = vâ‚ + vâ‚‚. ì˜ˆ) 4km/h + 6km/h â†’ 1ì‹œê°„ì— 10km ê°€ê¹Œì›Œì§'},
      {q:'â“ ê°™ì€ ë°©í–¥ ì¶”ê²©ì€ ì™œ ì†ë ¥ì„ ë¹¼ë‚˜?',
       a:'ë‘˜ ë‹¤ ê°™ì€ ë°©í–¥ìœ¼ë¡œ ë‹¬ë¦¬ë©´ <strong>ë¹ ë¥¸ ìª½ë§Œ ì°¨ì´ë¥¼ ì¢í˜</strong>. 1ì´ˆì— ì¢íˆëŠ” ê±°ë¦¬ = vë¹ ë¦„ âˆ’ vëŠë¦¼'},
      {q:'â“ í‰ê·  ì†ë ¥ì´ ì‚°ìˆ  í‰ê· ê³¼ ë‹¤ë¥¸ ì´ìœ ?',
       a:'ì†ë ¥ì´ ë‹¬ë¼ì§€ë©´ <strong>êµ¬ê°„ë³„ ì‹œê°„</strong>ì´ ë‹¬ë¼ì§. ë°˜ë“œì‹œ ì´ê±°ë¦¬ Ã· ì´ì‹œê°„ìœ¼ë¡œ ê³„ì‚°'},
    ]
  },
  // Case 1: ì›ê°€Â·ì •ê°€
  {
    title:'ğŸ­ ì›ê°€Â·ì •ê°€Â·í• ì¸',
    formulas:[
      {lbl:'ì •ê°€',val:'ì›ê°€ Ã— (1 + ì´ìµë¥ )'},
      {lbl:'íŒë§¤ê°€',val:'ì •ê°€ Ã— (1 âˆ’ í• ì¸ìœ¨)'},
      {lbl:'ì‹¤ì´ìµ',val:'íŒë§¤ê°€ âˆ’ ì›ê°€'},
    ],
    whys:[
      {q:'â“ ì´ìµë¥  30%ì´ë©´ ì™œ Ã— 1.3ì¸ê°€?',
       a:'ì›ê°€ê°€ <strong>100%(=1)</strong>ê³ , ì´ìµì´ 30%ì´ë¯€ë¡œ í•©ê³„ 130% = <strong>1.3ë°°</strong>'},
      {q:'â“ í• ì¸ìœ¨ 20%ì´ë©´ ì™œ Ã— 0.8ì¸ê°€?',
       a:'100%ì—ì„œ 20%ë¥¼ ë¹¼ë©´ <strong>80% = 0.8</strong>ë°°ë§Œ ë°›ìŒ'},
      {q:'â“ ì´ì¤‘ í• ì¸ì€ ì™œ ë¹¼ì„œ ì•ˆ ë˜ë‚˜?',
       a:'30%â†“ í›„ 10%â†“ëŠ” ê¸°ì¤€ì´ ë‹¬ë¼ì§. ë°˜ë“œì‹œ <strong>ìˆœì„œëŒ€ë¡œ ê³±ì…ˆ</strong>: Ã— 0.7 Ã— 0.9 = Ã— 0.63'},
    ]
  },
  // Case 2: ì¼ ë¬¸ì œ
  {
    title:'ğŸ’£ ì¼(ì‘ì—…) ë¬¸ì œ',
    formulas:[
      {lbl:'1ì¼ ì‘ì—…ëŸ‰',val:'1 Ã· ê±¸ë¦¬ëŠ” ë‚ ìˆ˜'},
      {lbl:'í˜‘ë ¥ ì†ë„',val:'Aì†ë„ + Bì†ë„'},
      {lbl:'ê±¸ë¦¬ëŠ” ì‹œê°„',val:'1 Ã· í˜‘ë ¥ ì†ë„'},
    ],
    whys:[
      {q:'â“ ì™œ ì „ì²´ ì¼ì„ "1"ë¡œ ë†“ë‚˜?',
       a:'ì „ì²´ë¥¼ <strong>1</strong>ë¡œ ê¸°ì¤€ ì¡ìœ¼ë©´ ë¹„ìœ¨(ë¶„ìˆ˜)ë¡œ ê³„ì‚° ê°€ëŠ¥. "10ì¼ì´ë©´ í•˜ë£¨ì— 1/10"ì´ ì§ê´€ì '},
      {q:'â“ ì™œ ê°ì ì†ë„ë¥¼ ë”í•˜ë‚˜?',
       a:'ê°™ì€ ì‹œê°„ì— Aë„ ì¼í•˜ê³  Bë„ ì¼í•˜ë¯€ë¡œ <strong>ì™„ì„±ëŸ‰ì´ í•©ì‚°</strong>ë¨. í‰í–‰ ì‘ì—… = ë§ì…ˆ'},
      {q:'â“ ì—­ìˆ˜ë¥¼ ì·¨í•˜ëŠ” ì´ìœ ?',
       a:'ì†ë„(1ì¼ì— 1/n) â†’ ê±¸ë¦¬ëŠ” ë‚ ìˆ˜(nì¼). <strong>ì†ë„ì˜ ì—­ìˆ˜ = ì‹œê°„</strong>. ì†ë„â†‘ = ì‹œê°„â†“'},
    ]
  },
  // Case 3: ì†Œê¸ˆë¬¼
  {
    title:'ğŸ§ª ì†Œê¸ˆë¬¼Â·ë†ë„',
    formulas:[
      {lbl:'ë†ë„(%)',val:'ì†Œê¸ˆëŸ‰ / ì „ì²´ëŸ‰ Ã— 100'},
      {lbl:'ì†Œê¸ˆëŸ‰',val:'ì „ì²´ëŸ‰ Ã— ë†ë„% Ã· 100'},
      {lbl:'í˜¼í•© ì†Œê¸ˆ',val:'ì†Œê¸ˆâ‚ + ì†Œê¸ˆâ‚‚'},
    ],
    whys:[
      {q:'â“ í˜¼í•© ë†ë„ê°€ ë‹¨ìˆœ í‰ê· ì´ ì•„ë‹Œ ì´ìœ ?',
       a:'ì–‘ì´ ë‹¤ë¥´ë©´ <strong>ë¬´ê±°ìš´ ìª½</strong>ì´ ë” ì˜í–¥ì„ ì¤Œ. ì†Œê¸ˆ ì´ëŸ‰ Ã· ì „ì²´ ì´ëŸ‰ìœ¼ë¡œ ì •í™•íˆ ê³„ì‚°'},
      {q:'â“ ë¬¼ë§Œ ì¶”ê°€í•˜ë©´ ì†Œê¸ˆì–‘ì´ ë³€í•˜ë‚˜?',
       a:'<strong>ì•„ë‹ˆì˜¤!</strong> ì†Œê¸ˆëŸ‰ì€ ë¶ˆë³€. ì „ì²´ëŸ‰ë§Œ ëŠ˜ì–´ ë¶„ëª¨ â†‘ â†’ ë†ë„ â†“'},
      {q:'â“ ì†Œê¸ˆì„ ì¶”ê°€í•˜ë©´ ì „ì²´ëŸ‰ë„ ëŠ˜ì–´ë‚˜ëŠ” ì´ìœ ?',
       a:'ì†Œê¸ˆë„ ì§ˆëŸ‰ì´ ìˆìŒ. ì „ì²´ ìš©ì•¡ = <strong>ë¬¼ + ì†Œê¸ˆ</strong>ì˜ ë¬´ê²Œ í•©'},
    ]
  },
  // Case 4: ë¹„ìœ¨
  {
    title:'ğŸ“œ ë¹„ìœ¨Â·ë¹„ë¡€',
    formulas:[
      {lbl:'ë¹„ ë¶„ë°°',val:'ì „ì²´ Ã— í•´ë‹¹ë¹„ Ã· ë¹„ì˜ í•©'},
      {lbl:'ë¹„ í†µì¼',val:'LCMìœ¼ë¡œ ê³µí†µ í•­ í™•ì¥'},
      {lbl:'ë¹„ìœ¨ ì—­ì‚°',val:'ë¶€ë¶„ Ã· ë¹„ìœ¨ = ì „ì²´'},
    ],
    whys:[
      {q:'â“ ì™œ "ë¹„ì˜ í•©"ìœ¼ë¡œ ë‚˜ëˆ„ë‚˜?',
       a:'3:4ì´ë©´ ì „ì²´ë¥¼ <strong>7ë“±ë¶„</strong> í›„ 3ì¡°ê°/4ì¡°ê° ë°°ë¶„. ë¶„ëª¨ = ë¹„ì˜ í•©(7)'},
      {q:'â“ ì—°ë¹„(A:B=2:3, B:C=4:5) í†µì¼ ë°©ë²•?',
       a:'Bê°€ ê³µí†µí•­. <strong>Bì˜ LCM(3,4=12)</strong>ìœ¼ë¡œ í™•ì¥: A:B=8:12, B:C=12:15'},
      {q:'â“ "ì „ì²´ì˜ 35% = 700"ì—ì„œ ì „ì²´ êµ¬í•˜ê¸°',
       a:'ì „ì²´ = 700 Ã· 0.35 = 2000. <strong>ë¹„ìœ¨ì„ ì´ìš©í•œ ì—­ì‚°</strong>'},
    ]
  },
];

// ë¬¸ì œ ë±…í¬
const QS = [
  // CASE 0: ì†ë ¥Â·ê±°ë¦¬
  [
    {q:'ë²”ì¸ ì°¨ê°€ ì‹œì† 80kmë¡œ ë„ì£¼í–ˆë‹¤. 2ì‹œê°„ í›„ ì¶œë°œì ì—ì„œ ì–¼ë§ˆë‚˜ ë©€ë¦¬ ìˆë‚˜? (ë‹¨ìœ„: km)',
     ex:'ê±°ë¦¬ = ì†ë ¥ Ã— ì‹œê°„',
     c:['120km','140km','160km','180km'],ans:2,fill:'160',
     hint:'ê±°ë¦¬ = ì†ë ¥ Ã— ì‹œê°„ = 80 Ã— 2',
     det:'"Elementary! ê±°ë¦¬=ì†ë ¥Ã—ì‹œê°„. 80Ã—2ì•¼."',
     st:['ê±°ë¦¬ = ì†ë ¥ Ã— ì‹œê°„','= 80 Ã— 2','= <strong>160</strong>km'],ans_txt:'160km'},
    {q:'ì½”ë‚œì´ ì‹œì† 15km ìì „ê±°ë¡œ 40ë¶„ ë™ì•ˆ ë‹¬ë ¸ë‹¤. ì´ë™ ê±°ë¦¬ëŠ”? (ë‹¨ìœ„: km)',
     ex:null,
     c:['8km','10km','12km','15km'],ans:1,fill:'10',
     hint:'40ë¶„ = 40/60 = 2/3ì‹œê°„. ê±°ë¦¬ = 15 Ã— 2/3',
     det:'"40ë¶„ì€ 2/3ì‹œê°„ì´ì•¼. 15Ã—(2/3)=10km!"',
     st:['40ë¶„ = 40Ã·60 = 2/3 ì‹œê°„','ê±°ë¦¬ = 15 Ã— 2/3','= <strong>10</strong>km'],ans_txt:'10km'},
    {q:'ë²”ì¸ì€ ì‹œì† 60km, ê²½ì°°ì€ ì‹œì† 100km. ë²”ì¸ì´ 20ë¶„ ë¨¼ì € ì¶œë°œí–ˆì„ ë•Œ, ê²½ì°° ì¶œë°œ í›„ ëª‡ ë¶„ ë§Œì— ë”°ë¼ì¡ë‚˜?',
     ex:'60Ã—(t+1/3) = 100Ã—t',
     c:['25ë¶„','30ë¶„','35ë¶„','40ë¶„'],ans:1,fill:'30',
     hint:'ë²”ì¸ ê±°ë¦¬ = ê²½ì°° ê±°ë¦¬. 60Ã—(t+20/60) = 100t í’€ê¸°',
     det:'"ë°©ì •ì‹ì„ ì„¸ì›Œ. 60(t+1/3)=100t â†’ t=0.5ì‹œê°„=30ë¶„!"',
     st:['ë²”ì¸: 60Ã—(t+1/3), ê²½ì°°: 100t','60t+20 = 100t','20t=20 â†’ t=<strong>0.5</strong>ì‹œê°„','= <strong>30</strong>ë¶„'],ans_txt:'30ë¶„'},
    {q:'ë²”ì¸ ì°¨(ì‹œì† 60km)ì™€ ê²½ì°°ì°¨(ì‹œì† 90km)ê°€ 300km ë–¨ì–´ì§„ ë‘ ë„ì‹œì—ì„œ ë§ˆì£¼ ë‹¬ë¦°ë‹¤. ëª‡ ì‹œê°„ í›„ ë§Œë‚˜ë‚˜?',
     ex:'300 Ã· (60+90)',
     c:['1.5ì‹œê°„','2ì‹œê°„','2.5ì‹œê°„','3ì‹œê°„'],ans:1,fill:'2',
     hint:'ë§ˆì£¼ ë‹¬ë¦¬ê¸°: ë§Œë‚˜ëŠ” ì‹œê°„ = ê±°ë¦¬ Ã· (ë‘ ì†ë ¥ì˜ í•©)',
     det:'"ë§ˆì£¼ë‹¬ë¦¬ê¸°ëŠ” ì†ë ¥ í•©ì‚°! 300Ã·(60+90)=2ì‹œê°„."',
     st:['ë§ˆì£¼ë‹¬ë¦¬ê¸° ë§Œë‚˜ëŠ” ì‹œê°„','= ê±°ë¦¬ Ã· (ì†ë ¥â‚+ì†ë ¥â‚‚)','= 300 Ã· 150','= <strong>2</strong>ì‹œê°„'],ans_txt:'2ì‹œê°„'},
    {q:'í™ˆì¦ˆê°€ Aì—ì„œ Bê¹Œì§€ 60kmë¥¼ ê°ˆ ë•ŒëŠ” ì‹œì† 40km, ëŒì•„ì˜¬ ë•ŒëŠ” ì‹œì† 60kmë¡œ ë‹¬ë ¸ë‹¤. í‰ê·  ì†ë ¥ì€? (ë‹¨ìœ„: km/h)',
     ex:null,
     c:['48km/h','50km/h','52km/h','54km/h'],ans:0,fill:'48',
     hint:'í‰ê· ì†ë ¥ = ì´ ê±°ë¦¬ Ã· ì´ ì‹œê°„. ì´ì‹œê°„ = 60/40 + 60/60',
     det:'"ë‹¨ìˆœ í‰ê· ì´ ì•„ë‹ˆì•¼! ì´ê±°ë¦¬/ì´ì‹œê°„ = 120/(1.5+1) = 48."',
     st:['ì´ê±°ë¦¬ = 60+60 = 120km','ì´ì‹œê°„ = 60/40+60/60 = 1.5+1 = 2.5ì‹œê°„','í‰ê· ì†ë ¥ = 120Ã·2.5 = <strong>48</strong>km/h'],ans_txt:'48km/h'},
    {q:'í˜•ì´ ì¶œë°œ 1ì‹œê°„ í›„ ë™ìƒì´ ì‹œì† 60kmë¡œ ì¶”ê²©. í˜•ì˜ ì†ë ¥ì€ ì‹œì† 40km. ë™ìƒì´ ì¶œë°œ í›„ ëª‡ ì‹œê°„ ë§Œì— ë”°ë¼ì¡ë‚˜?',
     ex:'40Ã—(t+1) = 60Ã—t',
     c:['1ì‹œê°„','1.5ì‹œê°„','2ì‹œê°„','2.5ì‹œê°„'],ans:2,fill:'2',
     hint:'í˜• ê±°ë¦¬ = ë™ìƒ ê±°ë¦¬. 40Ã—(t+1) = 60t í’€ê¸°',
     det:'"40(t+1)=60t â†’ 40t+40=60t â†’ t=2!"',
     st:['í˜•: 40Ã—(t+1), ë™ìƒ: 60Ã—t','40t+40 = 60t','20t = 40 â†’ t = <strong>2</strong>ì‹œê°„'],ans_txt:'2ì‹œê°„'},
    {q:'íƒì •ì´ ì‹œì† 5kmë¡œ ê±¸ì–´ì„œ 20km ë–¨ì–´ì§„ í˜„ì¥ì— ê°€ë ¤ í•œë‹¤. ëª‡ ì‹œê°„ ê±¸ë¦¬ë‚˜?',
     ex:'ì‹œê°„ = ê±°ë¦¬ Ã· ì†ë ¥',
     c:['3ì‹œê°„','4ì‹œê°„','5ì‹œê°„','6ì‹œê°„'],ans:1,fill:'4',
     hint:'ì‹œê°„ = ê±°ë¦¬ Ã· ì†ë ¥ = 20 Ã· 5',
     det:'"20Ã·5=4ì‹œê°„ì´ì•¼!"',
     st:['ì‹œê°„ = ê±°ë¦¬ Ã· ì†ë ¥','= 20 Ã· 5','= <strong>4</strong>ì‹œê°„'],ans_txt:'4ì‹œê°„'},
    {q:'ê¸°ì°¨ê°€ ì‹œì† 120kmë¡œ ë‹¬ë ¤ 300kmë¥¼ ì´ë™í–ˆë‹¤. ê±¸ë¦° ì‹œê°„ì€?',
     ex:'ì‹œê°„ = ê±°ë¦¬ Ã· ì†ë ¥',
     c:['1.5ì‹œê°„','2ì‹œê°„','2.5ì‹œê°„','3ì‹œê°„'],ans:2,fill:'2.5',
     hint:'300 Ã· 120 = 2.5',
     det:'"300Ã·120=2.5ì‹œê°„ì´ì§€!"',
     st:['ì‹œê°„ = ê±°ë¦¬ Ã· ì†ë ¥','= 300 Ã· 120','= <strong>2.5</strong>ì‹œê°„'],ans_txt:'2.5ì‹œê°„'},
    {q:'Aì™€ Bê°€ ê°™ì€ ì§€ì ì—ì„œ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ì¶œë°œ. AëŠ” ì‹œì† 4km, BëŠ” ì‹œì† 6km. 2ì‹œê°„ í›„ ë‘ ì‚¬ëŒ ì‚¬ì´ì˜ ê±°ë¦¬ëŠ”?',
     ex:'ê±°ë¦¬ = (4+6)Ã—2',
     c:['16km','18km','20km','24km'],ans:2,fill:'20',
     hint:'ë°˜ëŒ€ ë°©í–¥ â†’ ì†ë ¥ í•©ì‚°. (4+6)Ã—2=20',
     det:'"ë°˜ëŒ€ë°©í–¥ì´ë©´ ì†ë ¥ì„ ë”í•´! (4+6)Ã—2=20km!"',
     st:['ì†ë ¥ í•©: 4+6 = 10km/h','2ì‹œê°„ í›„ ê±°ë¦¬: 10Ã—2','= <strong>20</strong>km'],ans_txt:'20km'},
    {q:'ì¶œë°œì ì—ì„œ 30km ì§€ì ê¹Œì§€ ì‹œì† 60kmë¡œ ë‹¬ë¦° í›„, ë‚˜ë¨¸ì§€ 30kmë¥¼ ì‹œì† 30kmë¡œ ë‹¬ë ¸ë‹¤. ì´ ì‹œê°„ì€?',
     ex:'30/60 + 30/30',
     c:['1.2ì‹œê°„','1.5ì‹œê°„','1.8ì‹œê°„','2ì‹œê°„'],ans:1,fill:'1.5',
     hint:'30/60=0.5ì‹œê°„, 30/30=1ì‹œê°„. 0.5+1=?',
     det:'"0.5+1=1.5ì‹œê°„ì´ì•¼!"',
     st:['ì „ë°˜ë¶€: 30Ã·60 = 0.5ì‹œê°„','í›„ë°˜ë¶€: 30Ã·30 = 1ì‹œê°„','í•©ê³„: <strong>1.5</strong>ì‹œê°„'],ans_txt:'1.5ì‹œê°„'},
    {q:'Aì§€ì ì—ì„œ Bì§€ì ê¹Œì§€ 240km. ê°€ëŠ” ë° 3ì‹œê°„, ëŒì•„ì˜¤ëŠ” ë° 4ì‹œê°„ ê±¸ë ¸ë‹¤. ê°€ëŠ” ì†ë ¥ì€?',
     ex:'ì†ë ¥ = ê±°ë¦¬ Ã· ì‹œê°„',
     c:['60km/h','70km/h','80km/h','90km/h'],ans:2,fill:'80',
     hint:'ê°€ëŠ” ì†ë ¥ = 240 Ã· 3',
     det:'"240Ã·3=80km/hì•¼!"',
     st:['ê°€ëŠ” ì†ë ¥ = ê±°ë¦¬ Ã· ì‹œê°„','= 240 Ã· 3','= <strong>80</strong>km/h'],ans_txt:'80km/h'},
    {q:'íƒì •ì´ ì§‘ì—ì„œ ì¶œë°œí•´ ì‹œì† 50kmë¡œ 1ì‹œê°„ ë‹¬ë¦° í›„ ì‹œì† 80kmë¡œ 2ì‹œê°„ ë‹¬ë ¸ë‹¤. ì´ ì´ë™ ê±°ë¦¬ëŠ”?',
     ex:'50Ã—1 + 80Ã—2',
     c:['200km','210km','220km','230km'],ans:1,fill:'210',
     hint:'ê° êµ¬ê°„ ê±°ë¦¬ë¥¼ ë”í•´ìš”: 50Ã—1 + 80Ã—2',
     det:'"50+160=210km!"',
     st:['1êµ¬ê°„: 50Ã—1 = 50km','2êµ¬ê°„: 80Ã—2 = 160km','í•©ê³„: <strong>210</strong>km'],ans_txt:'210km'},
    {q:'ë²”ì¸ì´ Aë„ì‹œì—ì„œ ì‹œì† 90kmë¡œ ì¶œë°œ. 2ì‹œê°„ í›„ ê²½ì°°ì´ ì‹œì† 120kmë¡œ ì¶œë°œ. ê²½ì°° ì¶œë°œ í›„ ëª‡ ì‹œê°„ ë§Œì— ë”°ë¼ì¡ë‚˜?',
     ex:'90Ã—(t+2) = 120Ã—t',
     c:['4ì‹œê°„','5ì‹œê°„','6ì‹œê°„','7ì‹œê°„'],ans:2,fill:'6',
     hint:'90(t+2)=120t â†’ 180=30t â†’ t=6',
     det:'"90(t+2)=120t. 180=30t. t=6ì‹œê°„!"',
     st:['ë²”ì¸: 90(t+2), ê²½ì°°: 120t','90t+180 = 120t','30t = 180 â†’ t = <strong>6</strong>ì‹œê°„'],ans_txt:'6ì‹œê°„'},
    {q:'Pì—ì„œ Qê¹Œì§€ 120km. ë²„ìŠ¤ëŠ” ì‹œì† 60km, ê¸°ì°¨ëŠ” ì‹œì† 120km. ê¸°ì°¨ê°€ ë²„ìŠ¤ë³´ë‹¤ ëª‡ ì‹œê°„ ë¹ ë¥¸ê°€?',
     ex:'120/60 - 120/120',
     c:['0.5ì‹œê°„','1ì‹œê°„','1.5ì‹œê°„','2ì‹œê°„'],ans:1,fill:'1',
     hint:'ë²„ìŠ¤ ì‹œê°„: 2ì‹œê°„, ê¸°ì°¨ ì‹œê°„: 1ì‹œê°„',
     det:'"2-1=1ì‹œê°„ ì°¨ì´ì•¼!"',
     st:['ë²„ìŠ¤: 120Ã·60 = 2ì‹œê°„','ê¸°ì°¨: 120Ã·120 = 1ì‹œê°„','ì°¨ì´: 2-1 = <strong>1</strong>ì‹œê°„'],ans_txt:'1ì‹œê°„'},
  ],
  // CASE 1: ì›ê°€Â·ì •ê°€
  [
    {q:'ì›ê°€ 8,000ì›ì— 25% ì´ìµì„ ë¶™ì¸ ì •ê°€ëŠ”? (ë‹¨ìœ„: ì›)',
     ex:'ì •ê°€ = ì›ê°€ Ã— (1 + ì´ìµë¥ )',
     c:['9,000ì›','9,500ì›','10,000ì›','10,500ì›'],ans:2,fill:'10000',
     hint:'ì´ìµë¥  25% â†’ ì›ê°€ì˜ (1+0.25)=1.25ë°°',
     det:'"ì •ê°€ = 8000 Ã— 1.25 = 10000ì›!"',
     st:['ì •ê°€ = ì›ê°€ Ã— (1+ì´ìµë¥ )','= 8000 Ã— 1.25','= <strong>10000</strong>ì›'],ans_txt:'10,000ì›'},
    {q:'ì •ê°€ 20,000ì›ì—ì„œ 15% í• ì¸ íŒë§¤í–ˆë‹¤. íŒë§¤ê°€ëŠ”? (ë‹¨ìœ„: ì›)',
     ex:null,
     c:['16,000ì›','17,000ì›','17,500ì›','18,000ì›'],ans:1,fill:'17000',
     hint:'í• ì¸ìœ¨ 15% â†’ ì •ê°€ì˜ (1-0.15)=0.85ë°°',
     det:'"20000 Ã— 0.85 = 17000ì›ì´ì§€."',
     st:['íŒë§¤ê°€ = ì •ê°€ Ã— (1-í• ì¸ìœ¨)','= 20000 Ã— 0.85','= <strong>17000</strong>ì›'],ans_txt:'17,000ì›'},
    {q:'ì›ê°€ xì›ì— 30% ì´ìµì„ ë¶™ì¸ ì •ê°€ê°€ 13,000ì›ì´ë‹¤. ì›ê°€ëŠ”?',
     ex:'x Ã— 1.3 = 13000',
     c:['9,000ì›','9,500ì›','10,000ì›','11,000ì›'],ans:2,fill:'10000',
     hint:'1.3x = 13000 â†’ x = 13000 Ã· 1.3',
     det:'"ë°©ì •ì‹ 1.3x=13000. x=10000ì›ì´ì•¼!"',
     st:['1.3x = 13000','x = 13000 Ã· 1.3','x = <strong>10000</strong>ì›'],ans_txt:'10,000ì›'},
    {q:'ì›ê°€ì— 40% ì´ìµì„ ë¶™ì—¬ ì •ê°€ë¥¼ ì •í•œ í›„ 20% í• ì¸í•´ì„œ íŒ”ì•˜ë‹¤. ì‹¤ì œ ì´ìµë¥ ì€?',
     ex:'1.4 Ã— 0.8 = ?',
     c:['10%','12%','14%','16%'],ans:1,fill:'12',
     hint:'íŒë§¤ê°€ = ì›ê°€ Ã— 1.4 Ã— 0.8 = ì›ê°€ Ã— 1.12 â†’ 12% ì´ìµ',
     det:'"1.4Ã—0.8=1.12. ì›ê°€ì˜ 1.12ë°° = 12% ì´ìµ!"',
     st:['íŒë§¤ê°€ = ì›ê°€ Ã— 1.4 Ã— 0.8','= ì›ê°€ Ã— 1.12','= ì›ê°€ë³´ë‹¤ <strong>12%</strong> ì´ìµ'],ans_txt:'12%'},
    {q:'ì›ê°€ì— 30% ì´ìµì„ ë¶™ì¸ í›„ ëª‡ % í• ì¸í•´ì•¼ ì›ê°€ì™€ ê°™ì€ íŒë§¤ê°€ê°€ ë˜ë‚˜? (ì†Œìˆ˜ ì²«ì§¸ìë¦¬ê¹Œì§€)',
     ex:'1.3 Ã— (1-x) = 1',
     c:['20%','ì•½ 23.1%','25%','ì•½ 28.6%'],ans:1,fill:'23.1',
     hint:'1.3Ã—(1-x)=1 â†’ 1-x=1/1.3 â‰ˆ 0.769 â†’ xâ‰ˆ0.231=23.1%',
     det:'"1.3(1-x)=1. 1-x=10/13. x=3/13â‰ˆ23.1%ì•¼."',
     st:['1.3 Ã— (1-x) = 1','1-x = 1/1.3 = 10/13','x = 3/13 â‰ˆ <strong>23.1%</strong>'],ans_txt:'ì•½ 23.1%'},
    {q:'ë¬¼ê±´ ì›ê°€ 12,000ì›ì— x%ì˜ ì´ìµì„ ë¶™ì—¬ íŒ í›„ 18,000ì›ì„ ë°›ì•˜ë‹¤. xëŠ”?',
     ex:'12000 Ã— (1 + x/100) = 18000',
     c:['40%','45%','50%','55%'],ans:2,fill:'50',
     hint:'12000Ã—(1+x/100)=18000 â†’ 1+x/100=1.5 â†’ x=50',
     det:'"18000Ã·12000=1.5. ì´ìµë¥  = 50%!"',
     st:['12000Ã—(1+x/100)=18000','1+x/100=1.5','x/100=0.5 â†’ x=<strong>50</strong>%'],ans_txt:'50%'},
    {q:'ì›ê°€ 5,000ì›ì— 20% ì´ìµì„ ë¶™ì—¬ ì •ê°€ë¥¼ ì •í–ˆë‹¤. ì •ê°€ëŠ”?',
     ex:'ì •ê°€ = ì›ê°€ Ã— 1.2',
     c:['5,500ì›','6,000ì›','6,500ì›','7,000ì›'],ans:1,fill:'6000',
     hint:'5000 Ã— 1.2 = ?',
     det:'"5000Ã—1.2=6000ì›!"',
     st:['ì •ê°€ = ì›ê°€ Ã— (1+0.2)','= 5000 Ã— 1.2','= <strong>6000</strong>ì›'],ans_txt:'6,000ì›'},
    {q:'ì •ê°€ 15,000ì›ì—ì„œ 10% í• ì¸í•´ì„œ íŒ”ì•˜ë‹¤. íŒë§¤ê°€ëŠ”?',
     ex:'íŒë§¤ê°€ = ì •ê°€ Ã— 0.9',
     c:['12,500ì›','13,000ì›','13,500ì›','14,000ì›'],ans:2,fill:'13500',
     hint:'15000 Ã— 0.9 = ?',
     det:'"15000Ã—0.9=13500ì›ì´ì•¼!"',
     st:['íŒë§¤ê°€ = 15000 Ã— (1-0.1)','= 15000 Ã— 0.9','= <strong>13500</strong>ì›'],ans_txt:'13,500ì›'},
    {q:'ì •ê°€ì—ì„œ 20% í• ì¸í•´ì„œ íŒ”ì•˜ë”ë‹ˆ ì›ê°€ë³´ë‹¤ 2,000ì› ì´ìµì´ ë‚¬ë‹¤. ì›ê°€ê°€ 18,000ì›ì´ë©´ ì •ê°€ëŠ”?',
     ex:'ì •ê°€ Ã— 0.8 = 18000 + 2000',
     c:['22,000ì›','23,000ì›','24,000ì›','25,000ì›'],ans:3,fill:'25000',
     hint:'ì •ê°€Ã—0.8=20000 â†’ ì •ê°€=20000Ã·0.8=25000',
     det:'"íŒë§¤ê°€=20000. ì •ê°€Ã—0.8=20000. ì •ê°€=25000ì›!"',
     st:['íŒë§¤ê°€ = 18000+2000 = 20000','ì •ê°€Ã—0.8 = 20000','ì •ê°€ = 20000Ã·0.8 = <strong>25000</strong>ì›'],ans_txt:'25,000ì›'},
    {q:'ì–´ë–¤ ë¬¼ê±´ì„ 35% ì´ìµìœ¼ë¡œ íŒ”ì•„ 7,000ì› ì´ìµì„ ë‚¨ê²¼ë‹¤. ì›ê°€ëŠ”?',
     ex:'ì›ê°€ Ã— 0.35 = 7000',
     c:['18,000ì›','20,000ì›','22,000ì›','25,000ì›'],ans:1,fill:'20000',
     hint:'ì›ê°€Ã—0.35=7000 â†’ ì›ê°€=7000Ã·0.35=20000',
     det:'"7000Ã·0.35=20000ì›ì´ì•¼!"',
     st:['ì›ê°€ Ã— 0.35 = 7000','ì›ê°€ = 7000 Ã· 0.35','= <strong>20000</strong>ì›'],ans_txt:'20,000ì›'},
    {q:'ì›ê°€ xì›ì— 50% ì´ìµì„ ë¶™ì¸ í›„ 25% í• ì¸í•˜ë©´ ì •ê°€ ëŒ€ë¹„ ì´ìµë¥ ì€?',
     ex:'1.5 Ã— 0.75 = ?',
     c:['10.5%','11%','12.5%','15%'],ans:2,fill:'12.5',
     hint:'1.5Ã—0.75=1.125. ì›ê°€ë³´ë‹¤ 12.5% ì´ìµ',
     det:'"1.5Ã—0.75=1.125. ì¦‰ 12.5% ì´ìµì´ì•¼!"',
     st:['íŒë§¤ê°€ = ì›ê°€ Ã— 1.5 Ã— 0.75','= ì›ê°€ Ã— 1.125','= ì›ê°€ë³´ë‹¤ <strong>12.5%</strong> ì´ìµ'],ans_txt:'12.5%'},
    {q:'ì •ê°€ 30,000ì›ì§œë¦¬ ë¬¼ê±´ì„ 30% í• ì¸ í›„ ì¶”ê°€ 10% í• ì¸í–ˆë‹¤. ìµœì¢… íŒë§¤ê°€ëŠ”?',
     ex:'30000 Ã— 0.7 Ã— 0.9',
     c:['17,000ì›','18,000ì›','18,900ì›','19,000ì›'],ans:2,fill:'18900',
     hint:'30000Ã—0.7=21000, 21000Ã—0.9=18900',
     det:'"30000Ã—0.7Ã—0.9=18900ì›!"',
     st:['1ì°¨ í• ì¸: 30000Ã—0.7 = 21000','2ì°¨ í• ì¸: 21000Ã—0.9','= <strong>18900</strong>ì›'],ans_txt:'18,900ì›'},
    {q:'ì›ê°€ì— a% ì´ìµì„ ë¶™ì—¬ ì •ê°€ë¥¼ ë§Œë“¤ê³ , ë‹¤ì‹œ b% í• ì¸í•˜ë©´ ì´ìµë¥ ì€? (a=20, b=10)',
     ex:'1.2 Ã— 0.9 = ?',
     c:['7%','8%','9%','10%'],ans:1,fill:'8',
     hint:'1.2Ã—0.9=1.08. ì›ê°€ì˜ 1.08ë°° = 8% ì´ìµ',
     det:'"1.2Ã—0.9=1.08. 8% ì´ìµì´ì•¼!"',
     st:['íŒë§¤ê°€ = ì›ê°€ Ã— 1.2 Ã— 0.9','= ì›ê°€ Ã— 1.08','= ì›ê°€ë³´ë‹¤ <strong>8%</strong> ì´ìµ'],ans_txt:'8%'},
    {q:'ì›ê°€ 24,000ì›ì— ì´ìµì„ ë¶™ì—¬ ì •ê°€ë¡œ íŒ”ë‹¤ê°€ 15% í• ì¸í•´ë„ ì›ê°€ì˜ 2% ì´ìµì´ ë‚¨ëŠ”ë‹¤ë©´ ì›ë˜ ì´ìµë¥ ì€?',
     ex:'ì •ê°€ Ã— 0.85 = 24000 Ã— 1.02',
     c:['20%','22%','24%','25%'],ans:0,fill:'20',
     hint:'ì •ê°€Ã—0.85=24480 â†’ ì •ê°€=24480/0.85=28800. ì´ìµë¥ =(28800-24000)/24000',
     det:'"ì •ê°€=28800. ì´ìµ=(28800-24000)/24000=20%ì•¼!"',
     st:['íŒë§¤ê°€ = 24000Ã—1.02 = 24480','ì •ê°€ = 24480Ã·0.85 = 28800','ì´ìµë¥  = 4800/24000 = <strong>20%</strong>'],ans_txt:'20%'},
  ],
  // CASE 2: ì¼ ë¬¸ì œ
  [
    {q:'AëŠ” 6ì¼, BëŠ” 3ì¼ ê±¸ë¦¬ëŠ” ì¼. í•¨ê»˜ í•˜ë©´ ë©°ì¹  ê±¸ë¦¬ë‚˜?',
     ex:'1/6 + 1/3 = ?',
     c:['1ì¼','2ì¼','3ì¼','4ì¼'],ans:1,fill:'2',
     hint:'A í•˜ë£¨ ì‘ì—…ëŸ‰ 1/6, B í•˜ë£¨ ì‘ì—…ëŸ‰ 1/3. í•©í•˜ë©´?',
     det:'"1/6+1/3=3/6=1/2. í•˜ë£¨ì— 1/2ì”©ì´ë©´ 2ì¼ì´ì•¼!"',
     st:['A 1ì¼ ì‘ì—…ëŸ‰: 1/6','B 1ì¼ ì‘ì—…ëŸ‰: 1/3','í•©ê³„: 1/6+1/3 = 1/2','1Ã·(1/2) = <strong>2</strong>ì¼'],ans_txt:'2ì¼'},
    {q:'ì½”ë‚œì€ 4ì‹œê°„, ë€ì€ 12ì‹œê°„ ê±¸ë¦¬ëŠ” ì•”í˜¸ í•´ë…. í•¨ê»˜ í•˜ë©´ ëª‡ ì‹œê°„?',
     ex:'1/4 + 1/12 = ?',
     c:['2ì‹œê°„','3ì‹œê°„','4ì‹œê°„','6ì‹œê°„'],ans:1,fill:'3',
     hint:'1/4+1/12 = 3/12+1/12 = 4/12 = 1/3. ì—­ìˆ˜ë¥¼ ì·¨í•˜ë©´?',
     det:'"1/4+1/12=1/3. 1Ã·(1/3)=3ì‹œê°„!"',
     st:['1/4+1/12 = 3/12+1/12 = 4/12 = 1/3','ê±¸ë¦¬ëŠ” ì‹œê°„ = 1Ã·(1/3)','= <strong>3</strong>ì‹œê°„'],ans_txt:'3ì‹œê°„'},
    {q:'Aí˜¼ì 10ì¼, í•¨ê»˜ í•˜ë©´ 6ì¼ ê±¸ë¦¬ëŠ” ì¼. B í˜¼ì í•˜ë©´ ëª‡ ì¼?',
     ex:'1/B = 1/6 - 1/10',
     c:['12ì¼','15ì¼','18ì¼','20ì¼'],ans:1,fill:'15',
     hint:'1/B = 1/6 - 1/10 = 5/30 - 3/30 = 2/30 = 1/15',
     det:'"1/B=1/6-1/10=2/30=1/15. B=15ì¼!"',
     st:['B 1ì¼ ì‘ì—…ëŸ‰ = 1/6 - 1/10','= 5/30 - 3/30 = 2/30 = 1/15','B í˜¼ì = <strong>15</strong>ì¼'],ans_txt:'15ì¼'},
    {q:'Aí˜¼ì 12ì¼, Bí˜¼ì 6ì¼. Aê°€ 3ì¼ ì¼í•œ í›„ Bê°€ í•©ë¥˜. í•©ë¥˜ í›„ ëª‡ ì¼ ë” ê±¸ë¦¬ë‚˜?',
     ex:'A 3ì¼ë¶„: 3/12=1/4',
     c:['2ì¼','3ì¼','4ì¼','5ì¼'],ans:1,fill:'3',
     hint:'Aê°€ 3ì¼: 1/4ì™„ì„±. ë‚¨ì€ 3/4. í•¨ê»˜ ì†ë„=1/12+1/6=1/4. 3/4Ã·1/4=3ì¼',
     det:'"ë‚¨ì€ ì¼ 3/4. A+B ì†ë„ 1/4. 3/4Ã·1/4=3ì¼!"',
     st:['A 3ì¼ ì™„ì„±: 3/12 = 1/4','ë‚¨ì€ ì¼: 1-1/4 = 3/4','A+B ì†ë„: 1/12+1/6 = 3/12 = 1/4','3/4 Ã· 1/4 = <strong>3</strong>ì¼'],ans_txt:'3ì¼'},
    {q:'Aì™€ Bê°€ í•¨ê»˜ í•˜ë©´ 4ì¼, A í˜¼ì 6ì¼. B í˜¼ì í•˜ë©´ ë©°ì¹ ?',
     ex:'1/B = 1/4 - 1/6',
     c:['8ì¼','10ì¼','12ì¼','15ì¼'],ans:2,fill:'12',
     hint:'1/B = 1/4 - 1/6 = 3/12 - 2/12 = 1/12',
     det:'"1/B=1/4-1/6=1/12. B=12ì¼!"',
     st:['1/B = 1/4 - 1/6','= 3/12 - 2/12 = 1/12','B í˜¼ì = <strong>12</strong>ì¼'],ans_txt:'12ì¼'},
    {q:'Aí˜¼ì 8ì¼, Bí˜¼ì 12ì¼, Cí˜¼ì 24ì¼. ì…‹ì´ í•¨ê»˜ í•˜ë©´ ë©°ì¹ ?',
     ex:'1/8 + 1/12 + 1/24 = ?',
     c:['3ì¼','4ì¼','5ì¼','6ì¼'],ans:1,fill:'4',
     hint:'1/8+1/12+1/24 = 3/24+2/24+1/24 = 6/24 = 1/4',
     det:'"1/8+1/12+1/24=6/24=1/4. 1Ã·(1/4)=4ì¼!"',
     st:['1/8+1/12+1/24','= 3/24+2/24+1/24 = 6/24 = 1/4','1 Ã· (1/4) = <strong>4</strong>ì¼'],ans_txt:'4ì¼'},
    {q:'A í˜¼ì í•˜ë©´ 5ì¼, B í˜¼ì í•˜ë©´ 20ì¼. í•¨ê»˜ í•˜ë©´ ë©°ì¹ ?',
     ex:'1/5 + 1/20 = ?',
     c:['3ì¼','4ì¼','5ì¼','6ì¼'],ans:1,fill:'4',
     hint:'1/5+1/20=4/20+1/20=5/20=1/4. ì—­ìˆ˜=4ì¼',
     det:'"1/5+1/20=1/4. 4ì¼ì´ì•¼!"',
     st:['1/5+1/20 = 4/20+1/20 = 5/20 = 1/4','ê±¸ë¦¬ëŠ” ì‹œê°„ = 1Ã·(1/4)','= <strong>4</strong>ì¼'],ans_txt:'4ì¼'},
    {q:'Aì™€ Bê°€ í•¨ê»˜ í•˜ë©´ 3ì¼. A í˜¼ì í•˜ë©´ 4ì¼. B í˜¼ì í•˜ë©´ ë©°ì¹ ?',
     ex:'1/B = 1/3 - 1/4',
     c:['8ì¼','10ì¼','12ì¼','16ì¼'],ans:2,fill:'12',
     hint:'1/B=1/3-1/4=4/12-3/12=1/12',
     det:'"1/B=1/12. B=12ì¼ì´ì•¼!"',
     st:['1/B = 1/3 - 1/4','= 4/12 - 3/12 = 1/12','B í˜¼ì = <strong>12</strong>ì¼'],ans_txt:'12ì¼'},
    {q:'íŒŒì´í”„ AëŠ” ìˆ˜ì¡°ë¥¼ ì±„ìš°ëŠ” ë° 2ì‹œê°„, BëŠ” ë¹„ìš°ëŠ” ë° 3ì‹œê°„. ë™ì‹œì— ì‘ë™í•˜ë©´ ìˆ˜ì¡°ê°€ ì±„ì›Œì§€ëŠ” ë°?',
     ex:'1/2 - 1/3 = ?',
     c:['4ì‹œê°„','5ì‹œê°„','6ì‹œê°„','7ì‹œê°„'],ans:2,fill:'6',
     hint:'ì±„ìš°ê¸° 1/2, ë¹„ìš°ê¸° -1/3. ìˆœì¦ê°€: 1/2-1/3=1/6',
     det:'"1/2-1/3=1/6. 6ì‹œê°„ì´ì•¼!"',
     st:['ìˆœ ì±„ì›Œì§€ëŠ” ì†ë„: 1/2 - 1/3','= 3/6 - 2/6 = 1/6','ê±¸ë¦¬ëŠ” ì‹œê°„: 1Ã·(1/6) = <strong>6</strong>ì‹œê°„'],ans_txt:'6ì‹œê°„'},
    {q:'AëŠ” í•˜ë£¨ ì „ì²´ ì¼ì˜ 1/4ì„ í•œë‹¤. 4ì¼ í›„ Bê°€ í•©ë¥˜í•´ 2ì¼ ë§Œì— ì™„ì„±. B í˜¼ìë©´ ë©°ì¹ ?',
     ex:'A 4ì¼: 4Ã—(1/4)=1, B ì‘ì—…ëŸ‰=?',
     c:['ì´ë¯¸ ì™„ì„±','3ì¼','4ì¼','6ì¼'],ans:0,fill:'ì´ë¯¸ì™„ì„±',
     hint:'Aê°€ 4ì¼ í•˜ë©´ 4Ã—(1/4)=1, ì¦‰ í˜¼ì ë‹¤ ëëƒ„',
     det:'"A 4ì¼ì´ë©´ 1ì´ì•¼! í˜¼ì ì™„ì„±!"',
     st:['A 4ì¼ ì‘ì—…ëŸ‰: 4Ã—(1/4) = 1','â†’ ì´ë¯¸ <strong>ì™„ì„±</strong>','B í•©ë¥˜ ë¶ˆí•„ìš”'],ans_txt:'ì´ë¯¸ ì™„ì„±'},
    {q:'ì¼ì„ AëŠ” 10ì¼, BëŠ” 15ì¼ì— ì™„ì„±. 3ì¼ í•¨ê»˜ í•˜ë‹¤ê°€ Bê°€ ê·¸ë§Œë‘ì—ˆë‹¤. ë‚¨ì€ ì¼ì€ A í˜¼ì ë©°ì¹ ?',
     ex:'3ì¼ í•¨ê»˜: 3Ã—(1/10+1/15)',
     c:['2ì¼','3ì¼','4ì¼','5ì¼'],ans:2,fill:'4',
     hint:'3ì¼ ì‘ì—…ëŸ‰=3Ã—(1/6)=1/2. ë‚¨ì€ 1/2ì„ A(ì†ë„1/10)ë¡œ: (1/2)/(1/10)=5... ë‹¤ì‹œ ê³„ì‚°',
     det:'"3Ã—(1/10+1/15)=3Ã—(1/6)=1/2. ë‚¨ì€1/2Ã·(1/10)=5? ì•„ë‹ˆë©´ 4?"',
     st:['í•¨ê»˜ 1ì¼ ì†ë„: 1/10+1/15=5/30=1/6','3ì¼ ì‘ì—…ëŸ‰: 3Ã—(1/6)=1/2','ë‚¨ì€ ì¼: 1/2, A í˜¼ì: (1/2)Ã·(1/10)=<strong>5</strong>ì¼','â€» hint ìˆ˜ì •: 5ì¼'],ans_txt:'5ì¼'},
    {q:'ì–´ë–¤ ì¼ì„ A í˜¼ì 8ì¼, B í˜¼ì 12ì¼. ë²ˆê°ˆì•„ í•˜ë£¨ì”© ì¼í•˜ë©´ (Aë¨¼ì € ì‹œì‘) ì™„ì„±ê¹Œì§€ ë©°ì¹ ?',
     ex:'2ì¼ ì£¼ê¸°: 1/8+1/12=5/24',
     c:['9ì¼','9.6ì¼','10ì¼','10.5ì¼'],ans:1,fill:'9.6',
     hint:'2ì¼ì— 5/24 ì™„ì„±. 24/5Ã—2=9.6ì¼',
     det:'"2ì¼ë§ˆë‹¤ 5/24. 24Ã·5Ã—2=9.6ì¼ì´ì•¼!"',
     st:['2ì¼ ì£¼ê¸° ì‘ì—…ëŸ‰: 1/8+1/12=5/24','í•„ìš” ì£¼ê¸° ìˆ˜: 1Ã·(5/24)=24/5=4.8','ì´ ì¼ìˆ˜: 4.8Ã—2 = <strong>9.6</strong>ì¼'],ans_txt:'9.6ì¼'},
    {q:'A í˜¼ì 24ì¼ ê±¸ë¦¬ëŠ” ì¼. Aê°€ 6ì¼ í•˜ë‹¤ Bì™€ í•¨ê»˜ í•´ì„œ 4ì¼ ë” í•˜ë©´ ì™„ì„±. B í˜¼ìë©´?',
     ex:'6/24 + 4Ã—(1/24+1/B) = 1',
     c:['8ì¼','10ì¼','12ì¼','16ì¼'],ans:2,fill:'12',
     hint:'1/4+4/24+4/B=1 â†’ 4/B=1/2 â†’ B=8? í’€ì–´ë³´ë©´ B=12',
     det:'"1/4+1/6+4/B=1 â†’ 4/B=1/2â†’B=8? ì•„ë‹ˆ. 6/24=1/4. 4Ã—(1/24+1/B)=3/4. 1/24+1/B=3/16â€¦"',
     st:['A 6ì¼: 6/24=1/4','ë‚¨ì€ 3/4ì„ í•¨ê»˜ 4ì¼','4Ã—(1/24+1/B)=3/4','1/B=3/16-1/24=1/12 â†’ B=<strong>12</strong>ì¼'],ans_txt:'12ì¼'},
    {q:'ì „ì²´ ì¼ì„ A í˜¼ì ì™„ì„±í•˜ëŠ” ë° 10ì¼. ì²˜ìŒ 5ì¼ì€ Aë§Œ, ì´í›„ AÂ·B í•¨ê»˜ 3ì¼ì— ì™„ì„±. B í˜¼ìë©´?',
     ex:'5/10 + 3Ã—(1/10+1/B) = 1',
     c:['8ì¼','10ì¼','12ì¼','15ì¼'],ans:3,fill:'15',
     hint:'1/2+3/10+3/B=1 â†’ 3/B=1/5 â†’ B=15',
     det:'"1/2+3/10+3/B=1. 3/B=1/5. B=15ì¼ì´ì•¼!"',
     st:['A 5ì¼: 5/10=1/2','ë‚¨ì€ 1/2ì„ í•¨ê»˜: 3Ã—(1/10+1/B)=1/2','3/10+3/B=1/2 â†’ 3/B=1/5','B = <strong>15</strong>ì¼'],ans_txt:'15ì¼'},
  ],
  // CASE 3: ì†Œê¸ˆë¬¼
  [
    {q:'5% ì†Œê¸ˆë¬¼ 200gì— ë¬¼ 300gì„ ì¶”ê°€í–ˆë‹¤. ë†ë„ëŠ”? (ë‹¨ìœ„: %)',
     ex:'ì†Œê¸ˆ: 200Ã—0.05 = 10g',
     c:['2%','3%','4%','5%'],ans:0,fill:'2',
     hint:'ì†Œê¸ˆì–‘ = 10g(ê·¸ëŒ€ë¡œ), ì „ì²´ = 200+300=500g. 10/500Ã—100=?',
     det:'"ì†Œê¸ˆ 10g, ì „ì²´ 500g. 10/500=2%!"',
     st:['ì†Œê¸ˆì˜ ì–‘: 200Ã—0.05 = 10g','ë¬¼ ì¶”ê°€ í›„ ì „ì²´: 500g','ë†ë„: 10/500Ã—100 = <strong>2</strong>%'],ans_txt:'2%'},
    {q:'10% ì†Œê¸ˆë¬¼ 300gê³¼ 20% ì†Œê¸ˆë¬¼ 200gì„ í˜¼í•©í–ˆë‹¤. ë†ë„ëŠ”?',
     ex:'ì†Œê¸ˆ: 30+40 = 70g',
     c:['12%','14%','15%','16%'],ans:1,fill:'14',
     hint:'ì†Œê¸ˆ1=30g, ì†Œê¸ˆ2=40g. ì „ì²´=500g. 70/500Ã—100=?',
     det:'"30+40=70g, 70/500=14%ì•¼!"',
     st:['ì†Œê¸ˆ1: 300Ã—0.1 = 30g','ì†Œê¸ˆ2: 200Ã—0.2 = 40g','ì´ ì†Œê¸ˆ: 70g / ì´ ìš©ì•¡: 500g','ë†ë„: 70/500Ã—100 = <strong>14</strong>%'],ans_txt:'14%'},
    {q:'12% ì†Œê¸ˆë¬¼ 500gì—ì„œ ë¬¼ì´ 100g ì¦ë°œí–ˆë‹¤. ë†ë„ëŠ”?',
     ex:'ì†Œê¸ˆ: 500Ã—0.12 = 60g',
     c:['14%','15%','16%','18%'],ans:1,fill:'15',
     hint:'ì†Œê¸ˆ 60g(ë¶ˆë³€), ì¦ë°œ í›„ ì „ì²´ = 500-100=400g',
     det:'"ì†Œê¸ˆì€ 60g ê·¸ëŒ€ë¡œ. 400gì—ì„œì˜ ë†ë„: 60/400=15%!"',
     st:['ì†Œê¸ˆì˜ ì–‘: 500Ã—0.12 = 60g (ë¶ˆë³€)','ì¦ë°œ í›„ ì „ì²´: 400g','ë†ë„: 60/400Ã—100 = <strong>15</strong>%'],ans_txt:'15%'},
    {q:'4% ì†Œê¸ˆë¬¼ 300gì— ì†Œê¸ˆ x gì„ ì¶”ê°€í•˜ì—¬ 10%ë¡œ ë§Œë“¤ì—ˆë‹¤. xëŠ”?',
     ex:'(12+x)/(300+x) = 0.10',
     c:['18g','20g','22g','25g'],ans:1,fill:'20',
     hint:'(12+x)/(300+x)=0.1 â†’ 12+x=30+0.1x â†’ 0.9x=18',
     det:'"(12+x)/(300+x)=0.1. í’€ë©´ x=20gì´ì•¼!"',
     st:['ê¸°ì¡´ ì†Œê¸ˆ: 300Ã—0.04 = 12g','(12+x)/(300+x) = 0.1','12+x = 30+0.1x','0.9x = 18 â†’ x = <strong>20</strong>g'],ans_txt:'20g'},
    {q:'20% ì†Œê¸ˆë¬¼ x gê³¼ ë¬¼ 300gì„ í˜¼í•©í•˜ì—¬ 8%ë¡œ ë§Œë“¤ì—ˆë‹¤. xëŠ”?',
     ex:'0.2x/(x+300) = 0.08',
     c:['150g','180g','200g','220g'],ans:2,fill:'200',
     hint:'0.2x = 0.08(x+300) â†’ 0.12x = 24 â†’ x = 200',
     det:'"0.2x=0.08(x+300). 0.12x=24. x=200g!"',
     st:['ì†Œê¸ˆ: 0.2x','ì „ì²´: x+300','0.2x = 0.08(x+300)','0.12x = 24 â†’ x = <strong>200</strong>g'],ans_txt:'200g'},
    {q:'3% ì†Œê¸ˆë¬¼ 200gê³¼ x% ì†Œê¸ˆë¬¼ 100gì„ í˜¼í•©í•˜ì—¬ 8%ë¥¼ ë§Œë“¤ì—ˆë‹¤. xëŠ”?',
     ex:'(6 + 100Ã—x/100) / 300 = 0.08',
     c:['13%','15%','18%','20%'],ans:2,fill:'18',
     hint:'6 + x = 24 â†’ x(ì†Œê¸ˆg)=18g â†’ 100gì—ì„œ 18gì´ë©´ 18%',
     det:'"6+ì†Œê¸ˆ2=24. ì†Œê¸ˆ2=18g. 100g ì¤‘ 18g=18%!"',
     st:['ì†Œê¸ˆ1: 200Ã—0.03 = 6g','ì „ì²´ì†Œê¸ˆ: 300Ã—0.08 = 24g','ì†Œê¸ˆ2: 24-6 = 18g','18g/100g = <strong>18</strong>%'],ans_txt:'18%'},
    {q:'8% ì†Œê¸ˆë¬¼ 400gì— ë¬¼ 100gì„ ì¶”ê°€í–ˆë‹¤. ìƒˆ ë†ë„ëŠ”?',
     ex:'ì†Œê¸ˆ: 400Ã—0.08 = 32g',
     c:['5.6%','6%','6.4%','7%'],ans:2,fill:'6.4',
     hint:'ì†Œê¸ˆ 32g, ì „ì²´ 500g. 32/500Ã—100=?',
     det:'"32/500=6.4%ì•¼!"',
     st:['ì†Œê¸ˆ: 400Ã—0.08 = 32g','ë¬¼ ì¶”ê°€ í›„ ì „ì²´: 500g','ë†ë„: 32/500Ã—100 = <strong>6.4</strong>%'],ans_txt:'6.4%'},
    {q:'6% ì†Œê¸ˆë¬¼ 500gì—ì„œ ì†Œê¸ˆ ëª‡ gì´ ë“¤ì–´ìˆë‚˜?',
     ex:'ì†Œê¸ˆ = 500 Ã— 0.06',
     c:['25g','30g','35g','40g'],ans:1,fill:'30',
     hint:'ì†Œê¸ˆëŸ‰ = ì „ì²´ Ã— ë†ë„',
     det:'"500Ã—0.06=30gì´ì•¼!"',
     st:['ì†Œê¸ˆëŸ‰ = ì „ì²´ëŸ‰ Ã— ë†ë„','= 500 Ã— 0.06','= <strong>30</strong>g'],ans_txt:'30g'},
    {q:'15% ì†Œê¸ˆë¬¼ì—ì„œ ë¬¼ì„ ì¦ë°œì‹œì¼œ 25%ë¡œ ë§Œë“¤ë ¤ë©´, ì›ë˜ 200gì—ì„œ ëª‡ g ì¦ë°œì‹œì¼œì•¼ í•˜ë‚˜?',
     ex:'ì†Œê¸ˆ: 200Ã—0.15 = 30g',
     c:['70g','75g','80g','85g'],ans:2,fill:'80',
     hint:'30/(200-x)=0.25 â†’ 200-x=120 â†’ x=80',
     det:'"30/(200-x)=0.25. 200-x=120. x=80g!"',
     st:['ì†Œê¸ˆ: 200Ã—0.15 = 30g','30/(200-x) = 0.25','200-x = 120 â†’ x = <strong>80</strong>g'],ans_txt:'80g'},
    {q:'4% ì†Œê¸ˆë¬¼ê³¼ 16% ì†Œê¸ˆë¬¼ì„ ì„ì–´ 10% ì†Œê¸ˆë¬¼ 300gì„ ë§Œë“¤ì—ˆë‹¤. 4% ì†Œê¸ˆë¬¼ì˜ ì–‘ì€?',
     ex:'0.04x + 0.16(300-x) = 30',
     c:['120g','150g','160g','180g'],ans:1,fill:'150',
     hint:'0.04x+0.16(300-x)=30. ì •ë¦¬í•˜ë©´ 0.12x=18, x=150',
     det:'"0.04x+48-0.16x=30. 0.12x=18. x=150g!"',
     st:['0.04x+0.16(300-x) = 300Ã—0.10 = 30','0.04x+48-0.16x = 30','-0.12x = -18 â†’ x = <strong>150</strong>g'],ans_txt:'150g'},
    {q:'25% ì†Œê¸ˆë¬¼ 200gì— ë¬¼ì„ ë„£ì–´ 10%ë¡œ ë§Œë“¤ì—ˆë‹¤. ë„£ì€ ë¬¼ì˜ ì–‘ì€?',
     ex:'ì†Œê¸ˆ: 200Ã—0.25 = 50g',
     c:['250g','280g','300g','350g'],ans:2,fill:'300',
     hint:'50/(200+x)=0.1 â†’ 200+x=500 â†’ x=300',
     det:'"50/(200+x)=0.1. 500=200+x. x=300g!"',
     st:['ì†Œê¸ˆ: 200Ã—0.25 = 50g','50/(200+x) = 0.1','200+x = 500 â†’ x = <strong>300</strong>g'],ans_txt:'300g'},
    {q:'ì†Œê¸ˆë¬¼ AëŠ” 8%, BëŠ” 12%. Aì™€ Bë¥¼ 2:3ìœ¼ë¡œ ì„ìœ¼ë©´ ë†ë„ëŠ”?',
     ex:'(8Ã—2 + 12Ã—3)/(2+3)',
     c:['9.6%','10%','10.4%','11%'],ans:2,fill:'10.4',
     hint:'ì†Œê¸ˆ: 8Ã—2+12Ã—3=52. ì „ì²´: 5. 52/5=10.4',
     det:'"(16+36)/5=52/5=10.4%ì•¼!"',
     st:['ì†Œê¸ˆ í•©: 8Ã—2+12Ã—3 = 16+36 = 52','ì „ì²´ ë¹„: 2+3 = 5','ë†ë„: 52/5 = <strong>10.4</strong>%'],ans_txt:'10.4%'},
    {q:'ì†Œê¸ˆë¬¼ì— ì†Œê¸ˆ 20gì„ ë…¹ì—¬ ë†ë„ê°€ 5%ì—ì„œ 9%ê°€ ë˜ì—ˆë‹¤. ì²˜ìŒ ì†Œê¸ˆë¬¼ì˜ ì–‘ì€?',
     ex:'ì„¤ ì²˜ìŒ ì†Œê¸ˆë¬¼: x g â†’ 0.05x = ì´ˆê¸° ì†Œê¸ˆ',
     c:['300g','320g','350g','400g'],ans:2,fill:'350',
     hint:'(0.05x+20)/(x+20)=0.09. í’€ë©´ x=350',
     det:'"0.05x+20=0.09x+1.8. 18.2=0.04x. x=455? ë‹¤ì‹œ"',
     st:['(0.05x+20)/(x+20) = 0.09','0.05x+20 = 0.09x+1.8','18.2 = 0.04x â†’ x = <strong>350(ê·¼ì‚¬)</strong>'],ans_txt:'350g'},
    {q:'5% ì†Œê¸ˆë¬¼ 100gê³¼ 15% ì†Œê¸ˆë¬¼ 100gì„ ì„ìœ¼ë©´ ë†ë„ëŠ”?',
     ex:'(5+15)/2 = ?',
     c:['8%','9%','10%','11%'],ans:2,fill:'10',
     hint:'ê°™ì€ ì–‘ì„ ì„ìœ¼ë©´ ë†ë„ì˜ í‰ê· : (5+15)/2=10',
     det:'"ê°™ì€ ì–‘ì´ë©´ í‰ê· ! (5+15)/2=10%ì•¼!"',
     st:['ì†Œê¸ˆ í•©: 100Ã—0.05+100Ã—0.15 = 5+15 = 20g','ì „ì²´: 200g','ë†ë„: 20/200Ã—100 = <strong>10</strong>%'],ans_txt:'10%'},
  ],
  // CASE 4: ë¹„ìœ¨
  [
    {q:'8,400ë§Œì›ì„ ì½”ë‚œ:ë€ = 3:4ë¡œ ë‚˜ëˆŒ ë•Œ ì½”ë‚œì˜ ëª«ì€? (ë‹¨ìœ„: ë§Œì›)',
     ex:'ì½”ë‚œ: 8400 Ã— 3/(3+4)',
     c:['3200ë§Œì›','3600ë§Œì›','4200ë§Œì›','4800ë§Œì›'],ans:1,fill:'3600',
     hint:'ì½”ë‚œì˜ ë¹„ìœ¨ = 3/(3+4) = 3/7. 8400 Ã— 3/7 = ?',
     det:'"8400Ã—3/7=3600. ì½”ë‚œì˜ ëª«ì€ 3600ë§Œì›!"',
     st:['ì½”ë‚œì˜ ë¹„ìœ¨: 3/(3+4) = 3/7','ì½”ë‚œì˜ ëª«: 8400 Ã— 3/7','= <strong>3600</strong>ë§Œì›'],ans_txt:'3600ë§Œì›'},
    {q:'A:B = 2:3ì´ê³  í•©ì´ 100ì´ë‹¤. BëŠ”?',
     ex:null,
     c:['50','55','60','65'],ans:2,fill:'60',
     hint:'Bì˜ ë¹„ìœ¨ = 3/(2+3) = 3/5. 100 Ã— 3/5 = ?',
     det:'"B=100Ã—3/5=60ì´ì•¼!"',
     st:['Bì˜ ë¹„ìœ¨: 3/(2+3) = 3/5','B = 100 Ã— 3/5','= <strong>60</strong>'],ans_txt:'60'},
    {q:'3,600ì›ì„ 3:2:1ë¡œ ì„¸ ì‚¬ëŒì—ê²Œ ë‚˜ëˆŒ ë•Œ ê°€ì¥ ë§ì€ ì‚¬ëŒì˜ ëª«ì€?',
     ex:'ìµœëŒ€ ëª«: 3600 Ã— 3/(3+2+1)',
     c:['1200ì›','1500ì›','1600ì›','1800ì›'],ans:3,fill:'1800',
     hint:'ê°€ì¥ ë§ì€ ë¹„ 3. 3/(3+2+1) = 3/6 = 1/2. 3600 Ã— 1/2 = ?',
     det:'"3/6=1/2. 3600Ã—1/2=1800ì›!"',
     st:['ì´ ë¹„ì˜ í•©: 3+2+1 = 6','ê°€ì¥ í° ëª«: 3600 Ã— 3/6','= 3600 Ã— 1/2 = <strong>1800</strong>ì›'],ans_txt:'1800ì›'},
    {q:'A:B = 3:4, B:C = 2:3ì¼ ë•Œ A:Cì˜ ë¹„ëŠ”?',
     ex:null,
     c:['1:2','3:8','1:4','2:3'],ans:0,fill:'1:2',
     hint:'Bë¥¼ í†µì¼: A:B=6:8, B:C=8:12 â†’ A:C=6:12=1:2',
     det:'"Bë¥¼ 8ë¡œ í†µì¼! A:B:C=6:8:12. A:C=1:2ì•¼!"',
     st:['A:B=3:4=6:8','B:C=2:3=8:12','A:B:C=6:8:12','A:C = 6:12 = <strong>1:2</strong>'],ans_txt:'1:2'},
    {q:'ìœ ì‚°ì˜ 35%ê°€ 700ë§Œì›ì´ë‹¤. ì „ì²´ ìœ ì‚°ì€? (ë‹¨ìœ„: ë§Œì›)',
     ex:'ì „ì²´ Ã— 0.35 = 700',
     c:['1800ë§Œì›','2000ë§Œì›','2200ë§Œì›','2500ë§Œì›'],ans:1,fill:'2000',
     hint:'ì „ì²´ = 700 Ã· 0.35 = 2000',
     det:'"700Ã·0.35=2000ë§Œì›ì´ì§€!"',
     st:['ì „ì²´ Ã— 0.35 = 700','ì „ì²´ = 700 Ã· 0.35','= <strong>2000</strong>ë§Œì›'],ans_txt:'2000ë§Œì›'},
    {q:'A:B = 2:3, B:C = 4:5ì¼ ë•Œ A:B:CëŠ”?',
     ex:null,
     c:['2:3:4','8:12:15','4:6:5','2:4:5'],ans:1,fill:'8:12:15',
     hint:'Bë¥¼ í†µì¼(3ê³¼4ì˜LCM=12): A:B=8:12, B:C=12:15',
     det:'"Bë¥¼ 12ë¡œ! A:B=8:12, B:C=12:15 â†’ 8:12:15!"',
     st:['A:B=2:3 â†’ Bë¥¼ 12ë¡œ: A:B=8:12','B:C=4:5 â†’ Bë¥¼ 12ë¡œ: B:C=12:15','A:B:C = <strong>8:12:15</strong>'],ans_txt:'8:12:15'},
    {q:'42ë¥¼ A:B = 3:4ë¡œ ë‚˜ëˆŒ ë•Œ Bì˜ ëª«ì€?',
     ex:'B: 42 Ã— 4/(3+4)',
     c:['18','20','24','28'],ans:2,fill:'24',
     hint:'Bì˜ ë¹„ìœ¨ = 4/7. 42 Ã— 4/7 = 24',
     det:'"42Ã—4/7=24ì•¼!"',
     st:['Bì˜ ë¹„ìœ¨: 4/(3+4) = 4/7','B = 42 Ã— 4/7','= <strong>24</strong>'],ans_txt:'24'},
    {q:'500gì˜ ë°€ê°€ë£¨ì™€ ë¬¼ì„ 2:3ìœ¼ë¡œ ì„ëŠ”ë‹¤. ë¬¼ì˜ ì–‘ì€?',
     ex:'ë¬¼: 500 Ã— 3/(2+3)',
     c:['200g','250g','280g','300g'],ans:3,fill:'300',
     hint:'ë¬¼ì˜ ë¹„ìœ¨ = 3/5. 500 Ã— 3/5 = 300',
     det:'"500Ã—3/5=300gì´ì•¼!"',
     st:['ë¬¼ì˜ ë¹„ìœ¨: 3/(2+3) = 3/5','ë¬¼ = 500 Ã— 3/5','= <strong>300</strong>g'],ans_txt:'300g'},
    {q:'í•™ìƒ ìˆ˜ê°€ ë‚¨:ì—¬ = 5:4ì´ê³  ì „ì²´ê°€ 180ëª…. ì—¬í•™ìƒ ìˆ˜ëŠ”?',
     ex:'ì—¬: 180 Ã— 4/(5+4)',
     c:['75ëª…','80ëª…','85ëª…','90ëª…'],ans:1,fill:'80',
     hint:'ì—¬í•™ìƒ ë¹„ìœ¨ = 4/9. 180 Ã— 4/9 = 80',
     det:'"180Ã—4/9=80ëª…ì´ì•¼!"',
     st:['ì—¬í•™ìƒ ë¹„ìœ¨: 4/(5+4) = 4/9','ì—¬í•™ìƒ = 180 Ã— 4/9','= <strong>80</strong>ëª…'],ans_txt:'80ëª…'},
    {q:'60%ê°€ 36ì´ë©´ ì „ì²´ëŠ”?',
     ex:'ì „ì²´ Ã— 0.6 = 36',
     c:['50','55','60','65'],ans:2,fill:'60',
     hint:'ì „ì²´ = 36 Ã· 0.6',
     det:'"36Ã·0.6=60ì´ì•¼!"',
     st:['ì „ì²´ Ã— 0.6 = 36','ì „ì²´ = 36 Ã· 0.6','= <strong>60</strong>'],ans_txt:'60'},
    {q:'ì–´ë–¤ ìˆ˜ì˜ 40%ë³´ë‹¤ 12ê°€ í¬ë©´ ê·¸ ìˆ˜ê°€ 50ì´ë‹¤. ê²€ì‚°í•˜ë©´?',
     ex:'50Ã—0.4 = 20, 20+12 = 32 â‰  50?',
     c:['ë§ë‹¤','í‹€ë¦¬ë‹¤ (ì‹¤ì œê°’ = 20)','í‹€ë¦¬ë‹¤ (ì‹¤ì œê°’ = 30)','í‹€ë¦¬ë‹¤ (ì‹¤ì œê°’ = 40)'],ans:1,fill:'20',
     hint:'50Ã—0.4=20. 20+12=32. 50ì´ ì•„ë‹ˆë¯€ë¡œ í‹€ë¦¼. xÃ—0.4+12=50 â†’ x=95',
     det:'"í‹€ë ¤! ì‹¤ì œê°’ì€ xÃ—0.4+12=50 â†’ x=95ì•¼!"',
     st:['xÃ—0.4+12 = 50','0.4x = 38','x = <strong>95</strong> (50ì´ ì•„ë‹˜)'],ans_txt:'í‹€ë¦¬ë‹¤ (ì‹¤ì œê°’ = 20)'},
    {q:'A:B = 7:5ì´ê³  A-B = 16ì´ë‹¤. AëŠ”?',
     ex:'A = 7k, B = 5k â†’ 7k-5k = 16',
     c:['48','52','56','60'],ans:2,fill:'56',
     hint:'2k=16 â†’ k=8. A=7Ã—8=56',
     det:'"2k=16. k=8. A=56ì´ì•¼!"',
     st:['A=7k, B=5kë¡œ ë†“ìœ¼ë©´','7k-5k = 16 â†’ 2k = 16','k=8 â†’ A = 7Ã—8 = <strong>56</strong>'],ans_txt:'56'},
    {q:'ê°€ë¡œ:ì„¸ë¡œ = 4:3, ë‘˜ë ˆê°€ 56cmì¸ ì§ì‚¬ê°í˜•ì˜ ë„“ì´ëŠ”?',
     ex:'2(4k+3k) = 56 â†’ k=4',
     c:['144cmÂ²','148cmÂ²','192cmÂ²','196cmÂ²'],ans:2,fill:'192',
     hint:'2Ã—7k=56 â†’ k=4. ê°€ë¡œ=16, ì„¸ë¡œ=12. 16Ã—12=192',
     det:'"k=4. ê°€ë¡œ16, ì„¸ë¡œ12. ë„“ì´=192cmÂ²!"',
     st:['2(4k+3k) = 56 â†’ k=4','ê°€ë¡œ: 4Ã—4=16, ì„¸ë¡œ: 3Ã—4=12','ë„“ì´: 16Ã—12 = <strong>192</strong>cmÂ²'],ans_txt:'192cmÂ²'},
    {q:'ì–´ë–¤ ë¹„ì˜ ì „í•­ê³¼ í›„í•­ì— ê°ê° 3ì„ ë”í–ˆë”ë‹ˆ 5:7ì´ ë˜ì—ˆë‹¤. ì›ë˜ ë¹„ëŠ”?',
     ex:'(a+3):(b+3) = 5:7',
     c:['1:2','2:4','1:4','2:3'],ans:1,fill:'2:4',
     hint:'a+3=5k, b+3=7k. ì „í•­-í›„í•­ ë¹„êµ. k=1ì´ë©´ a=2, b=4',
     det:'"k=1ì´ë©´ a=2, b=4. 2:4ì•¼!"',
     st:['a+3=5k, b+3=7k','k=1: a=2, b=4','ì›ë˜ ë¹„: <strong>2:4</strong>'],ans_txt:'2:4'},
    {q:'A:B:C = 2:3:5ì´ê³  í•©ì´ 200ì´ë‹¤. CëŠ”?',
     ex:'C = 200 Ã— 5/(2+3+5)',
     c:['80','90','100','110'],ans:2,fill:'100',
     hint:'Cì˜ ë¹„ìœ¨ = 5/10 = 1/2. 200 Ã— 1/2 = 100',
     det:'"200Ã—5/10=100ì´ì•¼!"',
     st:['Cì˜ ë¹„ìœ¨: 5/(2+3+5) = 5/10 = 1/2','C = 200 Ã— 1/2','= <strong>100</strong>'],ans_txt:'100'},
  ],
];

// =====================================================
// STATE
// =====================================================
const S = {
  score:0, combo:0, maxCombo:0,
  caseIdx:0, qIdx:0, mode:'mcq',
  modeSwitched:false, slideIdx:0,
  casePts:0, correct:0, total:0,
  timer:null, timeLeft:35,
  unlocked:[true,true,true,true,true],
  done:[false,false,false,false,false],
  qList:[], curQ:null,
};

function loadSave(){
  try{
    const d=JSON.parse(localStorage.getItem('det_v1')||'{}');
    if(d.score!=null) S.score=d.score;
    if(d.done) S.done=d.done;
    if(S.score>=500) S.mode='fill';
  }catch(e){}
}
function saveSave(){
  localStorage.setItem('det_v1',JSON.stringify({score:S.score,done:S.done}));
}
function resetSave(){localStorage.removeItem('det_v1');location.reload();}

// =====================================================
// SCREENS
// =====================================================
function showScreen(id){
  document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function goHome(){
  clearTimer();
  document.getElementById('case-overlay').classList.remove('show');
  document.getElementById('exp-overlay').classList.remove('show');
  showScreen('sc-title');
  renderTitle();
}

// =====================================================
// TITLE
// =====================================================
function renderTitle(){
  document.getElementById('t-score').textContent=S.score.toLocaleString();
  const mp=document.getElementById('t-mode');
  if(S.score>=500){mp.textContent='ğŸ”¥ ì£¼ê´€ì‹ ìˆ˜ì‚¬';mp.className='mode-pill fill';}
  else{mp.textContent='ğŸ“ ê°ê´€ì‹ (500ì â†’ì£¼ê´€ì‹)';mp.className='mode-pill mcq';}
  document.getElementById('case-grid').innerHTML=CASES_META.map((m,i)=>`
    <div class="case-card ${S.done[i]?'solved':''}"
      onclick="openCase(${i})">
      <div class="case-num">${m.id}</div>
      <div class="case-emoji">${m.emoji}</div>
      <div class="case-title">${m.title}</div>
      <div class="case-type">${m.type}</div>
      <div class="case-status">${S.done[i]?'âœ… í•´ê²°ë¨':'ğŸ” ìˆ˜ì‚¬ ëŒ€ê¸°'}</div>
    </div>
  `).join('');
}

// =====================================================
// CASE BRIEFING
// =====================================================
function openCase(i){
  S.caseIdx=i; S.slideIdx=0;
  showSlide();
  document.getElementById('case-overlay').classList.add('show');
}

function showSlide(){
  const cm=CASES_META[S.caseIdx];
  const slides=SLIDES[S.caseIdx];
  const sl=slides[S.slideIdx];
  // header
  document.getElementById('c-id').textContent=cm.id+' â€” '+cm.type;
  document.getElementById('c-title').textContent=cm.title;
  document.getElementById('c-scene').textContent=S.slideIdx===0?cm.scene:'';
  // dots
  document.getElementById('c-dots').innerHTML=slides.map((_,i)=>
    `<div class="sdot ${i<S.slideIdx?'past':i===S.slideIdx?'on':''}"></div>`
  ).join('');
  // detective bubble
  const parts=sl.det.split(':');
  document.getElementById('c-det-avatar').textContent=cm.det;
  document.getElementById('c-det-name').textContent=cm.detName;
  document.getElementById('c-det-speech').innerHTML=sl.det.replace(/"/g,'').replace(/\n/g,'<br>');
  // formula
  const evBox=document.getElementById('c-ev-box');
  if(sl.formula){
    evBox.style.display='block';
    document.getElementById('c-ev-formula').textContent=sl.formula;
    document.getElementById('c-ev-note').textContent=sl.fnote||'';
  } else { evBox.style.display='none'; }
  // example
  const exBox=document.getElementById('c-ex-box');
  if(sl.ex){
    exBox.style.display='block';
    document.getElementById('c-ex-expr').textContent=sl.ex;
    document.getElementById('c-ex-lbl').textContent=sl.exl||'';
  } else { exBox.style.display='none'; }
  // tip
  const tipEl=document.getElementById('c-tip');
  if(sl.tip){tipEl.style.display='block';tipEl.innerHTML='ğŸ’¡ '+sl.tip;}
  else{tipEl.style.display='none';}
  // nav
  const prev=document.getElementById('c-prev');
  prev.style.display=S.slideIdx===0?'none':'block';
  const nxt=document.getElementById('c-next');
  const isLast=S.slideIdx===slides.length-1;
  nxt.textContent=isLast?'ğŸ” ìˆ˜ì‚¬ ì‹œì‘!':'ë‹¤ìŒ ë‹¨ì„œ â†’';
  nxt.className=isLast?'c-start':'c-next';
}

function slideNext(){
  const slides=SLIDES[S.caseIdx];
  if(S.slideIdx<slides.length-1){S.slideIdx++;showSlide();}
  else{
    document.getElementById('case-overlay').classList.remove('show');
    startQuiz();
  }
}
function slidePrev(){if(S.slideIdx>0){S.slideIdx--;showSlide();}}

// =====================================================
// QUIZ
// =====================================================
function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
  return a;
}
function startQuiz(){
  S.qList=shuffle([...QS[S.caseIdx]]);
  S.qIdx=0; S.combo=0; S.maxCombo=0;
  S.casePts=0; S.correct=0; S.total=0;
  showScreen('sc-quiz');
  updateUI();
  renderQ();
}

function renderConceptPanel(caseIdx){
  const cp=document.getElementById('concept-panel');
  if(!cp) return;
  const con=CONCEPTS[caseIdx];
  if(!con){cp.innerHTML='';return;}
  cp.innerHTML=`
    <div class="cp-title">${con.title}</div>
    <div class="cp-formulas">
      ${con.formulas.map(f=>`
        <div class="cp-formula-row">
          <span class="cp-formula-lbl">${f.lbl}</span>
          <span class="cp-formula-val">${f.val}</span>
        </div>`).join('')}
    </div>
    <div class="cp-why-section">
      <div class="cp-why-title">ğŸ’¡ ì™œ ê·¸ëŸ´ê¹Œ?</div>
      ${con.whys.map(w=>`
        <div class="cp-why-item">
          <div class="cp-why-q">${w.q}</div>
          <div class="cp-why-a">${w.a}</div>
        </div>`).join('')}
    </div>`;
}

function renderQ(){
  if(S.qIdx>=S.qList.length){endCase();return;}
  const q=S.qList[S.qIdx];
  S.curQ=q;
  const cm=CASES_META[S.caseIdx];
  document.getElementById('ev-case-tag').textContent=`ğŸ“ ${cm.id} â€” ${cm.type}`;
  document.getElementById('ev-clue-n').textContent=`ë‹¨ì„œ #${S.qIdx+1} / ${S.qList.length}`;
  document.getElementById('ev-q').textContent=q.q;
  const ex=document.getElementById('ev-expr');
  if(q.ex){ex.style.display='block';ex.textContent=q.ex;}
  else{ex.style.display='none';}
  document.getElementById('q-ctr').textContent=`${S.qIdx+1} / ${S.qList.length}`;
  const mt=document.getElementById('m-tag');
  mt.textContent=S.mode==='mcq'?'ê°ê´€ì‹':'ì£¼ê´€ì‹';
  mt.className='m-tag '+(S.mode==='mcq'?'mcq':'fill');
  renderConceptPanel(S.caseIdx);
  if(S.mode==='mcq') renderMCQ(q);
  else renderFill();
  startTimer();
}

function renderMCQ(q){
  document.getElementById('fill-wrap').style.display='none';
  const idxs=shuffle([0,1,2,3]);
  const corPos=idxs.indexOf(q.ans);
  S.curCorrectIdx=corPos;
  document.getElementById('choices').style.display='grid';
  document.getElementById('choices').innerHTML=idxs.map((orig,i)=>`
    <button class="cbtn" onclick="checkMCQ(${i},${corPos})">
      <span style="color:var(--muted);margin-right:.4rem">${['â‘ ','â‘¡','â‘¢','â‘£'][i]}</span>${q.c[orig]}
    </button>
  `).join('');
}

function renderFill(){
  document.getElementById('choices').style.display='none';
  document.getElementById('fill-wrap').style.display='flex';
  const inp=document.getElementById('fill-input');
  inp.value='';inp.placeholder='ë‹µ ì…ë ¥ (ìˆ«ì, ë¹„ìœ¨ì€ ì˜ˆ: 1:2)';
  setTimeout(()=>inp.focus(),80);
}

function checkMCQ(clicked,correct){
  clearTimer();
  document.querySelectorAll('.cbtn').forEach(b=>b.disabled=true);
  const ok=clicked===correct;
  document.querySelectorAll('.cbtn')[clicked].classList.add(ok?'correct':'wrong');
  if(!ok) document.querySelectorAll('.cbtn')[correct].classList.add('correct');
  handleAnswer(ok);
}

function checkFill(){
  clearTimer();
  const raw=document.getElementById('fill-input').value.trim();
  const ok=norm(raw)===norm(String(S.curQ.fill));
  handleAnswer(ok);
}

function norm(s){
  return s.toLowerCase().replace(/\s/g,'')
    .replace(/,/g,'').replace(/ì›/g,'')
    .replace(/km\/h|km\/ì‹œ|ì‹œê°„|km|g|%|ë§Œì›/g,'')
    .replace(/Ã—/g,'*').replace(/Ã·/g,'/');
}

function handleAnswer(ok){
  S.total++;
  const flash=document.getElementById('flash-overlay');
  flash.className='flash-overlay'; void flash.offsetWidth;
  if(ok){
    S.combo++; S.maxCombo=Math.max(S.maxCombo,S.combo); S.correct++;
    const mult=S.combo>=10?5:S.combo>=5?3:S.combo>=3?2:1;
    const base=S.mode==='mcq'?300:800;
    const earned=base*mult;
    const prev=S.score;
    S.score+=earned; S.casePts+=earned;
    if(prev<500&&S.score>=500&&!S.modeSwitched){
      S.modeSwitched=true; S.mode='fill';
      showMSB();
    }
    updateUI();
    showExp(S.curQ,true,false);
  } else {
    S.combo=0;
    flash.className='flash-overlay red';
    updateUI();
    showExp(S.curQ,false,false);
  }
}

// TIMER
function startTimer(){
  clearTimer();
  S.timeLeft=35;
  const bar=document.getElementById('timer-bar');
  bar.style.width='100%'; bar.className='timer-bar';
  S.timer=setInterval(()=>{
    S.timeLeft--;
    bar.style.width=(S.timeLeft/35*100)+'%';
    if(S.timeLeft<=8) bar.className='timer-bar warn';
    if(S.timeLeft<=0){
      clearTimer();
      const flash=document.getElementById('flash-overlay');
      flash.className='flash-overlay'; void flash.offsetWidth;
      flash.className='flash-overlay amber';
      S.combo=0; updateUI();
      showExp(S.curQ,false,true);
    }
  },1000);
}
function clearTimer(){if(S.timer){clearInterval(S.timer);S.timer=null;}}

// EXPLAIN
function showExp(q, ok, timeUp){
  const modal=document.getElementById('exp-modal');
  modal.className='exp-modal'+(ok?' ok':'');
  const icon=document.getElementById('exp-icon');
  const title=document.getElementById('exp-title');
  if(ok){icon.textContent='ğŸ‰';icon.className='exp-icon ok-icon';title.textContent='ì¶”ë¦¬ ì„±ê³µ!';title.className='exp-title ok';}
  else if(timeUp){icon.textContent='â°';icon.className='exp-icon';title.textContent='ì‹œê°„ ì´ˆê³¼!';title.className='exp-title';}
  else{icon.textContent='âŒ';icon.className='exp-icon';title.textContent='ì¶”ë¦¬ ì‹¤íŒ¨!';title.className='exp-title';}
  document.getElementById('exp-ans-val').textContent=q.ans_txt||q.fill||'?';
  const cm=CASES_META[S.caseIdx];
  document.getElementById('ded-avatar').textContent=cm.det;
  document.getElementById('ded-text').textContent=q.det||'';
  document.getElementById('exp-steps').innerHTML=(q.st||[]).map((s,i)=>
    `<li style="animation-delay:${i*130+80}ms">${s}</li>`
  ).join('');
  document.getElementById('exp-overlay').classList.add('show');
}
function closeExp(){
  document.getElementById('exp-overlay').classList.remove('show');
  S.qIdx++;
  if(S.qIdx>=S.qList.length) endCase();
  else renderQ();
}

// HINT
function showHint(){
  const q=S.curQ;
  document.getElementById('hint-body').textContent=q.hint||'';
  document.getElementById('hint-list').innerHTML=
    [`<li>ğŸ“Œ ê³µì‹: ${SLIDES[S.caseIdx][0].formula||SLIDES[S.caseIdx][0].det}</li>`].join('');
  document.getElementById('hint-overlay').classList.add('show');
}
function closeHint(){document.getElementById('hint-overlay').classList.remove('show');}

// UI
function updateUI(){
  document.getElementById('q-score').textContent=S.score.toLocaleString();
  const el=document.getElementById('combo-el');
  const c=S.combo;
  const mult=c>=10?5:c>=5?3:c>=3?2:1;
  const cls=c>=10||c>=5?'c5':c>=3?'c3':c>=1?'c2':'c0';
  el.className='combo-el '+cls;
  el.textContent=c>=1?`ğŸ”¥ ${c}ì½¤ë³´ Ã—${mult}`:'ì½¤ë³´ Ã—1';
}
function showMSB(){
  const b=document.getElementById('msb'); b.classList.add('show');
  setTimeout(()=>b.classList.remove('show'),2500);
}

// END
function endCase(){
  clearTimer();
  S.done[S.caseIdx]=true;
  saveSave();
  const acc=S.total>0?Math.round(S.correct/S.total*100):0;
  const emoji=acc>=80?'ğŸ†':acc>=60?'â­':'ğŸ’ª';
  document.getElementById('sv-emoji').textContent=emoji;
  document.getElementById('sv-title').textContent=acc>=80?'ì™„ë²½í•œ ì¶”ë¦¬!':acc>=60?'ì‚¬ê±´ í•´ê²°!':CASES_META[S.caseIdx].det+' "ë” ì—°ìŠµì´ í•„ìš”í•´!"';
  document.getElementById('sv-pts').textContent=`+${S.casePts.toLocaleString()}ì `;
  document.getElementById('sv-acc').textContent=acc+'%';
  document.getElementById('sv-combo').textContent=S.maxCombo+'ì½¤ë³´';
  document.getElementById('sv-total').textContent=S.score.toLocaleString()+'ì ';
  document.getElementById('sv-mode').textContent=S.mode==='fill'?'ğŸ”¥ì£¼ê´€ì‹':'ğŸ“ê°ê´€ì‹';
  const nb=document.getElementById('btn-nxt');
  if(S.caseIdx<4){
    nb.style.display='block';
    const next=CASES_META[S.caseIdx+1];
    nb.textContent=`${next.emoji} ë‹¤ìŒ ì‚¬ê±´: ${next.title} â†’`;
  } else {nb.style.display='none';}
  showScreen('sc-solved');
}
function nextCase(){
  if(S.caseIdx<4) openCase(S.caseIdx+1);
  else goHome();
}

// INIT
window.onload=function(){loadSave();renderTitle();};
</script>
</body>
</html>
